!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="98bc5566-addb-4728-8331-40dbd1ba40c9",e._sentryDebugIdIdentifier="sentry-dbid-98bc5566-addb-4728-8331-40dbd1ba40c9")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9124],{2409:(e,t,a)=>{a.d(t,{L:()=>d});var r=a(32144),n=a(80251),s=a(73969),o=a(40807),i=a(20081);async function l(e,t){let{connectionId:a}=e,{data:r,error:n}=await (0,o.yH)("/platform/integrations/github/connections/{connection_id}",{params:{path:{connection_id:String(a)}},signal:t});return n&&(0,o.H4)(n),r}let d=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(0,r.jE)();return(0,n.n)(e=>l(e),{async onSuccess(t,a,r){await Promise.all([o.invalidateQueries(i.Z.githubConnectionsList(a.organizationId))]),await (null==e?void 0:e(t,a,r))},async onError(e,a,r){void 0===t?s.oR.error("Failed to delete Github connection: ".concat(e.message)):t(e,a,r)},...a})}},9574:(e,t,a)=>{a.d(t,{A:()=>L});var r=a(80263),n=a(53239),s=a(73969),o=a(43718),i=a(63720),l=a(68375),d=a(32144),c=a(80251),u=a(40807),m=a(20081);async function h(e){let{connection:t}=e,{data:a,error:r}=await (0,u.bE)("/platform/integrations/github/connections",{body:t});return r&&(0,u.H4)(r),a}let p=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,d.jE)();return(0,c.n)(e=>h(e),{async onSuccess(t,a,n){await Promise.all([r.invalidateQueries(m.Z.githubConnectionsList(a.organizationId))]),await (null==e?void 0:e(t,a,n))},async onError(e,a,r){void 0===t?s.oR.error("Failed to create Github connection: ".concat(e.message)):t(e,a,r)},...a})};var f=a(2409),g=a(68215),x=a(56947);async function y(e){let{data:t,error:a}=await (0,u.Jt)("/platform/integrations/github/repositories",{signal:e});return a&&(0,u.H4)(a),t.repositories}let b=function(){let{enabled:e=!0,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,x.I)(m.Z.githubRepositoriesList(),e=>{let{signal:t}=e;return y(t)},{enabled:e,staleTime:0,...t})};var v=a(84438),j=a(34969),w=a(9953),N=a(47328),I=a(60753),_=a(35212),A=a(71126);let S=(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 98 96",className:"w-6",children:(0,r.jsx)("path",{fill:"#ffffff",fillRule:"evenodd",d:"M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z",clipRule:"evenodd"})}),L=e=>{let{projectRef:t}=e,a=(0,j.a)(),d=(0,I.bZ)(),c=d.githubConnectionsOpen,{data:u,isLoading:m}=(0,l.m)({enabled:c}),{data:h,isLoading:x}=b({enabled:c&&!!u}),{data:y,isLoading:L}=(0,v.el)({enabled:c}),O=(0,n.useMemo)(()=>{var e;return null!=(e=null==y?void 0:y.filter(e=>e.organization_id===(null==a?void 0:a.id)).map(e=>({name:e.name,ref:e.ref})))?e:N.Oj},[null==a?void 0:a.id,y]),C=(0,n.useMemo)(()=>{var e;return null!=(e=null==h?void 0:h.map(e=>({id:e.id.toString(),name:e.name,installation_id:e.installation_id})))?e:N.Oj},[h]),{data:z}=(0,g.O)({organizationId:null==a?void 0:a.id},{enabled:c}),{mutate:k,isLoading:F}=p({onSuccess(){s.oR.success("Successfully linked project to repository!"),d.setGithubConnectionsOpen(!1)}}),{mutateAsync:R}=(0,f.L)(),P=async e=>{if(!(null==a?void 0:a.id))throw Error("No organization id");if(!e.new)throw Error("No new connection");let r=null==z?void 0:z.find(e=>e.project.ref===t);if(r)try{await R({organizationId:a.id,connectionId:r.id})}catch(e){}k({organizationId:a.id,connection:e.new})};return(0,r.jsx)(_.Ay,{header:"Add GitHub repository",size:"large",visible:c,hideFooter:!0,onCancel:()=>d.setGithubConnectionsOpen(!1),"data-sentry-element":"SidePanel","data-sentry-component":"SidePanelGitHubRepoLinker","data-sentry-source-file":"SidePanelGitHubRepoLinker.tsx",children:(0,r.jsx)("div",{className:"py-10 flex flex-col gap-6 bg-studio h-full",children:(0,r.jsxs)(_.Ay.Content,{className:"flex flex-col gap-4","data-sentry-element":"unknown","data-sentry-source-file":"SidePanelGitHubRepoLinker.tsx",children:[(0,r.jsx)(i.o,{content:"\n### Choose repository to connect to\n\nYour access to repositories depends on your GitHub x Supabase integration setup. You can access repositories that you own, those where you're a collaborator, and those available through organizations you're a member of. Access is determined by both your personal installation and any installations made by the organizations you belong to.\n          ","data-sentry-element":"Markdown","data-sentry-source-file":"SidePanelGitHubRepoLinker.tsx"}),null===u?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center mt-8 relative border rounded-lg p-12 bg shadow px-20s",children:[(0,r.jsx)("p",{className:"text-sm text-center",children:"Connect your Supabase projects with your GitHub repositories"}),(0,r.jsx)("p",{className:"text-sm text-center text-foreground-light",children:"Authorize with GitHub to retrieve your GitHub repositories"}),(0,r.jsx)(A.$,{className:"w-min mt-3",onClick:()=>{(0,w.Fd)("authorize")},children:"Authorize GitHub"})]}):(0,r.jsx)(o.A,{defaultSupabaseProjectRef:t,foreignProjects:C,supabaseProjects:O,onCreateConnections:P,isLoading:F,loadingForeignProjects:x,loadingSupabaseProjects:L,integrationIcon:S,choosePrompt:"Choose GitHub Repo",showNoEntitiesState:!1,mode:"GitHub"})]})})})}},12708:(e,t,a)=>{a.d(t,{G:()=>b});var r=a(32981),n=a(60045),s=a(32144),o=a(87494),i=a(73969),l=a(39353),d=a(19898),c=a(82951),u=a(98047),m=a(77227),h=a(95319),p=a(53849),f=a(34969),g=a(74725),x=a(64036);let y=l.Ik({aiOptInLevel:l.k5(["disabled","schema","schema_and_log","schema_and_log_and_data"],{required_error:"AI Opt-in level selection is required"})}),b=e=>{let t=(0,s.jE)(),a=(0,f.a)(),l=(0,m.SE)(n.aG.UPDATE,"organizations"),b=(0,g._)("useBedrockAssistant"),[v,j]=(0,h.U)(d.rS.AI_ASSISTANT_MCP_OPT_IN,!1),w=(0,g._)("newOrgAiOptIn"),{mutate:N,isLoading:I}=(0,c.N)();return{form:(0,o.mN)({resolver:(0,r.u)(y),defaultValues:{aiOptInLevel:(0,p.RO)(null==a?void 0:a.opt_in_tags)}}),onSubmit:async r=>{var n;if(!l)return i.oR.error("You do not have the required permissions to update this organization");if(!(null==a?void 0:a.slug))return console.error("Organization slug is required"),i.oR.error("Failed to update settings: Organization not found.");let s=null!=(n=null==a?void 0:a.opt_in_tags)?n:[];if(b){let n=s.filter(e=>{var t,a;return e!==x.W2.AI_SQL&&e!==(null!=(t=x.W2.AI_DATA)?t:"AI_DATA")&&e!==(null!=(a=x.W2.AI_LOG)?a:"AI_LOG")});("schema"===r.aiOptInLevel||"schema_and_log"===r.aiOptInLevel||"schema_and_log_and_data"===r.aiOptInLevel)&&n.push(x.W2.AI_SQL),("schema_and_log"===r.aiOptInLevel||"schema_and_log_and_data"===r.aiOptInLevel)&&n.push(x.W2.AI_LOG),"schema_and_log_and_data"===r.aiOptInLevel&&n.push(x.W2.AI_DATA),n=[...new Set(n)],N({slug:a.slug,opt_in_tags:n},{onSuccess:()=>{(0,u.Ul)(t),i.oR.success("Successfully updated AI opt-in settings"),j(!0),null==e||e()},onError:e=>{i.oR.error("Failed to update settings: ".concat(e.message))}})}else{let n="schema"===r.aiOptInLevel?[x.W2.AI_SQL]:[];N({slug:a.slug,opt_in_tags:n},{onSuccess:()=>{(0,u.Ul)(t),i.oR.success("Successfully updated AI opt-in settings"),j(!0),null==e||e()},onError:e=>{i.oR.error("Failed to update settings: ".concat(e.message))}})}},isUpdating:I,currentOptInLevel:w?(0,p.RO)(null==a?void 0:a.opt_in_tags):"disabled"}}},22195:(e,t,a)=>{a.d(t,{Et:()=>d,d0:()=>l,jc:()=>i});var r=a(80263),n=a(72309),s=a(53239),o=a(51859);let i=n.bL,l=n.l9,d=s.forwardRef((e,t)=>{let{className:a,align:s="center",animate:i="zoom-in",sideOffset:l=4,...d}=e;return(0,r.jsx)(n.ZL,{children:(0,r.jsx)(n.UC,{ref:t,align:s,sideOffset:l,className:(0,o.cn)("z-50 w-64 rounded-md border bg-overlay p-4 text-popover-foreground shadow-md outline-none","zoom-in"===i?"animate-in zoom-in-[99%]":"animate-in fade-in-50 data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1",a),...d})})});d.displayName=n.UC.displayName},29297:(e,t,a)=>{a.d(t,{CU:()=>d,Dv:()=>c,z6:()=>l});var r=a(80263),n=a(72342),s=a(3677),o=a(53239),i=a(51859);let l=o.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.bL,{className:(0,i.cn)("grid gap-2",a),...s,ref:t})});l.displayName=n.bL.displayName;let d=o.forwardRef((e,t)=>{let{className:a,children:o,...l}=e;return(0,r.jsx)(n.q7,{ref:t,className:(0,i.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...l,children:(0,r.jsx)(n.C1,{className:"flex items-center justify-center",children:(0,r.jsx)(s.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});d.displayName=n.q7.displayName;let c=o.forwardRef((e,t)=>{let{image:a,label:s,showIndicator:o=!0,...l}=e;return(0,r.jsxs)(n.q7,{ref:t,...l,className:(0,i.cn)("flex flex-col gap-2","w-48","bg-surface-200","rounded-md border border-strong","p-2","shadow-sm","hover:border-stronger hover:bg-surface-300","data-[state=checked]:border-primary","data-[state=checked]:ring-1 data-[state=checked]:ring-border","data-[state=checked]:bg-selection data-[state=checked]:border-foreground","transition-colors","group",l.className),children:[l.children,(0,r.jsxs)("div",{className:"flex gap-2 w-full",children:[o&&(0,r.jsxs)("div",{className:"relative w-3 h-3 min-w-3 mt-0.5",children:[(0,r.jsx)(n.C1,{className:(0,i.cn)("absolute","w-[10px] h-[10px]","left-[1px] top-[1px]","border border-background-surface-300","rounded-full","data-[state=checked]:border-background-surface-300","data-[state=checked]:ring-foreground","data-[state=checked]:bg-foreground")}),(0,r.jsx)("div",{className:(0,i.cn)("absolute","w-3 h-3","border border-stronger","rounded-full","group-hover:border-foreground-light","group-data-[state=checked]:border-foreground","transition-colors")})]}),(0,r.jsx)("label",{htmlFor:l.value,className:(0,i.cn)("text-xs transition-colors text-left","text-light","group-hover:text-foreground group-data-[state=checked]:text-foreground",l.disabled?"cursor-not-allowed":"cursor-pointer"),children:s})]})]})});c.displayName=n.q7.displayName},43718:(e,t,a)=>{a.d(t,{A:()=>y});var r=a(80263),n=a(62659),s=a(66345),o=a(47504),i=a(53239),l=a(73969),d=a(46036),c=a(34969),u=a(64036),m=a(9953),h=a(47328),p=a(51859),f=a(95793),g=a(71126),x=a(36141);let y=e=>{var t,a,y,b;let{organizationIntegrationId:v,foreignProjects:j,supabaseProjects:w,onCreateConnections:N,installedConnections:I=h.Oj,isLoading:_,integrationIcon:A,getForeignProjectIcon:S,choosePrompt:L="Choose a project",onSkip:O,loadingForeignProjects:C,loadingSupabaseProjects:z,showNoEntitiesState:k=!0,defaultSupabaseProjectRef:F,defaultForeignProjectId:R,mode:P}=e,T=(0,o.useRouter)(),[B,D]=(0,i.useState)(!1),[E,G]=(0,i.useState)(!1),H=(0,i.useRef)(null),W=(0,i.useRef)(null),q=(0,c.a)(),[V,M]=(0,i.useState)(F);(0,i.useEffect)(()=>{void 0!==F&&void 0===V&&M(F)},[F,V]);let[U,Y]=(0,i.useState)(R);(0,i.useEffect)(()=>{void 0!==R&&void 0===U&&Y(R)},[R,U]);let K=new Set(I.map(e=>e.foreign_project_id)),Q=V?w.find(e=>{var t;return(null==(t=e.ref)?void 0:t.toLowerCase())===(null==V?void 0:V.toLowerCase())}):void 0,Z=U?j.find(e=>{var t;return(null==(t=e.id)?void 0:t.toLowerCase())===(null==U?void 0:U.toLowerCase())}):void 0,$=e=>{let{children:t,className:a,...n}=e;return(0,r.jsx)("div",{className:(0,p.cn)("flex-1 min-w-0 flex flex-col grow gap-6 px-5 mx-auto w-full justify-center items-center",a),...n,"data-sentry-component":"Panel","data-sentry-source-file":"ProjectLinker.tsx",children:t})},J=0===w.length,X=0===j.length,ee=J?"Supabase":P,et=J?P:"Supabase";return(0,r.jsxs)("div",{className:"flex flex-col gap-4","data-sentry-component":"ProjectLinker","data-sentry-source-file":"ProjectLinker.tsx",children:[(0,r.jsxs)("div",{className:"relative border rounded-lg p-12 bg shadow",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-grid-black/5 [mask-image:linear-gradient(0deg,#fff,rgba(255,255,255,0.6))] dark:bg-grid-white/5 dark:[mask-image:linear-gradient(0deg,rgba(255,255,255,0.1),rgba(255,255,255,0.5))]",style:{backgroundPosition:"10px 10px"}}),C||z?(0,r.jsxs)("div",{className:"w-1/2 mx-auto space-y-2 py-4",children:[(0,r.jsx)("p",{className:"text-sm text-foreground text-center",children:"Loading projects"}),(0,r.jsx)(d.A,{active:!0})]}):k&&(J||X)?(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("h5",{className:"text-foreground",children:["No ",ee," Projects found"]}),(0,r.jsxs)("p",{className:"text-foreground-light text-sm",children:["You will need to create a ",ee," Project to link to a ",et," ","Project.",(0,r.jsx)("br",{}),"You can skip this and create a Project Connection later."]})]}):(0,r.jsxs)("div",{className:"flex justify-center gap-0 w-full relative",children:[(0,r.jsxs)($,{children:[(0,r.jsx)("div",{className:"bg-white shadow border rounded p-1 w-12 h-12 flex justify-center items-center",children:(0,r.jsx)("img",{src:"".concat(u.o2,"/img/supabase-logo.svg"),alt:"Supabase",className:"w-6"})}),(0,r.jsxs)(f.AM,{open:B,onOpenChange:D,children:[(0,r.jsx)(f.Wv,{asChild:!0,children:(0,r.jsx)(g.$,{ref:H,type:"default",block:!0,disabled:void 0!==F||z,loading:z,className:"justify-start h-[34px]",icon:(0,r.jsx)("div",{className:"bg-white shadow border rounded p-1 w-6 h-6 flex justify-center items-center",children:(0,r.jsx)("img",{src:"".concat(u.o2,"/img/supabase-logo.svg"),alt:"Supabase",className:"w-4"})}),iconRight:void 0===F?(0,r.jsx)("span",{className:"grow flex justify-end",children:(0,r.jsx)(n.A,{})}):null,children:Q?Q.name:"Choose Supabase Project"})}),(0,r.jsx)(f.hl,{className:"p-0 !w-72",side:"bottom",align:"center",style:{width:null==(t=H.current)?void 0:t.offsetWidth},children:(0,r.jsxs)(x.uB,{children:[(0,r.jsx)(x.G7,{placeholder:"Search for a project"}),(0,r.jsxs)(x.oI,{className:"!max-h-[170px]",children:[(0,r.jsx)(x.xL,{children:"No results found."}),(0,r.jsxs)(x.L$,{children:[w.map((e,t)=>(0,r.jsxs)(x.h_,{value:"".concat(e.name.replaceAll('"',""),"-").concat(t),className:"flex gap-2 items-center",onSelect:()=>{e.ref&&M(e.ref),D(!1)},children:[(0,r.jsx)("div",{className:"bg-white shadow border rounded p-1 w-6 h-6 flex justify-center items-center",children:(0,r.jsx)("img",{src:"".concat(u.o2,"/img/supabase-logo.svg"),alt:"Supabase",className:"w-4"})}),(0,r.jsx)("span",{children:e.name})]},e.ref)),0===w.length&&(0,r.jsx)("p",{className:"text-xs text-foreground-lighter px-2 py-2",children:"No projects found in this organization"})]}),(0,r.jsx)(x.fx,{}),(0,r.jsx)(x.L$,{children:(0,r.jsxs)(x.h_,{className:"flex gap-2 items-center cursor-pointer",onClick:()=>T.push("/new/".concat(null==q?void 0:q.slug)),onSelect:()=>T.push("/new/".concat(null==q?void 0:q.slug)),children:[(0,r.jsx)(s.A,{size:16}),(0,r.jsx)("span",{children:"Create a new project"})]})})]})]})})]})]}),(0,r.jsx)("div",{className:"border border-foreground-lighter h-px w-8 border-dashed self-end mb-4"}),(0,r.jsxs)($,{children:[(0,r.jsx)("div",{className:"bg-black shadow rounded p-1 w-12 h-12 flex justify-center items-center",children:A}),(0,r.jsxs)(f.AM,{open:E,onOpenChange:G,children:[(0,r.jsx)(f.Wv,{asChild:!0,children:(0,r.jsx)(g.$,{ref:W,type:"default",block:!0,disabled:C,loading:C,className:"justify-start h-[34px]",icon:(0,r.jsx)("div",{children:Z&&null!=(y=null==S?void 0:S(Z))?y:A}),iconRight:(0,r.jsx)("span",{className:"grow flex justify-end",children:(0,r.jsx)(n.A,{})}),children:null!=(b=Z&&Z.name)?b:L})}),(0,r.jsx)(f.hl,{className:"p-0 !w-72",side:"bottom",align:"center",style:{width:null==(a=W.current)?void 0:a.offsetWidth},children:(0,r.jsxs)(x.uB,{children:[(0,r.jsx)(x.G7,{placeholder:"Search for a project"}),(0,r.jsxs)(x.oI,{className:"!max-h-[170px]",children:[(0,r.jsx)(x.xL,{children:"No results found."}),(0,r.jsxs)(x.L$,{children:[j.map((e,t)=>{var a;return(0,r.jsxs)(x.h_,{value:"".concat(e.name.replaceAll('"',""),"-").concat(t),className:"flex gap-2 items-center",onSelect:()=>{e.id&&Y(e.id),G(!1)},children:[(0,r.jsx)("div",{children:null!=(a=null==S?void 0:S(e))?a:A}),(0,r.jsx)("span",{className:"truncate",title:e.name,children:e.name})]},e.id)}),0===j.length&&(0,r.jsx)(x.xL,{children:"No results found."})]}),"GitHub"===P&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.fx,{}),(0,r.jsx)(x.L$,{children:(0,r.jsxs)(x.h_,{className:"flex gap-2 items-center cursor-pointer",onSelect:()=>(0,m.Fd)("install"),children:[(0,r.jsx)(s.A,{size:16}),"Add GitHub Repositories"]})})]})]})]})})]})]})]})]}),(0,r.jsxs)("div",{className:"flex w-full justify-end gap-2",children:[void 0!==O&&(0,r.jsx)(g.$,{size:"medium",type:"default",onClick:()=>{O()},children:"Skip"}),(0,r.jsx)(g.$,{size:"medium",className:"self-end",onClick:function(){return(null==Z?void 0:Z.id)?(null==Q?void 0:Q.ref)?K.has(null!=U?U:"")?l.oR.error("Unable to connect to ".concat(Z.name,": Selected repository already has an installed connection to a project")):void N({organizationIntegrationId:v,connection:{foreign_project_id:null==Z?void 0:Z.id,supabase_project_ref:null==Q?void 0:Q.ref,integration_id:"0",metadata:{...Z}},orgSlug:null==q?void 0:q.slug,new:{installation_id:Z.installation_id,project_ref:Q.ref,repository_id:Number(Z.id)}}):console.error("No Supabase project ref set"):console.error("No Foreign project ID set")},loading:_,disabled:C||z||_||!Q||!Z,"data-sentry-element":"Button","data-sentry-source-file":"ProjectLinker.tsx",children:"Connect project"})]})]})}},46036:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(80263);let n=e=>{let{active:t}=e;return t?(0,r.jsx)("div",{className:"logs-shimmering-loader w-full h-0.5","data-sentry-component":"ShimmerLine","data-sentry-source-file":"ShimmerLine.tsx"}):null}},49655:(e,t,a)=>{a.d(t,{A:()=>i,y:()=>o});var r=a(80263),n=a(51859);let s=e=>{let{className:t,delayIndex:a=0,animationDelay:s=150}=e;return(0,r.jsx)("div",{className:(0,n.cn)("shimmering-loader rounded py-3",t),style:{animationFillMode:"backwards",animationDelay:"".concat(a*s,"ms")},"data-sentry-component":"ShimmeringLoader","data-sentry-source-file":"index.tsx"})},o=e=>{let{className:t}=e;return(0,r.jsxs)("div",{className:(0,n.cn)(t,"space-y-2"),"data-sentry-component":"GenericSkeletonLoader","data-sentry-source-file":"index.tsx",children:[(0,r.jsx)(s,{"data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"index.tsx"}),(0,r.jsx)(s,{className:"w-3/4","data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"index.tsx"}),(0,r.jsx)(s,{className:"w-1/2","data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"index.tsx"})]})},i=s},53849:(e,t,a)=>{a.d(t,{KQ:()=>m,RO:()=>u});var r=a(39353),n=a(99592),s=a(16599),o=a(55345),i=a(34969),l=a(68875),d=a(74725),c=a(64036);r.z.enum(["disabled","schema","schema_and_log","schema_and_log_and_data"]);let u=e=>{let t=null==e?void 0:e.includes(c.W2.AI_SQL),a=null==e?void 0:e.includes(c.W2.AI_DATA),r=null==e?void 0:e.includes(c.W2.AI_LOG);return a?"schema_and_log_and_data":r?"schema_and_log":t?"schema":"disabled"};function m(){let e=(0,l.KT)(),t=(0,i.a)(),a=(0,d._)("newOrgAiOptIn"),r=null==t?void 0:t.opt_in_tags,m=a?u(r):"disabled",h="disabled"!==m,{data:p}=(0,o.j5)({orgSlug:null==t?void 0:t.slug}),f=(0,n.BP)(p),{data:g}=(0,s.Gm)({projectRef:null==e?void 0:e.ref}),x=!!(null==g?void 0:g.is_sensitive),y=f&&x,b=c.pe?h&&!e||h&&!y?m:"disabled":"schema",v=!c.pe||"disabled"!==b;return{aiOptInLevel:b,includeSchemaMetadata:v,isHipaaProjectDisallowed:y}}},55345:(e,t,a)=>{a.d(t,{cC:()=>c,j5:()=>d});var r=a(60045),n=a(56947),s=a(40807),o=a(77227),i=a(59156);async function l(e,t){let{orgSlug:a}=e;if(!a)throw Error("orgSlug is required");let{error:r,data:n}=await (0,s.Jt)("/platform/organizations/{slug}/billing/subscription",{params:{path:{slug:a}},signal:t});return r&&(0,s.H4)(r),n}let d=function(e){let{orgSlug:t}=e,{enabled:a=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=(0,o.SE)(r.aG.BILLING_READ,"stripe.subscriptions");return(0,n.I)(i.s.orgSubscription(t),e=>{let{signal:a}=e;return l({orgSlug:t},a)},{enabled:a&&d&&void 0!==t,staleTime:36e5,...s})},c=e=>{let{data:t}=d({orgSlug:e});return(null==t?void 0:t.plan.id)==="enterprise"||(null==t?void 0:t.plan.id)==="team"}},57980:(e,t,a)=>{a.d(t,{C5:()=>v,MJ:()=>y,Rr:()=>b,eI:()=>g,lR:()=>x,lV:()=>u,zB:()=>h});var r=a(80263),n=a(38694),s=a(53239),o=a(87494),i=a(51859),l=a(97380),d=a(88712),c=a(37055);let u=o.Op,m=s.createContext({}),h=e=>{let{...t}=e;return(0,r.jsx)(m.Provider,{value:{name:t.name},"data-sentry-element":"unknown","data-sentry-component":"FormField","data-sentry-source-file":"form.tsx",children:(0,r.jsx)(o.xI,{...t,"data-sentry-element":"Controller","data-sentry-source-file":"form.tsx"})})},p=()=>{let e=s.useContext(m),t=s.useContext(f),{getFieldState:a,formState:r}=(0,o.xW)(),n=a(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...n}},f=s.createContext({}),g=s.forwardRef((e,t)=>{let{asChild:a,...o}=e,i=s.useId(),l=a?n.DX:"div";return(0,r.jsx)(f.Provider,{value:{id:i},children:(0,r.jsx)(l,{ref:t,...o})})});g.displayName="FormItem";let x=s.forwardRef((e,t)=>{let{className:a,...n}=e,{error:s,formItemId:o}=p();return(0,r.jsx)(l.J,{ref:t,className:(0,i.cn)("text-foreground-light","transition-colors",s&&"!text-destructive",a,"leading-normal"),htmlFor:o,...n})});x.displayName="FormLabel";let y=s.forwardRef((e,t)=>{let{...a}=e,{error:s,formItemId:o,formDescriptionId:i,formMessageId:l}=p();return(0,r.jsx)(n.DX,{ref:t,id:o,"aria-describedby":s?"".concat(i," ").concat(l):"".concat(i),"aria-invalid":!!s,...a})});y.displayName="FormControl";let b=s.forwardRef((e,t)=>{let{className:a,...n}=e,{formDescriptionId:s}=p();return(0,r.jsx)("div",{ref:t,id:s,className:(0,i.cn)("text-sm text-foreground-light",a),...n})});b.displayName="FormDescription";let v=s.forwardRef((e,t)=>{let{className:a,children:n,...s}=e,{error:o,formMessageId:l}=p(),u=o?String(null==o?void 0:o.message):n;return(0,r.jsx)(d.N,{initial:!1,children:u?(0,r.jsx)(c.P.div,{initial:{opacity:0,y:-5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-5,height:0},transition:{duration:.15,ease:"easeInOut"},children:(0,r.jsx)("p",{ref:t,id:l,className:(0,i.cn)("text-sm text-destructive",a),...s,children:u})},l):null})});v.displayName="FormMessage"},60753:(e,t,a)=>{a.d(t,{CL:()=>s,bZ:()=>o});var r=a(56028),n=a(12532);let s=(0,r.BX)({vercelConnectionsOpen:!1,setVercelConnectionsOpen:e=>{s.vercelConnectionsOpen=e},vercelConnectionsIntegrationId:void 0,setVercelConnectionsIntegrationId:e=>{s.vercelConnectionsIntegrationId=e},githubConnectionsOpen:!1,setGithubConnectionsOpen:e=>{s.githubConnectionsOpen=e}}),o=e=>(0,n.s)(s,e)},68215:(e,t,a)=>{a.d(t,{O:()=>i});var r=a(56947),n=a(40807),s=a(20081);async function o(e,t){let{organizationId:a}=e;if(!a)throw Error("organizationId is required");let{data:r,error:s}=await (0,n.Jt)("/platform/integrations/github/connections",{params:{query:{organization_id:a}},signal:t});return s&&(0,n.H4)(s),r.connections}let i=function(e){let{organizationId:t}=e,{enabled:a=!0,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.I)(s.Z.githubConnectionsList(t),e=>{let{signal:a}=e;return o({organizationId:t},a)},{enabled:a&&void 0!==t,staleTime:18e5,...n})}},68375:(e,t,a)=>{a.d(t,{m:()=>i});var r=a(56947),n=a(40807),s=a(20081);async function o(e){let{data:t,error:a}=await (0,n.Jt)("/platform/integrations/github/authorization",{signal:e});return a?null:t}let i=function(){let{enabled:e=!0,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.I)(s.Z.githubAuthorization(),e=>{let{signal:t}=e;return o(t)},{enabled:e,staleTime:0,...t})}},75588:(e,t,a)=>{a.d(t,{U:()=>n,x:()=>r});let r=.8,n=[{value:"I was just exploring, or it was a hobby/student project."},{value:"I was not satisfied with the customer support I received.",label:"Could you tell us more about your experience with our support team?"},{value:"Supabase is missing a specific feature I need.",label:"What specific feature(s) are we missing?"},{value:"I found it difficult to use or build with.",label:"What specific parts of Supabase did you find difficult or frustrating?"},{value:"Performance or reliability insufficient.",label:"Could you tell us more about the specific issues you encountered (e.g., UI bugs, API latency, downtime)?"},{value:"My project was cancelled or put on hold."},{value:"Too expensive",label:"We appreciate your perspective on our pricing, what aspects of the cost felt too high?"},{value:"The pricing is unpredictable and hard to budget for.",label:"Which aspects of our pricing model made it difficult for you to predict your monthly costs?"},{value:"My company went out of business or was acquired."},{value:"I lost trust in the company or its future direction.",label:"Building and maintaining your trust is our highest priority, could you please share the specific event or reason that led to this loss of trust?"}]},79140:(e,t,a)=>{a.d(t,{sG:()=>m,IP:()=>c});var r=a(24468),n=a(11021),s=a.n(n);function o(e,t){return{error:{code:500,message:(null==e?void 0:e.message)?"An error has occurred: ".concat(e.message):"An error has occurred",requestId:t}}}async function i(e,t,a){try{let t={};return a.forEach(a=>{t[a]=e.headers.get(a)}),t}catch(a){return o(e,t)}}async function l(e,t){let a,r=await e.text();try{a=JSON.parse(r)}catch(e){a={}}if(a.error&&"string"==typeof a.error)if(a.error_description)return{error:{code:e.status,message:a.error,description:a.error_description,requestId:t}};else return{error:{code:e.status,message:a.error,requestId:t}};if(a.message)return{error:{code:e.status,message:a.message,requestId:t}};if(a.msg)return{error:{code:e.status,message:a.msg,requestId:t}};{if(a.error&&a.error.message)return{error:{code:e.status,...a.error}};let n=null!=r?r:"An error has occurred: ".concat(e.status);return{error:{code:e.status,message:n,requestId:t}}}}async function d(e,t){let a={"Content-Type":"application/json",Accept:"application/json","X-Request-Id":e,...t};if(!(!s()(t)&&"Authorization"in t)){let e=await (0,r.iD)();e&&(a.Authorization="Bearer ".concat(e))}return a}function c(e){return null!=e&&!("object"==typeof e&&"error"in e&&e.error)}var u=a(49443);async function m(e,t,a){let r=(0,u.gZ)();try{var n;let s=null!=(n=null==a?void 0:a.timeout)?n:6e4,o=new AbortController,c=setTimeout(()=>o.abort(),s),{headers:u,...m}=null!=a?a:{},h=await d(r,u),p=await fetch(e,{method:"HEAD",referrerPolicy:"no-referrer-when-downgrade",headers:h,...m,signal:o.signal});if(clearTimeout(c),!p.ok)return l(p,r);return i(p,r,t)}catch(e){return o(e,r)}}},82951:(e,t,a)=>{a.d(t,{N:()=>d});var r=a(32144),n=a(80251),s=a(73969),o=a(40807),i=a(79918);async function l(e){let{slug:t,name:a,billing_email:r,opt_in_tags:n,additional_billing_emails:s}=e,i={};a&&(i.name=a),r&&(i.billing_email=r),n&&(i.opt_in_tags=n),s&&(i.additional_billing_emails=s);let{data:l,error:d}=await (0,o.F6)("/platform/organizations/{slug}",{params:{path:{slug:t}},body:i});return d&&(0,o.H4)(d),l}let d=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(0,r.jE)();return(0,n.n)(e=>l(e),{async onSuccess(t,a,r){o.setQueriesData({queryKey:i.O.list(),exact:!0},e=>e?e.map(e=>e.slug!==a.slug?e:{...e,name:a.name||e.name,billing_email:a.billing_email||e.billing_email,opt_in_tags:a.opt_in_tags||e.opt_in_tags}):e),o.setQueriesData({queryKey:i.O.customerProfile(t.slug),exact:!0},e=>e?{...e,additional_emails:a.additional_billing_emails||e.additional_emails}:e),o.setQueriesData({queryKey:i.O.detail(t.slug),exact:!0},e=>e?{...e,name:a.name||e.name,billing_email:a.billing_email||e.billing_email,opt_in_tags:a.opt_in_tags||e.opt_in_tags}:e),await (null==e?void 0:e(t,a,r))},async onError(e,a,r){void 0===t?s.oR.error("Failed to update organization: ".concat(e.message)):t(e,a,r)},...a})}},84377:(e,t,a)=>{a.d(t,{M:()=>j});var r=a(80263),n=a(53239),s=a(57980),o=a(79279),i=a(37055),l=a(51859),d=a(97380),c=a(21514);let u=(0,o.F)("relative grid gap-10",{variants:{size:{tiny:"text-xs",small:"text-sm leading-4",medium:"text-sm",large:"text-base",xlarge:"text-base"},align:{left:"",right:""},responsive:{true:"",false:""},layout:{horizontal:"flex flex-col gap-2 md:grid md:grid-cols-12",vertical:"flex flex-col gap-2",flex:"flex flex-row gap-3","flex-row-reverse":"flex flex-row gap-6 flex-row-reverse justify-between"},flex:{true:"",false:""}},compoundVariants:[{layout:"flex",align:"right",className:"justify-between"},{layout:"flex-row-reverse",align:"right",className:"justify-between"}],defaultVariants:{}}),m=(0,o.F)("transition-all duration-500 ease-in-out",{variants:{flex:{true:"",false:""},align:{left:"",right:""},layout:{horizontal:"flex flex-col gap-2 col-span-4",vertical:"flex flex-row gap-2 justify-between",flex:"flex flex-col gap-0","flex-row-reverse":"flex flex-col"},labelLayout:{horizontal:"",vertical:"","":""}},compoundVariants:[{flex:!0,align:"left",className:"order-2"},{flex:!0,align:"right",className:"order-1"},{layout:["vertical","flex"],labelLayout:void 0,flex:!1,className:"flex flex-row gap-2 justify-between"},{layout:"horizontal",className:"flex flex-col gap-2"}],defaultVariants:{}}),h=(0,o.F)("transition-all duration-500 ease-in-out",{variants:{flex:{true:"",false:""},align:{left:"order-1",right:"order-2"},layout:{horizontal:"",vertical:"",flex:"","flex-row-reverse":""}},compoundVariants:[{flex:!0,align:"left",className:"order-1"},{flex:!0,align:"right",className:"order-2"},{layout:["vertical","flex"],className:"col-span-12"},{layout:"horizontal",align:"left",className:"col-span-8"},{layout:"horizontal",align:"right",className:"text-right"}],defaultVariants:{}}),p=(0,o.F)("text-foreground-lighter leading-normal",{variants:{size:{...c.SK.text},layout:{vertical:"mt-2",horizontal:"mt-2",flex:"","flex-row-reverse":""}},defaultVariants:{}}),f=(0,o.F)("text-foreground-muted",{variants:{size:{...c.SK.text}},defaultVariants:{}}),g=(0,o.F)("text-foreground-muted",{variants:{size:{...c.SK.text}},defaultVariants:{}}),x=(0,o.F)("text-foreground-muted",{variants:{size:{...c.SK.text}},defaultVariants:{}}),y=(0,o.F)("",{variants:{flex:{true:"",false:""},align:{left:"",right:""},layout:{horizontal:"",vertical:"",flex:"","flex-row-reverse":""}},compoundVariants:[{flex:!0,align:"left",className:""},{flex:!0,align:"right",className:"order-last"},{layout:"flex-row-reverse",className:"flex flex-col justify-center items-end shrink-0"}]}),b=(0,o.F)("",{variants:{nonBoxInput:{true:"",false:""},label:{true:"",false:""},layout:{vertical:"",horizontal:"","flex-row-reverse":""}},compoundVariants:[{nonBoxInput:!0,label:!0,layout:"vertical",className:"my-3"},{nonBoxInput:!0,label:!0,layout:"horizontal",className:"my-3 md:mt-0 mb-3"}],defaultVariants:{}}),v=n.forwardRef((e,t)=>{let{align:a="left",className:n,description:o,id:c,label:v,labelOptional:j,layout:w="vertical",style:N,labelLayout:I,size:_="medium",beforeLabel:A,afterLabel:S,nonBoxInput:L=!v,hideMessage:O=!1,isReactForm:C,...z}=e,k="flex"===w||"flex-row-reverse"===w,F=!!(v||A||S),R=C&&!O&&(0,r.jsx)(i.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3,ease:"easeInOut"},className:(0,l.cn)("flex-row-reverse"===w?"mt-0":"mt-2"),children:(0,r.jsx)(s.C5,{className:(0,l.cn)("mt-2 transition-opacity duration-300 ease-in-out","flex-row-reverse"===w&&"mt-0"),"data-formlayout-id":"message"})}),P=o&&C?(0,r.jsx)(s.Rr,{className:(0,l.cn)(p({size:_,layout:w})),"data-formlayout-id":"description",id:"".concat(c,"-description"),children:o}):o?(0,r.jsx)("p",{className:(0,l.cn)(p({size:_,layout:w}),"text-sm text-foreground-light"),"data-formlayout-id":"description",children:o}):null,T=()=>(0,r.jsxs)(r.Fragment,{children:[A&&(0,r.jsx)("span",{className:(0,l.cn)(f({size:_})),id:c+"-before","data-formlayout-id":"beforeLabel",children:(0,r.jsx)("span",{children:A})}),(0,r.jsx)("span",{children:v}),S&&(0,r.jsx)("span",{className:(0,l.cn)(g({size:_})),id:c+"-after","data-formlayout-id":"afterLabel",children:S})]});return(0,r.jsxs)("div",{ref:t,...z,className:(0,l.cn)(u({size:_,flex:k,align:a,layout:w}),n),children:[k&&(0,r.jsxs)("div",{className:(0,l.cn)(y({flex:k,align:a,layout:w})),children:[z.children,"flex-row-reverse"===w&&R]}),F||j||"horizontal"===w?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:(0,l.cn)(m({align:a,labelLayout:I,flex:k,layout:w})),"data-formlayout-id":"labelContainer",children:[F&&C?(0,r.jsx)(s.lR,{className:"text-foreground flex gap-2 items-center break-all","data-formlayout-id":"formLabel",htmlFor:z.name||c,children:(0,r.jsx)(T,{})}):(0,r.jsx)(d.J,{className:"text-foreground flex gap-2 items-center break-all leading-normal","data-formlayout-id":"label",htmlFor:z.name||c,children:(0,r.jsx)(T,{})}),j&&(0,r.jsx)("span",{className:(0,l.cn)(x({size:_})),id:c+"-optional","data-formlayout-id":"labelOptional",children:j}),k&&(0,r.jsxs)(r.Fragment,{children:[P,"flex-row-reverse"!==w&&R]})]})}):null,!k&&(0,r.jsx)("div",{className:(0,l.cn)(h({align:a,layout:w})),style:N,"data-formlayout-id":"dataContainer",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:(0,l.cn)(b({nonBoxInput:L,label:v,layout:w})),"data-formlayout-id":"nonBoxInputContainer",children:z.children}),R,P]})})]})}),j=(0,n.forwardRef)((e,t)=>{let{...a}=e;return(0,r.jsx)(s.eI,{children:(0,r.jsx)(v,{ref:t,isReactForm:!0,...a,children:a.children})})});j.displayName="FormItemLayout"},91530:(e,t,a)=>{a.d(t,{c:()=>f});var r=a(80263),n=a(74725),s=a(57980),o=a(29297),i=a(10406),l=a(84377),d=a(19362),c=a(82758),u=a(71126);let m=()=>{let e=(0,n._)("useBedrockAssistant");return(0,r.jsxs)(c.lG,{"data-sentry-element":"Dialog","data-sentry-component":"OptInToOpenAIToggle","data-sentry-source-file":"OptInToOpenAIToggle.tsx",children:[(0,r.jsx)(c.zM,{asChild:!0,"data-sentry-element":"DialogTrigger","data-sentry-source-file":"OptInToOpenAIToggle.tsx",children:(0,r.jsx)(u.$,{type:"outline",className:"w-fit","data-sentry-element":"Button","data-sentry-source-file":"OptInToOpenAIToggle.tsx",children:"Learn more about data privacy"})}),(0,r.jsxs)(c.Cf,{className:"sm:max-w-2xl","data-sentry-element":"DialogContent","data-sentry-source-file":"OptInToOpenAIToggle.tsx",children:[(0,r.jsx)(c.c7,{padding:"small",className:"border-b","data-sentry-element":"DialogHeader","data-sentry-source-file":"OptInToOpenAIToggle.tsx",children:(0,r.jsx)(c.L3,{"data-sentry-element":"DialogTitle","data-sentry-source-file":"OptInToOpenAIToggle.tsx",children:"Data Privacy and Supabase AI"})}),(0,r.jsx)(c.OO,{padding:"small",className:"flex flex-col gap-y-4 text-sm text-foreground-light","data-sentry-element":"DialogSection","data-sentry-source-file":"OptInToOpenAIToggle.tsx",children:e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:'Supabase AI utilizes Amazon Bedrock ("Bedrock"), a service designed with a strong focus on data privacy and security.'}),(0,r.jsx)("p",{children:"Amazon Bedrock does not store or log your prompts and completions. This data is not used to train any AWS models and is not distributed to third parties or model providers. Model providers do not have access to Amazon Bedrock logs or customer prompts and completions."}),(0,r.jsx)("p",{children:"By default, no information is shared with Bedrock unless you explicitly provide consent. With your permission, Supabase may share customer-generated prompts, database schema, database data, and project logs with Bedrock. This information is used solely to generate responses to your queries and is not retained by Bedrock or used to train their foundation models."}),(0,r.jsx)("p",{children:"If you are a HIPAA Covered Entity, please note that Bedrock is HIPAA eligible, and Supabase has a Business Associate Agreement in place covering this use."}),(0,r.jsxs)("p",{children:["For more detailed information about how we collect and use your data, see our"," ",(0,r.jsx)(d.g,{href:"https://supabase.com/privacy",children:"Privacy Policy"}),". You can choose which types of information you consent to share by selecting from the options in the AI settings."]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:"Supabase AI is a chatbot support tool powered by OpenAI. Supabase will share the query you submit and information about the databases you manage through Supabase with OpenAI, L.L.C. and its affiliates in order to provide the Supabase AI tool."}),(0,r.jsx)("p",{children:"OpenAI will only access information about the structure of your databases, such as table names, column and row headings. OpenAI will not access the contents of the database itself."}),(0,r.jsx)("p",{children:"OpenAI uses this information to generate responses to your query, and does not retain or use the information to train its algorithms or otherwise improve its products and services."}),(0,r.jsx)("p",{children:"If you have your own individual account on Supabase, we will use any personal information collected through [Supabase AI] to provide you with the [Supabase AI] tool. If you are in the UK, EEA or Switzerland, the processing of this personal information is necessary for the performance of a contract between you and us."}),(0,r.jsx)("p",{children:"Supabase collects information about the queries you submit through Supabase AI and the responses you receive to assess the performance of the Supabase AI tool and improve our services. If you are in the UK, EEA or Switzerland, the processing is necessary for our legitimate interests, namely informing our product development and improvement."}),(0,r.jsxs)("p",{children:["For more information about how we use personal information, please see our"," ",(0,r.jsx)(d.g,{href:"https://supabase.com/privacy",children:"privacy policy"}),"."]})]})})]})]})},h=[{value:"disabled",title:"Disabled",description:"You do not consent to sharing any database information with Supabase AI and understand that responses will be generic and not tailored to your database"},{value:"schema",title:"Send anonymous metadata",description:"You consent to sending anonymous data to Supabase AI, which can improve the answers it shows you."}],p=[{value:"disabled",title:"Disabled",description:"You do not consent to sharing any database information with Amazon Bedrock and understand that responses will be generic and not tailored to your database"},{value:"schema",title:"Schema Only",description:"You consent to sharing your database’s schema metadata (such as table and column names, data types, and relationships—but not actual database data) with Amazon Bedrock"},{value:"schema_and_log",title:"Schema & Logs",description:"You consent to sharing your schema and logs (which may contain PII/database data) with Amazon Bedrock for better results"},{value:"schema_and_log_and_data",title:"Schema, Logs & Database Data",description:"You consent to give Amazon Bedrock  full access to run database read only queries and analyze results for optimal results"}],f=e=>{let{control:t,disabled:a,label:d,layout:c="vertical"}=e,u=(0,n._)("newOrgAiOptIn"),f=(0,n._)("useBedrockAssistant"),g=f?p:h;return(0,r.jsx)(l.M,{label:d,layout:c,description:(0,r.jsxs)("div",{className:"flex flex-col gap-y-4 my-4 max-w-xl",children:[f&&(0,r.jsxs)(r.Fragment,{children:[!u&&(0,r.jsx)(i.Z,{type:"note",title:"Assistant Opt-in is temporarily disabled",description:"We will re-enable opting in to the assistant shortly!"}),(0,r.jsx)("p",{children:"Supabase AI can provide more relevant answers if you choose to share different levels of data. This feature is powered by Amazon Bedrock which does not store or log your prompts and completions, nor does it use them to train AWS models or distribute them to third parties. This is an organization-wide setting, so please select the level of data you are comfortable sharing."})]}),(0,r.jsx)(m,{})]}),"data-sentry-element":"FormItemLayout","data-sentry-component":"AIOptInLevelSelector","data-sentry-source-file":"AIOptInLevelSelector.tsx",children:(0,r.jsx)("div",{className:"max-w-xl",children:(0,r.jsx)(s.zB,{control:t,name:"aiOptInLevel",render:e=>{let{field:t}=e;return(0,r.jsx)(o.z6,{value:t.value,onValueChange:t.onChange,disabled:a,className:"space-y-2 mb-6",children:g.map(e=>(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)(o.CU,{value:e.value,id:"ai-opt-in-".concat(e.value),className:"mt-0.5"}),(0,r.jsxs)("label",{htmlFor:"ai-opt-in-".concat(e.value),className:"cursor-pointer flex flex-col",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-foreground",children:e.title}),(0,r.jsx)("span",{className:"text-sm text-foreground-light",children:e.description})]})]},e.value))})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"AIOptInLevelSelector.tsx"})})})}}}]);