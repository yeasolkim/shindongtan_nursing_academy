!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0b691586-db02-4b71-aeab-0407a0aa5365",e._sentryDebugIdIdentifier="sentry-dbid-0b691586-db02-4b71-aeab-0407a0aa5365")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6538],{2827:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(80191),n=r.n(a),s=function(){return(s=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},l={key:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return null},onlyResolvesLast:!0},o=function(){function e(e){this.config=e,this.debounceSingleton=null,this.debounceCache={}}return e.prototype._createDebouncedFunction=function(){var e,t,r=n()(this.config.func,this.config.wait,this.config.options);return this.config.options.onlyResolvesLast&&(e=r,t=null,r=function(){for(var r,a,n,s,l=[],o=0;o<arguments.length;o++)l[o]=arguments[o];t&&t();var i=(r=e.apply(void 0,l),a=null,n=null,s=new Promise(function(e,t){a=e,n=t}),r&&r.then(function(e){a&&a(e)},function(e){n&&n(e)}),{promise:s,resolve:function(e){a&&a(e)},reject:function(e){n&&n(e)},cancel:function(){a=null,n=null}}),c=i.promise;return t=i.cancel,c}),{func:r}},e.prototype.getDebouncedFunction=function(e){var t,r=(t=this.config.options).key.apply(t,e);return null==r?(this.debounceSingleton||(this.debounceSingleton=this._createDebouncedFunction()),this.debounceSingleton):(this.debounceCache[r]||(this.debounceCache[r]=this._createDebouncedFunction()),this.debounceCache[r])},e}();let i=function(e,t,r){var a=new o({func:e,wait:t,options:s({},l,r)});return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.getDebouncedFunction(e).func.apply(void 0,e)}}},3073:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},6768:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},11230:(e,t)=>{var r;!function(){"use strict";var a={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=s(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)a.call(e,r)&&e[r]&&(t=s(t,r));return t}(r)))}return e}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):void 0===(r=(function(){return n}).apply(t,[]))||(e.exports=r)}()},14653:(e,t,r)=>{"use strict";var a=r(15599).Buffer;let n=void 0!==a,s=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,l=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function o(e,t,r){null==r&&null!==t&&"object"==typeof t&&(r=t,t=void 0),n&&a.isBuffer(e)&&(e=e.toString()),e&&65279===e.charCodeAt(0)&&(e=e.slice(1));let o=JSON.parse(e,t);if(null===o||"object"!=typeof o)return o;let c=r&&r.protoAction||"error",d=r&&r.constructorAction||"error";if("ignore"===c&&"ignore"===d)return o;if("ignore"!==c&&"ignore"!==d){if(!1===s.test(e)&&!1===l.test(e))return o}else if("ignore"!==c&&"ignore"===d){if(!1===s.test(e))return o}else if(!1===l.test(e))return o;return i(o,{protoAction:c,constructorAction:d,safe:r&&r.safe})}function i(e,{protoAction:t="error",constructorAction:r="error",safe:a}={}){let n=[e];for(;n.length;){let e=n;for(let s of(n=[],e)){if("ignore"!==t&&Object.prototype.hasOwnProperty.call(s,"__proto__")){if(!0===a)return null;if("error"===t)throw SyntaxError("Object contains forbidden prototype property");delete s.__proto__}if("ignore"!==r&&Object.prototype.hasOwnProperty.call(s,"constructor")&&Object.prototype.hasOwnProperty.call(s.constructor,"prototype")){if(!0===a)return null;if("error"===r)throw SyntaxError("Object contains forbidden prototype property");delete s.constructor}for(let e in s){let t=s[e];t&&"object"==typeof t&&n.push(t)}}}return e}function c(e,t,r){let a=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return o(e,t,r)}finally{Error.stackTraceLimit=a}}e.exports=c,e.exports.default=c,e.exports.parse=c,e.exports.safeParse=function(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return o(e,t,{safe:!0})}catch(e){return null}finally{Error.stackTraceLimit=r}},e.exports.scan=i},16760:(e,t,r)=>{"use strict";let a,n;r.d(t,{Y_:()=>tc,sQ:()=>td});var s,l,o,i,c=r(53239),d="vercel.ai.error",u=Symbol.for(d),f=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[s]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,d)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}};s=u;var p=f,h=Symbol.for("vercel.ai.error.AI_APICallError"),y=Symbol.for("vercel.ai.error.AI_EmptyResponseBodyError");function g(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}var v="AI_InvalidArgumentError",m=`vercel.ai.error.${v}`,b=Symbol.for(m),I=class extends p{constructor({message:e,cause:t,argument:r}){super({name:v,message:e,cause:t}),this[l]=!0,this.argument=r}static isInstance(e){return p.hasMarker(e,m)}};l=b;var S=Symbol.for("vercel.ai.error.AI_InvalidPromptError"),E=Symbol.for("vercel.ai.error.AI_InvalidResponseDataError"),w="AI_JSONParseError",A=`vercel.ai.error.${w}`,_=Symbol.for(A),T=class extends p{constructor({text:e,cause:t}){super({name:w,message:`JSON parsing failed: Text: ${e}.
Error message: ${g(t)}`,cause:t}),this[o]=!0,this.text=e}static isInstance(e){return p.hasMarker(e,A)}};o=_;var k=Symbol.for("vercel.ai.error.AI_LoadAPIKeyError"),x=Symbol.for("vercel.ai.error.AI_LoadSettingError"),O=Symbol.for("vercel.ai.error.AI_NoContentGeneratedError"),C=Symbol.for("vercel.ai.error.AI_NoSuchModelError"),R=Symbol.for("vercel.ai.error.AI_TooManyEmbeddingValuesForCallError"),N="AI_TypeValidationError",D=`vercel.ai.error.${N}`,M=Symbol.for(D),j=class e extends p{constructor({value:e,cause:t}){super({name:N,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${g(t)}`,cause:t}),this[i]=!0,this.value=e}static isInstance(e){return p.hasMarker(e,D)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}};i=M;var L=Symbol.for("vercel.ai.error.AI_UnsupportedFunctionalityError");function $(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every($):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&$(t)))}let F=(e,t=21)=>(r=t)=>{let a="",n=0|r;for(;n--;)a+=e[Math.random()*e.length|0];return a};var P=r(14653);r(23727);var W=(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:a="-"}={})=>{let n=F(r,t);if(null==e)return n;if(r.includes(a))throw new I({argument:"separator",message:`The separator "${a}" must not be part of the alphabet "${r}".`});return t=>`${e}${a}${n(t)}`})();function U(e){return e instanceof Error&&("AbortError"===e.name||"TimeoutError"===e.name)}var V=Symbol.for("vercel.ai.validator");function B({text:e,schema:t}){try{let r=P.parse(e);if(null==t)return{success:!0,value:r,rawValue:r};let a=function({value:e,schema:t}){var r;let a="object"==typeof t&&null!==t&&V in t&&!0===t[V]&&"validate"in t?t:(r=t,{[V]:!0,validate:e=>{let t=r.safeParse(e);return t.success?{success:!0,value:t.data}:{success:!1,error:t.error}}});try{if(null==a.validate)return{success:!0,value:e};let t=a.validate(e);if(t.success)return t;return{success:!1,error:j.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:j.wrap({value:e,cause:t})}}}({value:r,schema:t});return a.success?{...a,rawValue:r}:a}catch(t){return{success:!1,error:T.isInstance(t)?t:new T({text:e,cause:t})}}}var z=()=>globalThis.fetch,{btoa:H,atob:J}=globalThis;Symbol("Let zodToJsonSchema decide on which parser to use");let Y=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function G(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},a=r.i?e.source.toLowerCase():e.source,n="",s=!1,l=!1,o=!1;for(let e=0;e<a.length;e++){if(s){n+=a[e],s=!1;continue}if(r.i){if(l){if(a[e].match(/[a-z]/)){o?(n+=a[e],n+=`${a[e-2]}-${a[e]}`.toUpperCase(),o=!1):"-"===a[e+1]&&a[e+2]?.match(/[a-z]/)?(n+=a[e],o=!0):n+=`${a[e]}${a[e].toUpperCase()}`;continue}}else if(a[e].match(/[a-z]/)){n+=`[${a[e]}${a[e].toUpperCase()}]`;continue}}if(r.m){if("^"===a[e]){n+=`(^|(?<=[\r
]))`;continue}else if("$"===a[e]){n+=`($|(?=[\r
]))`;continue}}if(r.s&&"."===a[e]){n+=l?`${a[e]}\r
`:`[${a[e]}\r
]`;continue}n+=a[e],"\\"===a[e]?s=!0:l&&"]"===a[e]?l=!1:l||"["!==a[e]||(l=!0)}try{new RegExp(n)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return n}let K=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")};var q={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},X={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},Z={code:"4",name:"assistant_message",parse:e=>{if(null==e||"object"!=typeof e||!("id"in e)||!("role"in e)||!("content"in e)||"string"!=typeof e.id||"string"!=typeof e.role||"assistant"!==e.role||!Array.isArray(e.content)||!e.content.every(e=>null!=e&&"object"==typeof e&&"type"in e&&"text"===e.type&&"text"in e&&null!=e.text&&"object"==typeof e.text&&"value"in e.text&&"string"==typeof e.text.value))throw Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},Q={code:"5",name:"assistant_control_data",parse:e=>{if(null==e||"object"!=typeof e||!("threadId"in e)||!("messageId"in e)||"string"!=typeof e.threadId||"string"!=typeof e.messageId)throw Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},ee={code:"6",name:"data_message",parse:e=>{if(null==e||"object"!=typeof e||!("role"in e)||!("data"in e)||"string"!=typeof e.role||"data"!==e.role)throw Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},et=[q,X,Z,Q,ee],er={[q.code]:q,[X.code]:X,[Z.code]:Z,[Q.code]:Q,[ee.code]:ee};q.name,q.code,X.name,X.code,Z.name,Z.code,Q.name,Q.code,ee.name,ee.code;var ea=et.map(e=>e.code),en=[{code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},{code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw Error('"data" parts expect an array value.');return{type:"data",value:e}}},{code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},{code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},{code:"9",name:"tool_call",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName||!("args"in e)||"object"!=typeof e.args)throw Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},{code:"a",name:"tool_result",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("result"in e))throw Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},{code:"b",name:"tool_call_streaming_start",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName)throw Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},{code:"c",name:"tool_call_delta",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("argsTextDelta"in e)||"string"!=typeof e.argsTextDelta)throw Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},{code:"d",name:"finish_message",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw Error('"finish_message" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},{code:"e",name:"finish_step",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw Error('"finish_step" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&"boolean"==typeof e.isContinued&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},{code:"f",name:"start_step",parse:e=>{if(null==e||"object"!=typeof e||!("messageId"in e)||"string"!=typeof e.messageId)throw Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:e.messageId}}}},{code:"g",name:"reasoning",parse:e=>{if("string"!=typeof e)throw Error('"reasoning" parts expect a string value.');return{type:"reasoning",value:e}}},{code:"h",name:"source",parse:e=>{if(null==e||"object"!=typeof e)throw Error('"source" parts expect a Source object.');return{type:"source",value:e}}},{code:"i",name:"redacted_reasoning",parse:e=>{if(null==e||"object"!=typeof e||!("data"in e)||"string"!=typeof e.data)throw Error('"redacted_reasoning" parts expect an object with a "data" property.');return{type:"redacted_reasoning",value:{data:e.data}}}},{code:"j",name:"reasoning_signature",parse:e=>{if(null==e||"object"!=typeof e||!("signature"in e)||"string"!=typeof e.signature)throw Error('"reasoning_signature" parts expect an object with a "signature" property.');return{type:"reasoning_signature",value:{signature:e.signature}}}},{code:"k",name:"file",parse:e=>{if(null==e||"object"!=typeof e||!("data"in e)||"string"!=typeof e.data||!("mimeType"in e)||"string"!=typeof e.mimeType)throw Error('"file" parts expect an object with a "data" and "mimeType" property.');return{type:"file",value:e}}}],es=Object.fromEntries(en.map(e=>[e.code,e]));Object.fromEntries(en.map(e=>[e.name,e.code]));var el=en.map(e=>e.code),eo=e=>{let t=e.indexOf(":");if(-1===t)throw Error("Failed to parse stream string. No separator found.");let r=e.slice(0,t);if(!el.includes(r))throw Error(`Failed to parse stream string. Invalid code ${r}.`);let a=JSON.parse(e.slice(t+1));return es[r].parse(a)};async function ei({stream:e,onTextPart:t,onReasoningPart:r,onReasoningSignaturePart:a,onRedactedReasoningPart:n,onSourcePart:s,onFilePart:l,onDataPart:o,onErrorPart:i,onToolCallStreamingStartPart:c,onToolCallDeltaPart:d,onToolCallPart:u,onToolResultPart:f,onMessageAnnotationsPart:p,onFinishMessagePart:h,onFinishStepPart:y,onStartStepPart:g}){let v=e.getReader(),m=new TextDecoder,b=[],I=0;for(;;){let{value:e}=await v.read();if(e&&(b.push(e),I+=e.length,10!==e[e.length-1]))continue;if(0===b.length)break;let S=function(e,t){let r=new Uint8Array(t),a=0;for(let t of e)r.set(t,a),a+=t.length;return e.length=0,r}(b,I);for(let{type:e,value:v}of(I=0,m.decode(S,{stream:!0}).split("\n").filter(e=>""!==e).map(eo)))switch(e){case"text":await (null==t?void 0:t(v));break;case"reasoning":await (null==r?void 0:r(v));break;case"reasoning_signature":await (null==a?void 0:a(v));break;case"redacted_reasoning":await (null==n?void 0:n(v));break;case"file":await (null==l?void 0:l(v));break;case"source":await (null==s?void 0:s(v));break;case"data":await (null==o?void 0:o(v));break;case"error":await (null==i?void 0:i(v));break;case"message_annotations":await (null==p?void 0:p(v));break;case"tool_call_streaming_start":await (null==c?void 0:c(v));break;case"tool_call_delta":await (null==d?void 0:d(v));break;case"tool_call":await (null==u?void 0:u(v));break;case"tool_result":await (null==f?void 0:f(v));break;case"finish_message":await (null==h?void 0:h(v));break;case"finish_step":await (null==y?void 0:y(v));break;case"start_step":await (null==g?void 0:g(v));break;default:throw Error(`Unknown stream part type: ${e}`)}}}async function ec({stream:e,update:t,onToolCall:r,onFinish:a,generateId:n=W,getCurrentDate:s=()=>new Date,lastMessage:l}){var o,i;let c,d,u,f=(null==l?void 0:l.role)==="assistant",p=f?1+(null!=(i=null==(o=l.toolInvocations)?void 0:o.reduce((e,t)=>{var r;return Math.max(e,null!=(r=t.step)?r:0)},0))?i:0):0,h=f?structuredClone(l):{id:n(),createdAt:s(),role:"assistant",content:"",parts:[]};function y(e,t){let r=h.parts.find(t=>"tool-invocation"===t.type&&t.toolInvocation.toolCallId===e);null!=r?r.toolInvocation=t:h.parts.push({type:"tool-invocation",toolInvocation:t})}let g=[],v=f?null==l?void 0:l.annotations:void 0,m={},b={completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},I="unknown";function S(){let e=[...g];(null==v?void 0:v.length)&&(h.annotations=v),t({message:{...structuredClone(h),revisionId:n()},data:e,replaceLastMessage:f})}await ei({stream:e,onTextPart(e){null==c?(c={type:"text",text:e},h.parts.push(c)):c.text+=e,h.content+=e,S()},onReasoningPart(e){var t;null==u?(u={type:"text",text:e},null!=d&&d.details.push(u)):u.text+=e,null==d?(d={type:"reasoning",reasoning:e,details:[u]},h.parts.push(d)):d.reasoning+=e,h.reasoning=(null!=(t=h.reasoning)?t:"")+e,S()},onReasoningSignaturePart(e){null!=u&&(u.signature=e.signature)},onRedactedReasoningPart(e){null==d&&(d={type:"reasoning",reasoning:"",details:[]},h.parts.push(d)),d.details.push({type:"redacted",data:e.data}),u=void 0,S()},onFilePart(e){h.parts.push({type:"file",mimeType:e.mimeType,data:e.data}),S()},onSourcePart(e){h.parts.push({type:"source",source:e}),S()},onToolCallStreamingStartPart(e){null==h.toolInvocations&&(h.toolInvocations=[]),m[e.toolCallId]={text:"",step:p,toolName:e.toolName,index:h.toolInvocations.length};let t={state:"partial-call",step:p,toolCallId:e.toolCallId,toolName:e.toolName,args:void 0};h.toolInvocations.push(t),y(e.toolCallId,t),S()},onToolCallDeltaPart(e){let t=m[e.toolCallId];t.text+=e.argsTextDelta;let{value:r}=function(e){if(void 0===e)return{value:void 0,state:"undefined-input"};let t=B({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=B({text:function(e){let t=["ROOT"],r=-1,a=null;function n(e,n,s){switch(e){case'"':r=n,t.pop(),t.push(s),t.push("INSIDE_STRING");break;case"f":case"t":case"n":r=n,a=n,t.pop(),t.push(s),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(s),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=n,t.pop(),t.push(s),t.push("INSIDE_NUMBER");break;case"{":r=n,t.pop(),t.push(s),t.push("INSIDE_OBJECT_START");break;case"[":r=n,t.pop(),t.push(s),t.push("INSIDE_ARRAY_START")}}function s(e,a){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":r=a,t.pop()}}function l(e,a){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":r=a,t.pop()}}for(let o=0;o<e.length;o++){let i=e[o];switch(t[t.length-1]){case"ROOT":n(i,o,"FINISH");break;case"INSIDE_OBJECT_START":switch(i){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":r=o,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":'"'===i&&(t.pop(),t.push("INSIDE_OBJECT_KEY"));break;case"INSIDE_OBJECT_KEY":'"'===i&&(t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY"));break;case"INSIDE_OBJECT_AFTER_KEY":":"===i&&(t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":n(i,o,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":s(i,o);break;case"INSIDE_STRING":switch(i){case'"':t.pop(),r=o;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:r=o}break;case"INSIDE_ARRAY_START":"]"===i?(r=o,t.pop()):(r=o,n(i,o,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(i){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":r=o,t.pop();break;default:r=o}break;case"INSIDE_ARRAY_AFTER_COMMA":n(i,o,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),r=o;break;case"INSIDE_NUMBER":switch(i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=o;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&l(i,o),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&s(i,o);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&s(i,o);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&l(i,o);break;default:t.pop()}break;case"INSIDE_LITERAL":{let n=e.substring(a,o+1);"false".startsWith(n)||"true".startsWith(n)||"null".startsWith(n)?r=o:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?s(i,o):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&l(i,o))}}}let o=e.slice(0,r+1);for(let r=t.length-1;r>=0;r--)switch(t[r]){case"INSIDE_STRING":o+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":o+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":o+="]";break;case"INSIDE_LITERAL":{let t=e.substring(a,e.length);"true".startsWith(t)?o+="true".slice(t.length):"false".startsWith(t)?o+="false".slice(t.length):"null".startsWith(t)&&(o+="null".slice(t.length))}}return o}(e)})).success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"}}(t.text),a={state:"partial-call",step:t.step,toolCallId:e.toolCallId,toolName:t.toolName,args:r};h.toolInvocations[t.index]=a,y(e.toolCallId,a),S()},async onToolCallPart(e){let t={state:"call",step:p,...e};if(null!=m[e.toolCallId]?h.toolInvocations[m[e.toolCallId].index]=t:(null==h.toolInvocations&&(h.toolInvocations=[]),h.toolInvocations.push(t)),y(e.toolCallId,t),S(),r){let t=await r({toolCall:e});if(null!=t){let r={state:"result",step:p,...e,result:t};h.toolInvocations[h.toolInvocations.length-1]=r,y(e.toolCallId,r),S()}}},onToolResultPart(e){let t=h.toolInvocations;if(null==t)throw Error("tool_result must be preceded by a tool_call");let r=t.findIndex(t=>t.toolCallId===e.toolCallId);if(-1===r)throw Error("tool_result must be preceded by a tool_call with the same toolCallId");let a={...t[r],state:"result",...e};t[r]=a,y(e.toolCallId,a),S()},onDataPart(e){g.push(...e),S()},onMessageAnnotationsPart(e){null==v?v=[...e]:v.push(...e),S()},onFinishStepPart(e){p+=1,c=e.isContinued?c:void 0,d=void 0,u=void 0},onStartStepPart(e){f||(h.id=e.messageId),h.parts.push({type:"step-start"}),S()},onFinishMessagePart(e){I=e.finishReason,null!=e.usage&&(b=function({promptTokens:e,completionTokens:t}){return{promptTokens:e,completionTokens:t,totalTokens:e+t}}(e.usage))},onErrorPart(e){throw Error(e)}}),null==a||a({message:h,finishReason:I,usage:b})}async function ed({stream:e,onTextPart:t}){let r=e.pipeThrough(new TextDecoderStream).getReader();for(;;){let{done:e,value:a}=await r.read();if(e)break;await t(a)}}async function eu({stream:e,update:t,onFinish:r,getCurrentDate:a=()=>new Date,generateId:n=W}){let s={type:"text",text:""},l={id:n(),createdAt:a(),role:"assistant",content:"",parts:[s]};await ed({stream:e,onTextPart:e=>{l.content+=e,s.text+=e,t({message:{...l},data:[],replaceLastMessage:!1})}}),null==r||r(l,{usage:{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},finishReason:"unknown"})}var ef=()=>fetch;async function ep({api:e,body:t,streamProtocol:r="data",credentials:a,headers:n,abortController:s,restoreMessagesOnFailure:l,onResponse:o,onUpdate:i,onFinish:c,onToolCall:d,generateId:u,fetch:f=ef(),lastMessage:p,requestType:h="generate"}){var y,g,v;let m="resume"===h?f(`${e}?chatId=${t.id}`,{method:"GET",headers:{"Content-Type":"application/json",...n},signal:null==(y=null==s?void 0:s())?void 0:y.signal,credentials:a}):f(e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",...n},signal:null==(g=null==s?void 0:s())?void 0:g.signal,credentials:a}),b=await m.catch(e=>{throw l(),e});if(o)try{await o(b)}catch(e){throw e}if(!b.ok)throw l(),Error(null!=(v=await b.text())?v:"Failed to fetch the chat response.");if(!b.body)throw Error("The response body is empty.");switch(r){case"text":return void await eu({stream:b.body,update:i,onFinish:c,generateId:u});case"data":return void await ec({stream:b.body,update:i,lastMessage:p,onToolCall:d,onFinish({message:e,finishReason:t,usage:r}){c&&null!=e&&c(e,{usage:r,finishReason:t})},generateId:u});default:throw Error(`Unknown stream protocol: ${r}`)}}var eh=()=>fetch;async function ey({api:e,prompt:t,credentials:r,headers:a,body:n,streamProtocol:s="data",setCompletion:l,setLoading:o,setError:i,setAbortController:c,onResponse:d,onFinish:u,onError:f,onData:p,fetch:h=eh()}){var y;try{o(!0),i(void 0);let f=new AbortController;c(f),l("");let g=await h(e,{method:"POST",body:JSON.stringify({prompt:t,...n}),credentials:r,headers:{"Content-Type":"application/json",...a},signal:f.signal}).catch(e=>{throw e});if(d)try{await d(g)}catch(e){throw e}if(!g.ok)throw Error(null!=(y=await g.text())?y:"Failed to fetch the chat response.");if(!g.body)throw Error("The response body is empty.");let v="";switch(s){case"text":await ed({stream:g.body,onTextPart:e=>{v+=e,l(v)}});break;case"data":await ei({stream:g.body,onTextPart(e){v+=e,l(v)},onDataPart(e){null==p||p(e)},onErrorPart(e){throw Error(e)}});break;default:throw Error(`Unknown stream protocol: ${s}`)}return u&&u(t,v),c(null),v}catch(e){if("AbortError"===e.name)return c(null),null;e instanceof Error&&f&&f(e),i(e)}finally{o(!1)}}function eg(e){return null==e?void 0:e.reduce((e,t)=>{var r;return Math.max(e,null!=(r=t.step)?r:0)},0)}function ev(e){var t;return null!=(t=e.parts)?t:[...e.toolInvocations?e.toolInvocations.map(e=>({type:"tool-invocation",toolInvocation:e})):[],...e.reasoning?[{type:"reasoning",reasoning:e.reasoning,details:[{type:"text",text:e.reasoning}]}]:[],...e.content?[{type:"text",text:e.content}]:[]]}function em(e){return e.map(e=>({...e,parts:ev(e)}))}async function eb(e){if(!e)return[];if(globalThis.FileList&&e instanceof globalThis.FileList)return Promise.all(Array.from(e).map(async e=>{let{name:t,type:r}=e;return{name:t,contentType:r,url:await new Promise((t,r)=>{let a=new FileReader;a.onload=e=>{var r;t(null==(r=e.target)?void 0:r.result)},a.onerror=e=>r(e),a.readAsDataURL(e)})}}));if(Array.isArray(e))return e;throw Error("Invalid attachments type")}function eI(e){if("assistant"!==e.role)return!1;let t=e.parts.reduce((e,t,r)=>"step-start"===t.type?r:e,-1),r=e.parts.slice(t+1).filter(e=>"tool-invocation"===e.type);return r.length>0&&r.every(e=>"result"in e.toolInvocation)}Symbol.for("vercel.ai.schema");var eS=r(21211);let eE=()=>{},ew=eE(),eA=Object,e_=e=>e===ew,eT=e=>"function"==typeof e,ek=(e,t)=>({...e,...t}),ex=e=>eT(e.then),eO=new WeakMap,eC=0,eR=e=>{let t,r,a=typeof e,n=e&&e.constructor,s=n==Date;if(eA(e)!==e||s||n==RegExp)t=s?e.toJSON():"symbol"==a?e.toString():"string"==a?JSON.stringify(e):""+e;else{if(t=eO.get(e))return t;if(t=++eC+"~",eO.set(e,t),n==Array){for(r=0,t="@";r<e.length;r++)t+=eR(e[r])+",";eO.set(e,t)}if(n==eA){t="#";let a=eA.keys(e).sort();for(;!e_(r=a.pop());)e_(e[r])||(t+=r+":"+eR(e[r])+",");eO.set(e,t)}}return t},eN=new WeakMap,eD={},eM={},ej="undefined",eL=typeof window!=ej,e$=typeof document!=ej,eF=()=>eL&&typeof window.requestAnimationFrame!=ej,eP=(e,t)=>{let r=eN.get(e);return[()=>!e_(t)&&e.get(t)||eD,a=>{if(!e_(t)){let n=e.get(t);t in eM||(eM[t]=n),r[5](t,ek(n,a),n||eD)}},r[6],()=>!e_(t)&&t in eM?eM[t]:!e_(t)&&e.get(t)||eD]},eW=!0,[eU,eV]=eL&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[eE,eE],eB={initFocus:e=>(e$&&document.addEventListener("visibilitychange",e),eU("focus",e),()=>{e$&&document.removeEventListener("visibilitychange",e),eV("focus",e)}),initReconnect:e=>{let t=()=>{eW=!0,e()},r=()=>{eW=!1};return eU("online",t),eU("offline",r),()=>{eV("online",t),eV("offline",r)}}},ez=!c.useId,eH=!eL||"Deno"in window,eJ=e=>eF()?window.requestAnimationFrame(e):setTimeout(e,1),eY=eH?c.useEffect:c.useLayoutEffect,eG="undefined"!=typeof navigator&&navigator.connection,eK=!eH&&eG&&(["slow-2g","2g"].includes(eG.effectiveType)||eG.saveData),eq=e=>{if(eT(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?eR(e):"",t]},eX=0,eZ=()=>++eX;var eQ={ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function e0(...e){let[t,r,a,n]=e,s=ek({populateCache:!0,throwOnError:!0},"boolean"==typeof n?{revalidate:n}:n||{}),l=s.populateCache,o=s.rollbackOnError,i=s.optimisticData,c=e=>"function"==typeof o?o(e):!1!==o,d=s.throwOnError;if(eT(r)){let e=[];for(let a of t.keys())!/^\$(inf|sub)\$/.test(a)&&r(t.get(a)._k)&&e.push(a);return Promise.all(e.map(u))}return u(r);async function u(r){let n,[o]=eq(r);if(!o)return;let[u,f]=eP(t,o),[p,h,y,g]=eN.get(t),v=()=>{let e=p[o];return(eT(s.revalidate)?s.revalidate(u().data,r):!1!==s.revalidate)&&(delete y[o],delete g[o],e&&e[0])?e[0](2).then(()=>u().data):u().data};if(e.length<3)return v();let m=a,b=eZ();h[o]=[b,0];let I=!e_(i),S=u(),E=S.data,w=S._c,A=e_(w)?E:w;if(I&&f({data:i=eT(i)?i(A,E):i,_c:A}),eT(m))try{m=m(A)}catch(e){n=e}if(m&&ex(m)){if(m=await m.catch(e=>{n=e}),b!==h[o][0]){if(n)throw n;return m}n&&I&&c(n)&&(l=!0,f({data:A,_c:ew}))}if(l&&!n&&(eT(l)?f({data:l(m,A),error:ew,_c:ew}):f({data:m,error:ew,_c:ew})),h[o][1]=eZ(),Promise.resolve(v()).then(()=>{f({_c:ew})}),n){if(d)throw n;return}return m}}let e1=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},e2=(e,t)=>{if(!eN.has(e)){let r=ek(eB,t),a={},n=e0.bind(ew,e),s=eE,l={},o=(e,t)=>{let r=l[e]||[];return l[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},i=(t,r,a)=>{e.set(t,r);let n=l[t];if(n)for(let e of n)e(r,a)},c=()=>{if(!eN.has(e)&&(eN.set(e,[a,{},{},{},n,i,o]),!eH)){let t=r.initFocus(setTimeout.bind(ew,e1.bind(ew,a,0))),n=r.initReconnect(setTimeout.bind(ew,e1.bind(ew,a,1)));s=()=>{t&&t(),n&&n(),eN.delete(e)}}};return c(),[e,n,c,s]}return[e,eN.get(e)[4]]},[e3,e6]=e2(new Map),e9=ek({onLoadingSlow:eE,onSuccess:eE,onError:eE,onErrorRetry:(e,t,r,a,n)=>{let s=r.errorRetryCount,l=n.retryCount,o=~~((Math.random()+.5)*(1<<(l<8?l:8)))*r.errorRetryInterval;(e_(s)||!(l>s))&&setTimeout(a,o,n)},onDiscarded:eE,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:eK?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:eK?5e3:3e3,compare:(e,t)=>eR(e)==eR(t),isPaused:()=>!1,cache:e3,mutate:e6,fallback:{}},{isOnline:()=>eW,isVisible:()=>{let e=e$&&document.visibilityState;return e_(e)||"hidden"!==e}}),e4=(e,t)=>{let r=ek(e,t);if(t){let{use:a,fallback:n}=e,{use:s,fallback:l}=t;a&&s&&(r.use=a.concat(s)),n&&l&&(r.fallback=ek(n,l))}return r},e5=(0,c.createContext)({}),e8=eL&&window.__SWR_DEVTOOLS_USE__,e7=e8?window.__SWR_DEVTOOLS_USE__:[],te=e=>eT(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],tt=()=>ek(e9,(0,c.useContext)(e5)),tr=e7.concat(e=>(t,r,a)=>{let n=r&&((...e)=>{let[a]=eq(t),[,,,n]=eN.get(e3);if(a.startsWith("$inf$"))return r(...e);let s=n[a];return e_(s)?r(...e):(delete n[a],s)});return e(t,n,a)}),ta=(e,t,r)=>{let a=t[e]||(t[e]=[]);return a.push(r),()=>{let e=a.indexOf(r);e>=0&&(a[e]=a[a.length-1],a.pop())}};e8&&(window.__SWR_DEVTOOLS_REACT__=c);let tn=c.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}),ts={dedupe:!0};eA.defineProperty(e=>{let{value:t}=e,r=(0,c.useContext)(e5),a=eT(t),n=(0,c.useMemo)(()=>a?t(r):t,[a,r,t]),s=(0,c.useMemo)(()=>a?n:e4(r,n),[a,r,n]),l=n&&n.provider,o=(0,c.useRef)(ew);l&&!o.current&&(o.current=e2(l(s.cache||e3),n));let i=o.current;return i&&(s.cache=i[0],s.mutate=i[1]),eY(()=>{if(i)return i[2]&&i[2](),i[3]},[]),(0,c.createElement)(e5.Provider,ek(e,{value:s}))},"defaultValue",{value:e9});let tl=(n=(e,t,r)=>{let{cache:a,compare:n,suspense:s,fallbackData:l,revalidateOnMount:o,revalidateIfStale:i,refreshInterval:d,refreshWhenHidden:u,refreshWhenOffline:f,keepPreviousData:p}=r,[h,y,g,v]=eN.get(a),[m,b]=eq(e),I=(0,c.useRef)(!1),S=(0,c.useRef)(!1),E=(0,c.useRef)(m),w=(0,c.useRef)(t),A=(0,c.useRef)(r),_=()=>A.current,T=()=>_().isVisible()&&_().isOnline(),[k,x,O,C]=eP(a,m),R=(0,c.useRef)({}).current,N=e_(l)?r.fallback[m]:l,D=(e,t)=>{for(let r in R)if("data"===r){if(!n(e[r],t[r])&&(!e_(e[r])||!n(V,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},M=(0,c.useMemo)(()=>{let e=!!m&&!!t&&(e_(o)?!_().isPaused()&&!s&&(!!e_(i)||i):o),r=t=>{let r=ek(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},a=k(),n=C(),l=r(a),c=a===n?l:r(n),d=l;return[()=>{let e=r(k());return D(e,d)?(d.data=e.data,d.isLoading=e.isLoading,d.isValidating=e.isValidating,d.error=e.error,d):(d=e,e)},()=>c]},[a,m]),j=(0,eS.useSyncExternalStore)((0,c.useCallback)(e=>O(m,(t,r)=>{D(r,t)||e()}),[a,m]),M[0],M[1]),L=!I.current,$=h[m]&&h[m].length>0,F=j.data,P=e_(F)?N:F,W=j.error,U=(0,c.useRef)(P),V=p?e_(F)?U.current:F:P,B=(!$||!!e_(W))&&(L&&!e_(o)?o:!_().isPaused()&&(s?!e_(P)&&i:e_(P)||i)),z=!!(m&&t&&L&&B),H=e_(j.isValidating)?z:j.isValidating,J=e_(j.isLoading)?z:j.isLoading,Y=(0,c.useCallback)(async e=>{let t,a,s=w.current;if(!m||!s||S.current||_().isPaused())return!1;let l=!0,o=e||{},i=!g[m]||!o.dedupe,c=()=>ez?!S.current&&m===E.current&&I.current:m===E.current,d={isValidating:!1,isLoading:!1},u=()=>{x(d)},f=()=>{let e=g[m];e&&e[1]===a&&delete g[m]},p={isValidating:!0};e_(k().data)&&(p.isLoading=!0);try{if(i&&(x(p),r.loadingTimeout&&e_(k().data)&&setTimeout(()=>{l&&c()&&_().onLoadingSlow(m,r)},r.loadingTimeout),g[m]=[s(b),eZ()]),[t,a]=g[m],t=await t,i&&setTimeout(f,r.dedupingInterval),!g[m]||g[m][1]!==a)return i&&c()&&_().onDiscarded(m),!1;d.error=ew;let e=y[m];if(!e_(e)&&(a<=e[0]||a<=e[1]||0===e[1]))return u(),i&&c()&&_().onDiscarded(m),!1;let o=k().data;d.data=n(o,t)?o:t,i&&c()&&_().onSuccess(t,m,r)}catch(r){f();let e=_(),{shouldRetryOnError:t}=e;!e.isPaused()&&(d.error=r,i&&c()&&(e.onError(r,m,e),(!0===t||eT(t)&&t(r))&&(!_().revalidateOnFocus||!_().revalidateOnReconnect||T())&&e.onErrorRetry(r,m,e,e=>{let t=h[m];t&&t[0]&&t[0](eQ.ERROR_REVALIDATE_EVENT,e)},{retryCount:(o.retryCount||0)+1,dedupe:!0})))}return l=!1,u(),!0},[m,a]),G=(0,c.useCallback)((...e)=>e0(a,E.current,...e),[]);if(eY(()=>{w.current=t,A.current=r,e_(F)||(U.current=F)}),eY(()=>{if(!m)return;let e=Y.bind(ew,ts),t=0,r=ta(m,h,(r,a={})=>{if(r==eQ.FOCUS_EVENT){let r=Date.now();_().revalidateOnFocus&&r>t&&T()&&(t=r+_().focusThrottleInterval,e())}else if(r==eQ.RECONNECT_EVENT)_().revalidateOnReconnect&&T()&&e();else if(r==eQ.MUTATE_EVENT)return Y();else if(r==eQ.ERROR_REVALIDATE_EVENT)return Y(a)});return S.current=!1,E.current=m,I.current=!0,x({_k:b}),B&&(e_(P)||eH?e():eJ(e)),()=>{S.current=!0,r()}},[m]),eY(()=>{let e;function t(){let t=eT(d)?d(k().data):d;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!k().error&&(u||_().isVisible())&&(f||_().isOnline())?Y(ts).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[d,u,f,m]),(0,c.useDebugValue)(V),s&&e_(P)&&m){if(!ez&&eH)throw Error("Fallback data is required when using suspense in SSR.");w.current=t,A.current=r,S.current=!1;let e=v[m];if(e_(e)||tn(G(e)),e_(W)){let e=Y(ts);e_(V)||(e.status="fulfilled",e.value=!0),tn(e)}else throw W}return{mutate:G,get data(){return R.data=!0,V},get error(){return R.error=!0,W},get isValidating(){return R.isValidating=!0,H},get isLoading(){return R.isLoading=!0,J}}},function(...e){let t=tt(),[r,a,s]=te(e),l=e4(t,s),o=n,{use:i}=l,c=(i||[]).concat(tr);for(let e=c.length;e--;)o=c[e](o);return o(r,a||l.fetcher||null,l)});var to=r(23069);function ti(e,t){return null!=t?to(e,t):e}var tc=function({api:e="/api/chat",id:t,initialMessages:r,initialInput:a="",sendExtraMessageFields:n,onToolCall:s,experimental_prepareRequestBody:l,maxSteps:o=1,streamProtocol:i="data",onResponse:d,onFinish:u,onError:f,credentials:p,headers:h,body:y,generateId:g=W,fetch:v,keepLastMessageOnError:m=!0,experimental_throttle:b}={}){let[I]=(0,c.useState)(g),S=null!=t?t:I,E="string"==typeof e?[e,S]:S,w=function(e){let[t,r]=(0,c.useState)(e);return(0,c.useEffect)(()=>{!function e(t,r){if(t===r)return!0;if(null==t||null==r)return!1;if("object"!=typeof t&&"object"!=typeof r)return t===r;if(t.constructor!==r.constructor)return!1;if(t instanceof Date&&r instanceof Date)return t.getTime()===r.getTime();if(Array.isArray(t)){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(!e(t[a],r[a]))return!1;return!0}let a=Object.keys(t),n=Object.keys(r);if(a.length!==n.length)return!1;for(let s of a)if(!n.includes(s)||!e(t[s],r[s]))return!1;return!0}(e,t)&&r(e)},[e,t]),t}(null!=r?r:[]),{data:A,mutate:_}=tl([E,"messages"],null,{fallbackData:(0,c.useMemo)(()=>em(w),[w])}),T=(0,c.useRef)(A||[]);(0,c.useEffect)(()=>{T.current=A||[]},[A]);let{data:k,mutate:x}=tl([E,"streamData"],null),O=(0,c.useRef)(k);(0,c.useEffect)(()=>{O.current=k},[k]);let{data:C="ready",mutate:R}=tl([E,"status"],null),{data:N,mutate:D}=tl([E,"error"],null),M=(0,c.useRef)(null),j=(0,c.useRef)({credentials:p,headers:h,body:y});(0,c.useEffect)(()=>{j.current={credentials:p,headers:h,body:y}},[p,h,y]);let L=(0,c.useCallback)(async(t,r="generate")=>{var a,c;R("submitted"),D(void 0);let p=em(t.messages),h=p.length,y=eg(null==(a=p[p.length-1])?void 0:a.toolInvocations);try{M.current=new AbortController;let a=ti(_,b),o=ti(x,b),f=T.current;a(p,!1);let h=n?p:p.map(({role:e,content:t,experimental_attachments:r,data:a,annotations:n,toolInvocations:s,parts:l})=>({role:e,content:t,...void 0!==r&&{experimental_attachments:r},...void 0!==a&&{data:a},...void 0!==n&&{annotations:n},...void 0!==s&&{toolInvocations:s},...void 0!==l&&{parts:l}})),y=O.current;await ep({api:e,body:null!=(c=null==l?void 0:l({id:S,messages:p,requestData:t.data,requestBody:t.body}))?c:{id:S,messages:h,data:t.data,...j.current.body,...t.body},streamProtocol:i,credentials:j.current.credentials,headers:{...j.current.headers,...t.headers},abortController:()=>M.current,restoreMessagesOnFailure(){m||a(f,!1)},onResponse:d,onUpdate({message:e,data:t,replaceLastMessage:r}){R("streaming"),a([...r?p.slice(0,p.length-1):p,e],!1),(null==t?void 0:t.length)&&o([...null!=y?y:[],...t],!1)},onToolCall:s,onFinish:u,generateId:g,fetch:v,lastMessage:p[p.length-1],requestType:r}),M.current=null,R("ready")}catch(e){if("AbortError"===e.name)return M.current=null,R("ready"),null;f&&e instanceof Error&&f(e),D(e),R("error")}let I=T.current;(function({originalMaxToolInvocationStep:e,originalMessageCount:t,maxSteps:r,messages:a}){var n;let s=a[a.length-1];return r>1&&null!=s&&(a.length>t||eg(s.toolInvocations)!==e)&&eI(s)&&(null!=(n=eg(s.toolInvocations))?n:0)<r})({originalMaxToolInvocationStep:y,originalMessageCount:h,maxSteps:o,messages:I})&&await L({messages:I})},[_,R,e,j,d,u,f,D,x,O,i,n,l,s,o,T,M,g,v,m,b,S]),$=(0,c.useCallback)(async(e,{data:t,headers:r,body:a,experimental_attachments:n=e.experimental_attachments}={})=>{var s,l;let o=await eb(n);return L({messages:T.current.concat({...e,id:null!=(s=e.id)?s:g(),createdAt:null!=(l=e.createdAt)?l:new Date,experimental_attachments:o.length>0?o:void 0,parts:ev(e)}),headers:r,body:a,data:t})},[L,g]),F=(0,c.useCallback)(async({data:e,headers:t,body:r}={})=>{let a=T.current;return 0===a.length?null:L({messages:"assistant"===a[a.length-1].role?a.slice(0,-1):a,headers:t,body:r,data:e})},[L]),P=(0,c.useCallback)(()=>{M.current&&(M.current.abort(),M.current=null)},[]),U=(0,c.useCallback)(async()=>{L({messages:T.current},"resume")},[L]),V=(0,c.useCallback)(e=>{"function"==typeof e&&(e=e(T.current));let t=em(e);_(t,!1),T.current=t},[_]),B=(0,c.useCallback)(e=>{"function"==typeof e&&(e=e(O.current)),x(e,!1),O.current=e},[x]),[z,H]=(0,c.useState)(a),J=(0,c.useCallback)(async(e,t={},r)=>{var a;if(null==(a=null==e?void 0:e.preventDefault)||a.call(e),!z&&!t.allowEmptySubmit)return;r&&(j.current={...j.current,...r});let n=await eb(t.experimental_attachments);L({messages:T.current.concat({id:g(),createdAt:new Date,role:"user",content:z,experimental_attachments:n.length>0?n:void 0,parts:[{type:"text",text:z}]}),headers:t.headers,body:t.body,data:t.data}),H("")},[z,g,L]),Y=(0,c.useCallback)(({toolCallId:e,result:t})=>{let r=T.current;!function({messages:e,toolCallId:t,toolResult:r}){var a;let n=e[e.length-1],s=n.parts.find(e=>"tool-invocation"===e.type&&e.toolInvocation.toolCallId===t);if(null==s)return;let l={...s.toolInvocation,state:"result",result:r};s.toolInvocation=l,n.toolInvocations=null==(a=n.toolInvocations)?void 0:a.map(e=>e.toolCallId===t?l:e)}({messages:r,toolCallId:e,toolResult:t}),_([...r.slice(0,r.length-1),{...r[r.length-1]}],!1),"submitted"!==C&&"streaming"!==C&&eI(r[r.length-1])&&L({messages:r})},[_,C,L]);return{messages:null!=A?A:[],id:S,setMessages:V,data:k,setData:B,error:N,append:$,reload:F,stop:P,experimental_resume:U,input:z,setInput:H,handleInputChange:e=>{H(e.target.value)},handleSubmit:J,isLoading:"submitted"===C||"streaming"===C,status:C,addToolResult:Y}},td=function({api:e="/api/completion",id:t,initialCompletion:r="",initialInput:a="",credentials:n,headers:s,body:l,streamProtocol:o="data",fetch:i,onResponse:d,onFinish:u,onError:f,experimental_throttle:p}={}){let h=(0,c.useId)(),y=t||h,{data:g,mutate:v}=tl([e,y],null,{fallbackData:r}),{data:m=!1,mutate:b}=tl([y,"loading"],null),{data:I,mutate:S}=tl([y,"streamData"],null),[E,w]=(0,c.useState)(void 0),[A,_]=(0,c.useState)(null),T=(0,c.useRef)({credentials:n,headers:s,body:l});(0,c.useEffect)(()=>{T.current={credentials:n,headers:s,body:l}},[n,s,l]);let k=(0,c.useCallback)(async(t,r)=>ey({api:e,prompt:t,credentials:T.current.credentials,headers:{...T.current.headers,...null==r?void 0:r.headers},body:{...T.current.body,...null==r?void 0:r.body},streamProtocol:o,fetch:i,setCompletion:ti(e=>v(e,!1),p),onData:ti(e=>S([...null!=I?I:[],...null!=e?e:[]],!1),p),setLoading:b,setError:w,setAbortController:_,onResponse:d,onFinish:u,onError:f}),[v,b,e,T,_,d,u,f,w,I,o,i,S,p]),x=(0,c.useCallback)(()=>{A&&(A.abort(),_(null))},[A]),O=(0,c.useCallback)(e=>{v(e,!1)},[v]),C=(0,c.useCallback)(async(e,t)=>k(e,t),[k]),[R,N]=(0,c.useState)(a),D=(0,c.useCallback)(e=>{var t;return null==(t=null==e?void 0:e.preventDefault)||t.call(e),R?C(R):void 0},[R,C]),M=(0,c.useCallback)(e=>{N(e.target.value)},[N]);return{completion:g,complete:C,error:E,setCompletion:O,stop:x,input:R,setInput:N,handleInputChange:M,handleSubmit:D,isLoading:m,data:I}}},20849:(e,t,r)=>{"use strict";r.d(t,{b:()=>c,l:()=>i});var a=r(54993),n=r(53239),s=r(91968),l=r(87990),o=r(70297);let i=(0,n.forwardRef)((e,t)=>{let{pressed:r,defaultPressed:i=!1,onPressedChange:c,...d}=e,[u=!1,f]=(0,l.i)({prop:r,onChange:c,defaultProp:i});return(0,n.createElement)(o.sG.button,(0,a.A)({type:"button","aria-pressed":u,"data-state":u?"on":"off","data-disabled":e.disabled?"":void 0},d,{ref:t,onClick:(0,s.m)(e.onClick,()=>{e.disabled||f(!u)})}))}),c=i},21211:(e,t,r)=>{"use strict";e.exports=r(94570)},21381:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]])},22925:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]])},23069:e=>{e.exports=function(e,t){let r;if("function"!=typeof e)throw TypeError(`Expected the first argument to be a \`function\`, got \`${typeof e}\`.`);let a=0;return function(...n){clearTimeout(r);let s=Date.now(),l=t-(s-a);l<=0?(a=s,e.apply(this,n)):r=setTimeout(()=>{a=Date.now(),e.apply(this,n)},l)}}},27163:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("CornerDownLeft",[["polyline",{points:"9 10 4 15 9 20",key:"r3jprv"}],["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}]])},31079:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]])},35829:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])},38627:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},38681:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>ep,dG:()=>X});var a=r(11230),n=r.n(a),s=r(77117),l=r.n(s),o=r(53239);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,s=[],l=!0,o=!1;try{for(r=r.call(e);!(l=(a=r.next()).done)&&(s.push(a.value),!t||s.length!==t);l=!0);}catch(e){o=!0,n=e}finally{try{l||null==r.return||r.return()}finally{if(o)throw n}}return s}}(e,t)||f(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function h(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=f(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,l=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){o=!0,s=e},f:function(){try{l||null==r.return||r.return()}finally{if(o)throw s}}}}function y(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r}var g={root:"tree",node:"tree-node",branch:"tree-node__branch",branchWrapper:"tree-branch-wrapper",leafListItem:"tree-leaf-list-item",leaf:"tree-node__leaf",nodeGroup:"tree-node-group"},v={select:"SELECT",focus:"FOCUS",exclusiveSelect:"EXCLUSIVE_SELECT"},m=Object.freeze(Object.values(v)),b=Object.freeze(Object.values({check:"check",select:"select"})),I="COLLAPSE",S="COLLAPSE_MANY",E="EXPAND",w="EXPAND_MANY",A="HALF_SELECT",_="SELECT",T="DESELECT",k="TOGGLE",x="TOGGLE_SELECT",O="SELECT_MANY",C="EXCLUSIVE_CHANGE_SELECT_MANY",R="FOCUS",N="BLUR",D="CLEAR_MANUALLY_TOGGLED",M="CONTROLLED_SELECT_MANY",j="UPDATE_TREE_STATE_WHEN_DATA_CHANGED",L=function(){},$=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){for(var r=0;r<t.length;r++){var a=t[r];if(a&&a(e),e.defaultPrevented)break}}},F=function(e,t){var r,a=new Set,n=h(e);try{for(n.s();!(r=n.n()).done;){var s=r.value;t.has(s)||a.add(s)}}catch(e){n.e(e)}finally{n.f()}return a},P=function(e,t){return new Set([].concat(u(F(e,t)),u(F(t,e))))},W=function(e){var t=(0,o.useRef)();return(0,o.useEffect)(function(){t.current=e},[e]),t.current},U=function(e,t){var r;return!!(null==(r=es(e,t).children)?void 0:r.length)},V=function(e,t){return es(e,t).parent},B=function(e,t,r){for(var a=t,n=[];;){var s=V(e,a);if(0===s||null==s||null!=s&&r.has(s))break;n.push(s),a=s}return n},z=function(e,t,r){var a=[];return function e(t,n){var s=es(t,n);if(null!=s.children){var l,o=h(s.children.filter(function(e){return!r.has(e)}));try{for(o.s();!(l=o.n()).done;){var i=l.value;a.push(i),e(t,i)}}catch(e){o.e(e)}finally{o.f()}}}(e,t),a},H=function(e,t){var r=es(e,t);return null==r.children?[]:r.children},J=function(e,t,r){var a=V(e,t);if(null!=a){var n=es(e,a),s=n.children.indexOf(t)+r;if(n.children[s])return n.children[s]}return null},Y=function(e,t,r){var a=es(e,t);for(en(e).id===t&&(a=es(e,es(e,t).children[es(e,t).children.length-1]));r.has(a.id)&&U(e,a.id);)a=es(e,a.children[a.children.length-1]);return a.id},G=function(e,t,r){if(t===en(e).children[0])return null;var a=J(e,t,-1);return null==a?V(e,t):Y(e,a,r)},K=function(e,t,r){var a=es(e,t).id;if(U(e,a)&&r.has(a))return es(e,a).children[0];for(;;){var n=J(e,a,1);if(null!=n)return n;if(null==(a=V(e,a)))return null}},q=function(e){var t=e.data,r=e.expandedIds,a=e.from,n=e.to,s=[],l=t.length,o=0,i=a;if(s.push(a),a<n)for(;o<l&&(null!=(i=K(t,i,r))&&s.push(i),null!=i&&i!==n);)o+=1;else if(a>n)for(;o<l&&(null!=(i=G(t,i,r))&&s.push(i),null!=i&&i!==n);)o+=1;return s},X=function(e){var t=0,r=[];return function e(a,n){var s,l=Object.assign(Object.assign({id:a.id||t,name:a.name,children:[]},a.isBranch&&{isBranch:a.isBranch}),{parent:n,metadata:a.metadata?Object.assign({},a.metadata):void 0});if(r.find(function(e){return e.id===l.id}))throw Error("Multiple TreeView nodes have the same ID (".concat(l.id,"). IDs must be unique."));if(r.push(l),t+=1,null==(s=a.children)?void 0:s.length){var o,i=h(a.children);try{for(i.s();!(o=i.n()).done;)e(o.value,l.id)}catch(e){i.e(e)}finally{i.f()}var c,d=h(r.values());try{for(d.s();!(c=d.n()).done;){var u=c.value;u.parent===l.id&&l.children.push(u.id)}}catch(e){d.e(e)}finally{d.f()}}}(e,null),r},Z=function(e){var t=e.isSelected,r=e.isDisabled,a=e.multiSelect;return r||a?t:!!t||void 0},Q=function(e){var t=e.isSelected,r=e.isDisabled,a=e.isHalfSelected,n=e.multiSelect;return r?t:a?"mixed":n?t:!!t||void 0},ee=function(e,t,r){return t.concat.apply(t,u(t.filter(function(t){return U(e,t)}).map(function(t){return z(e,t,r)})))},et=function(e,t,r){null!=t?window.navigator.userAgent.match(/Trident/)?setTimeout(function(){return!t.contains(document.activeElement)&&r()},0):t.contains(e.nativeEvent.relatedTarget)||r():console.warn("ref not set on <ul>")},er=function(e,t,r){var a=H(e,t);return U(e,t)&&!r.has(t)&&1===a.length&&a.every(function(e){return r.has(e)})},ea=function(e,t,r,a){var n,s,l=U(e,t)&&r.has(t)&&z(e,t,new Set).some(function(e){return r.has(e)}),o=(n=H(e,t),U(e,t)&&r.has(t)&&1===n.length&&n.every(function(e){return r.has(e)}));return(s=z(e,t,new Set),U(e,t)&&r.has(t)&&s.every(function(e){return r.has(e)})&&s.every(function(e){return!a.has(e)}))?x:l&&!o?A:x},en=function(e){var t=e.find(function(e){return null===e.parent});if(!t)throw Error("TreeView data must contain parent node.");return t},es=function(e,t){var r=e.find(function(e){return e.id===t});if(null==r)throw Error("Node with id=".concat(t," doesn't exist in the tree."));return r},el=function(e){var t=Array.from(new Set(e));return e.length!==t.length},eo=function(e,t){switch(t.type){case I:var r=new Set(e.expandedIds);return r.delete(t.id),Object.assign(Object.assign({},e),{expandedIds:r,tabbableId:t.id,isFocused:!0,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case S:var a,n=new Set(e.expandedIds),s=h(t.ids);try{for(s.s();!(a=s.n()).done;){var l=a.value;n.delete(l)}}catch(e){s.e(e)}finally{s.f()}return Object.assign(Object.assign({},e),{expandedIds:n,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case E:var o=new Set(e.expandedIds);return o.add(t.id),Object.assign(Object.assign({},e),{expandedIds:o,tabbableId:t.id,isFocused:!0,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case w:var i=new Set([].concat(u(e.expandedIds),u(t.ids)));return Object.assign(Object.assign({},e),{expandedIds:i,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case k:var c=new Set(e.expandedIds);return e.expandedIds.has(t.id)?c.delete(t.id):c.add(t.id),Object.assign(Object.assign({},e),{expandedIds:c,tabbableId:t.id,isFocused:!0,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case A:if(e.disabledIds.has(t.id))return e;var d=new Set(e.halfSelectedIds),f=new Set(e.selectedIds);return d.add(t.id),f.delete(t.id),Object.assign(Object.assign({},e),{selectedIds:f,halfSelectedIds:d,tabbableId:t.keepFocus?e.tabbableId:t.id,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled,lastUserSelect:t.NotUserAction?e.lastUserSelect:t.id});case _:if(!t.NotUserAction&&e.disabledIds.has(t.id))return e;t.multiSelect?(p=new Set(e.selectedIds)).add(t.id):(p=new Set).add(t.id);var p,y=new Set(e.halfSelectedIds);return y.delete(t.id),Object.assign(Object.assign({},e),{selectedIds:p,halfSelectedIds:y,tabbableId:t.keepFocus?e.tabbableId:t.id,isFocused:!0!==t.NotUserAction,lastUserSelect:t.NotUserAction?e.lastUserSelect:t.id,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled});case T:if(!t.NotUserAction&&e.disabledIds.has(t.id))return e;var g,v=new Set(e.selectedIds);return v.delete(t.id),t.multiSelect?(g=new Set(e.halfSelectedIds)).delete(t.id):g=new Set,Object.assign(Object.assign({},e),{selectedIds:v,halfSelectedIds:g,tabbableId:t.keepFocus?e.tabbableId:t.id,isFocused:!0,lastUserSelect:t.NotUserAction?e.lastUserSelect:t.id,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled});case x:if(e.disabledIds.has(t.id))return e;var m,b=e.selectedIds.has(t.id);t.multiSelect?(m=new Set(e.selectedIds),b?m.delete(t.id):m.add(t.id)):(m=new Set,b||m.add(t.id));var L=new Set(e.halfSelectedIds);return L.delete(t.id),Object.assign(Object.assign({},e),{selectedIds:m,halfSelectedIds:L,tabbableId:t.id,isFocused:!0,lastUserSelect:t.NotUserAction?e.lastUserSelect:t.id,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled});case O:var $,P=t.ids.filter(function(t){return!e.disabledIds.has(t)});if(t.multiSelect){$=t.select?new Set([].concat(u(e.selectedIds),u(P))):F(e.selectedIds,new Set(P));var W=F(e.halfSelectedIds,$);return Object.assign(Object.assign({},e),{selectedIds:$,halfSelectedIds:W,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled})}return e;case C:var U,V=t.ids.filter(function(t){return!e.disabledIds.has(t)});if(t.multiSelect){U=t.select?new Set(V):F(e.selectedIds,new Set(V));var B=F(e.halfSelectedIds,U);return Object.assign(Object.assign({},e),{selectedIds:U,halfSelectedIds:B,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled})}return e;case M:var z,H=e.lastInteractedWith,J=e.tabbableId;if(t.multiSelect)z=new Set(t.ids),t.ids.length&&(H=t.ids[t.ids.length-1],J=t.ids[t.ids.length-1]);else{z=new Set,t.ids.length>1&&console.warn("Tree in singleSelect mode, only the first item from selectedIds will be selected.");var Y=t.ids[0];Y&&z.add(Y),H=null!=Y?Y:H,J=null!=Y?Y:H}var G=new Set(e.halfSelectedIds);t.ids.every(function(e){return G.delete(e)});var K=new Set(t.ids);return Object.assign(Object.assign({},e),{selectedIds:z,halfSelectedIds:G,controlledIds:K,isFocused:!0,lastAction:t.type,tabbableId:J,lastInteractedWith:H});case R:return Object.assign(Object.assign({},e),{tabbableId:t.id,isFocused:!0,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case N:return Object.assign(Object.assign({},e),{isFocused:!1});case"DISABLE":var q=new Set(e.disabledIds);return q.add(t.id),Object.assign(Object.assign({},e),{disabledIds:q});case"ENABLE":var X=new Set(e.disabledIds);return X.delete(t.id),Object.assign(Object.assign({},e),{disabledIds:X});case D:return Object.assign(Object.assign({},e),{lastManuallyToggled:null});case j:return Object.assign(Object.assign({},e),{tabbableId:t.tabbableId,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled,lastUserSelect:t.lastUserSelect});default:throw Error("Invalid action passed to the reducer")}},ei=function(e){var t=e.element,r=e.dispatch,a=e.data,s=e.selectedIds,l=e.tabbableId,i=e.isFocused,d=e.expandedIds,f=e.disabledIds,p=e.halfSelectedIds,h=e.lastUserSelect,g=e.nodeRefs,m=e.leafRefs,b=e.baseClassNames,I=e.nodeRenderer,E=e.nodeAction,w=e.setsize,A=e.posinset,T=e.level,N=e.propagateCollapse,D=e.propagateSelect,M=e.multiSelect,j=e.togglableSelect,F=e.clickAction,P=e.state,W=function(e){e.ctrlKey||e.altKey||e.shiftKey||(d.has(t.id)&&N?r({type:S,ids:[t.id].concat(u(z(a,t.id,new Set))),lastInteractedWith:t.id}):r({type:k,id:t.id,lastInteractedWith:t.id}))},V=function(){return r({type:R,id:t.id,lastInteractedWith:t.id})},B=function(e){if(e.shiftKey){var n=q({data:a,expandedIds:d,from:h,to:t.id}).filter(function(e){return!f.has(e)});r({type:C,select:!0,multiSelect:M,ids:n=D?ee(a,n,f):n,lastInteractedWith:t.id,lastManuallyToggled:t.id})}else e.ctrlKey||F===v.select?(r({type:j?ea(a,t.id,s,f):_,id:t.id,multiSelect:M,lastInteractedWith:t.id,lastManuallyToggled:t.id}),D&&!f.has(t.id)&&r({type:O,ids:ee(a,[t.id],f),select:!j||!s.has(t.id),multiSelect:M,lastInteractedWith:t.id,lastManuallyToggled:t.id})):F===v.exclusiveSelect?r({type:j?x:_,id:t.id,multiSelect:!1,lastInteractedWith:t.id,lastManuallyToggled:t.id}):F===v.focus&&r({type:R,id:t.id,lastInteractedWith:t.id})},H=function(e){var r;return n()(e,(c(r={},"".concat(e,"--expanded"),d.has(t.id)),c(r,"".concat(e,"--selected"),s.has(t.id)),c(r,"".concat(e,"--focused"),l===t.id&&i),r))},J="select"===E?{"aria-selected":Z({isSelected:s.has(t.id),isDisabled:f.has(t.id),multiSelect:M})}:{"aria-checked":Q({isSelected:s.has(t.id),isDisabled:f.has(t.id),isHalfSelected:p.has(t.id),multiSelect:M})};return U(a,t.id)||t.isBranch?o.createElement("li",Object.assign({role:"treeitem","aria-expanded":d.has(t.id),"aria-setsize":w,"aria-posinset":A,"aria-level":T,"aria-disabled":f.has(t.id),tabIndex:l===t.id?0:-1,ref:function(e){null!=(null==g?void 0:g.current)&&null!=e&&(g.current[t.id]=e)},className:b.branchWrapper},J),o.createElement(o.Fragment,null,I({element:t,isBranch:!0,isSelected:s.has(t.id),isHalfSelected:p.has(t.id),isExpanded:d.has(t.id),isDisabled:f.has(t.id),dispatch:r,getNodeProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.onClick;return{onClick:null==r?$(B,W,V):$(r,V),className:n()(H(b.node),b.branch),ref:function(e){null!=(null==m?void 0:m.current)&&(m.current[t.id]=e)}}},setsize:w,posinset:A,level:T,handleSelect:B,handleExpand:W,treeState:P}),o.createElement(ec,Object.assign({getClasses:H},(e.setsize,e.posinset,y(e,["setsize","posinset"])))))):o.createElement("li",{role:"none",className:H(b.leafListItem)},I({element:t,isBranch:!1,isSelected:s.has(t.id),isHalfSelected:!1,isExpanded:!1,isDisabled:f.has(t.id),dispatch:r,getNodeProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.onClick;return Object.assign({role:"treeitem",tabIndex:l===t.id?0:-1,onClick:$(null==r?B:r,V),ref:function(e){null!=(null==g?void 0:g.current)&&null!=(null==m?void 0:m.current)&&(g.current[t.id]=e,m.current[t.id]=e)},className:n()(H(b.node),b.leaf),"aria-setsize":w,"aria-posinset":A,"aria-level":T,disabled:f.has(t.id),"aria-disabled":f.has(t.id)},J)},setsize:w,posinset:A,level:T,handleSelect:B,handleExpand:L,treeState:P}))},ec=function(e){var t=e.data,r=e.element,a=e.expandedIds,n=e.getClasses,s=e.baseClassNames,l=e.level,c=y(e,["data","element","expandedIds","getClasses","baseClassNames","level"]);return o.createElement("ul",{role:"group",className:n(s.nodeGroup)},a.has(r.id)&&r.children.length>0&&r.children.map(function(e,n){return o.createElement(ei,Object.assign({data:t,expandedIds:a,baseClassNames:s,key:"".concat(e,"-").concat(i(e)),element:es(t,e),setsize:r.children.length,posinset:n+1,level:l+1},c))}))},ed=function(e){var t=e.data,r=e.controlledSelectedIds,a=e.controlledExpandedIds,n=e.defaultExpandedIds,s=e.defaultSelectedIds,l=e.defaultDisabledIds,i=e.nodeRefs,c=e.leafRefs,f=e.onSelect,p=e.onNodeSelect,y=e.onExpand,g=e.onLoadData,v=e.togglableSelect,m=e.multiSelect,b=e.propagateSelect,x=e.propagateSelectUpwards,C=e.treeRef,N=en(t),$=d((0,o.useReducer)(eo,{selectedIds:new Set(r||s),controlledIds:new Set(r),tabbableId:N.children[0],isFocused:!1,expandedIds:new Set(a||n),halfSelectedIds:new Set,lastUserSelect:N.children[0],lastInteractedWith:null,lastManuallyToggled:null,disabledIds:new Set(l)}),2),H=$[0],J=$[1],Y=H.selectedIds,G=H.expandedIds,K=H.disabledIds,q=H.tabbableId,X=H.halfSelectedIds,Z=H.lastAction,Q=H.lastInteractedWith,et=H.lastManuallyToggled,ea=W(Y)||new Set,el=P(Y,ea);(0,o.useEffect)(function(){var e;if(null!=f&&f!==L){var r,a=h(el);try{for(a.s();!(r=a.n()).done;){var n=r.value,s=U(t,n)||!!(null==(e=es(t,q))?void 0:e.isBranch);f({element:es(t,n),isBranch:s,isExpanded:!!s&&G.has(n),isSelected:Y.has(n),isDisabled:K.has(n),isHalfSelected:!!s&&X.has(n),treeState:H})}}catch(e){a.e(e)}finally{a.f()}}},[t,Y,G,K,X,el,f,H]),(0,o.useEffect)(function(){null!=p&&p!==L&&null!=et&&el.size&&(p({element:es(t,et),isSelected:Y.has(et),isBranch:U(t,et),treeState:H}),J({type:D}))},[et,Y,el]);var ei=W(G)||new Set;(0,o.useEffect)(function(){var e=P(G,ei);if(null!=y&&y!==L){var r,a=h(e);try{for(a.s();!(r=a.n()).done;){var n=r.value;y({element:es(t,n),isExpanded:G.has(n),isSelected:Y.has(n),isDisabled:K.has(n),isHalfSelected:X.has(n),treeState:H})}}catch(e){a.e(e)}finally{a.f()}}},[t,Y,G,K,X,ei,y,H]);var ec,ed=(ec=(0,o.useRef)(),(0,o.useEffect)(function(){ec.current=t}),ec.current||new Map);(0,o.useEffect)(function(){var e=P(G,ei);if(g){var r,a=h(e);try{for(a.s();!(r=a.n()).done;){var n=r.value;g({element:es(t,n),isExpanded:G.has(n),isSelected:Y.has(n),isDisabled:K.has(n),isHalfSelected:X.has(n),treeState:H})}}catch(e){a.e(e)}finally{a.f()}if(ed!==t&&v&&b){var s,l=h(G);try{for(l.s();!(s=l.n()).done;){var o=s.value;Y.has(o)&&J({type:O,ids:ee(t,[o],K),select:!0,multiSelect:m,lastInteractedWith:o})}}catch(e){l.e(e)}finally{l.f()}}}},[t,Y,G,K,X,ei,g,H]),(0,o.useEffect)(function(){if(ed!==t){var e=en(t);e.children.length&&J({type:j,tabbableId:t.find(function(e){return e.id===H.tabbableId})?H.tabbableId:e.children[0],lastInteractedWith:t.find(function(e){return e.id===H.lastInteractedWith})?H.lastInteractedWith:null,lastManuallyToggled:t.find(function(e){return e.id===H.lastManuallyToggled})?H.lastManuallyToggled:null,lastUserSelect:t.find(function(e){return e.id===H.lastUserSelect})?H.lastUserSelect:e.children[0]})}},[t]);var eu=P(new Set(r),Y);return(0,o.useEffect)(function(){if(r){eu.size&&J({type:M,ids:r,multiSelect:m});var e,a=h(r);try{for(a.s();!(e=a.n()).done;){var n=e.value;b&&!K.has(n)&&J({type:O,ids:ee(t,[n],K),select:!0,multiSelect:m,lastInteractedWith:n})}}catch(e){a.e(e)}finally{a.f()}}},[r]),(0,o.useEffect)(function(){var e=new Set(a),r=F(e,ei),n=F(ei,e);if(n.size){var s,l=h(n);try{for(l.s();!(s=l.n()).done;){var o=s.value;if(U(t,o)||es(t,o).isBranch){var i=[o].concat(u(z(t,o,new Set)));J({type:S,ids:i,lastInteractedWith:o})}}}catch(e){l.e(e)}finally{l.f()}}if(r.size){var c,d=h(r);try{for(d.s();!(c=d.n()).done;){var f=c.value;if(U(t,f)||es(t,f).isBranch){var p=V(t,f);J(p?{type:w,ids:[f,p],lastInteractedWith:f}:{type:E,id:f,lastInteractedWith:f})}}}catch(e){d.e(e)}finally{d.f()}}},[a]),(0,o.useEffect)(function(){if(x){var e=new Set(u(el));Q&&Z!==R&&Z!==I&&Z!==E&&Z!==k&&e.add(Q);var r=[];e.forEach(function(e){t.find(function(t){return t.id===e})||r.push(e)}),r.forEach(function(t){return e.delete(t)});var a,n=function(e,t,r,a,n,s){var l,o={every:new Set,some:new Set,none:new Set},i=h(t);try{for(i.s();!(l=i.n()).done;)for(var c=l.value;;){var d=V(e,c);if(0===d||null==d||null!=d&&a.has(d))break;var u=es(e,d).children.filter(function(e){return!a.has(e)});if(0===u.length)break;if(u.some(function(e){return r.has(e)||o.some.has(e)&&!o.none.has(e)||n.has(e)&&!o.none.has(e)}))u.every(function(e){return r.has(e)})?o.every.add(d):o.some.add(d);else{var f=B(e,c,a).find(function(e){return r.has(e)});if(!s&&f){z(e,f,a).forEach(function(e){n.has(e)&&o.none.add(e)});break}o.none.add(d)}c=d}}catch(e){i.e(e)}finally{i.f()}return o}(t,e,Y,K,X,m),s=n.every,l=n.some,o=n.none,i=h(s);try{for(i.s();!(a=i.n()).done;){var c=a.value;Y.has(c)||J({type:_,id:c,multiSelect:m||er(t,c,Y),keepFocus:!0,NotUserAction:!0,lastInteractedWith:Q})}}catch(e){i.e(e)}finally{i.f()}var d,f=h(l);try{for(f.s();!(d=f.n()).done;){var p=d.value;X.has(p)||J({type:A,id:p,lastInteractedWith:Q,keepFocus:!0,NotUserAction:!0})}}catch(e){f.e(e)}finally{f.f()}var y,g=h(o);try{for(g.s();!(y=g.n()).done;){var v=y.value;(Y.has(v)||X.has(v))&&J({type:T,id:v,multiSelect:m,keepFocus:!0,NotUserAction:!0,lastInteractedWith:Q,lastManuallyToggled:et})}}catch(e){g.e(e)}finally{g.f()}}},[t,m,x,Y,G,K,X,Z,ea,el,Q,eu]),(0,o.useEffect)(function(){if(null!=Q&&null!=q&&null!=(null==i?void 0:i.current)&&null!=(null==c?void 0:c.current)&&(null==(null==C?void 0:C.current)||document.activeElement&&C.current.contains(document.activeElement))){var e,t=i.current[q];null!=(e=c.current[Q])&&e.scrollIntoView&&e.scrollIntoView({block:"nearest"}),null!=t&&t.focus&&t.focus({preventScroll:!0})}},[q,i,c,Q]),[H,J]},eu=o.forwardRef(function(e,t){var r=e.data,a=e.selectedIds,s=e.nodeRenderer,l=e.onSelect,c=void 0===l?L:l,u=e.onNodeSelect,f=void 0===u?L:u,p=e.onExpand,h=void 0===p?L:p,m=e.onLoadData,b=e.className,I=e.multiSelect,S=void 0!==I&&I,E=e.propagateSelect,w=void 0!==E&&E,A=e.propagateSelectUpwards,_=void 0!==A&&A,T=e.propagateCollapse,k=void 0!==T&&T,x=e.expandOnKeyboardSelect,O=e.togglableSelect,C=void 0!==O&&O,R=e.defaultExpandedIds,D=e.defaultSelectedIds,M=e.defaultDisabledIds,j=e.clickAction,$=void 0===j?v.select:j,F=e.nodeAction,P=void 0===F?"select":F,W=e.expandedIds,U=e.onBlur,V=y(e,["data","selectedIds","nodeRenderer","onSelect","onNodeSelect","onExpand","onLoadData","className","multiSelect","propagateSelect","propagateSelectUpwards","propagateCollapse","expandOnKeyboardSelect","togglableSelect","defaultExpandedIds","defaultSelectedIds","defaultDisabledIds","clickAction","nodeAction","expandedIds","onBlur"]);if(el(r.map(function(e){return e.id})))throw Error("Multiple TreeView nodes have the same ID. IDs must be unique.");if(r.forEach(function(e){if(e.id===e.parent)throw Error("Node with id=".concat(e.id," has parent reference to itself."));if(el(e.children))throw Error("Node with id=".concat(e.id," contains duplicate ids in its children."))}),0===r.filter(function(e){return null===e.parent}).length)throw Error("TreeView must have one root node.");if(r.filter(function(e){return null===e.parent}).length>1)throw Error("TreeView can have only one root node.");en(r).children.length||console.warn("TreeView have no nodes to display.");var B=(0,o.useRef)({}),z=(0,o.useRef)({}),H=(0,o.useRef)(null);null!=t&&(H=t);var J=d(ed({data:r,controlledSelectedIds:a,controlledExpandedIds:W,defaultExpandedIds:void 0===R?[]:R,defaultSelectedIds:void 0===D?[]:D,defaultDisabledIds:void 0===M?[]:M,nodeRefs:B,leafRefs:z,onSelect:c,onNodeSelect:f,onExpand:h,onLoadData:m,togglableSelect:C,multiSelect:S,propagateSelect:w,propagateSelectUpwards:_,treeRef:H}),2),Y=J[0],G=J[1];return w=w&&S,o.createElement("ul",Object.assign({className:n()(g.root,void 0===b?"":b),role:"tree","aria-multiselectable":"select"===P?S:void 0,ref:H,onBlur:function(e){et(e,H.current,function(){U&&U({treeState:Y,dispatch:G}),G({type:N})})},onKeyDown:ef({data:r,tabbableId:Y.tabbableId,expandedIds:Y.expandedIds,selectedIds:Y.selectedIds,disabledIds:Y.disabledIds,halfSelectedIds:Y.halfSelectedIds,clickAction:$,dispatch:G,propagateCollapse:k,propagateSelect:w,multiSelect:S,expandOnKeyboardSelect:void 0!==x&&x,togglableSelect:C})},V),en(r).children.map(function(e,t){return o.createElement(ei,Object.assign({key:"".concat(e,"-").concat(i(e)),data:r,element:es(r,e),setsize:en(r).children.length,posinset:t+1,level:1},Y,{state:Y,dispatch:G,nodeRefs:B,leafRefs:z,baseClassNames:g,nodeRenderer:s,propagateCollapse:k,propagateSelect:w,propagateSelectUpwards:_,multiSelect:S,togglableSelect:C,clickAction:$,nodeAction:P}))}))}),ef=function(e){var t=e.data,r=e.expandedIds,a=e.selectedIds,n=e.disabledIds,s=e.tabbableId,l=e.dispatch,o=e.propagateCollapse,i=e.propagateSelect,c=e.multiSelect,d=e.expandOnKeyboardSelect,f=e.togglableSelect,p=e.clickAction;return function(e){var h=es(t,s),y=h.id;if(e.ctrlKey){if("a"===e.key&&p!==v.focus){e.preventDefault();var g=t.filter(function(e){return null!==e.parent}).map(function(e){return e.id}).filter(function(e){return!n.has(e)});l({type:O,multiSelect:c,select:Array.from(a).filter(function(e){return!n.has(e)}).length!==g.length,ids:g,lastInteractedWith:h.id})}else if(e.shiftKey&&("Home"===e.key||"End"===e.key)&&p!==v.focus){var m="Home"===e.key?en(t).children[0]:Y(t,y,r),b=q({data:t,expandedIds:r,from:y,to:m}).filter(function(e){return!n.has(e)});l({type:O,multiSelect:c,select:!0,ids:i?ee(t,b,n):b}),l({type:R,id:m,lastInteractedWith:m})}}else{if(e.shiftKey)switch(e.key){case"ArrowUp":e.preventDefault();var A=G(t,y,r);return void(null==A||n.has(A)||(p!==v.focus&&l({type:O,ids:i?ee(t,[A],n):[A],select:!0,multiSelect:c,lastInteractedWith:A,lastManuallyToggled:A}),l({type:R,id:A,lastInteractedWith:A})));case"ArrowDown":e.preventDefault();var T=K(t,y,r);return void(null==T||n.has(T)||(p!==v.focus&&l({type:O,ids:i?ee(t,[T],n):[T],multiSelect:c,select:!0,lastInteractedWith:T,lastManuallyToggled:T}),l({type:R,id:T,lastInteractedWith:T})))}switch(e.key){case"ArrowDown":e.preventDefault();var x=K(t,y,r);return void(null!=x&&l({type:R,id:x,lastInteractedWith:x}));case"ArrowUp":e.preventDefault();var C=G(t,y,r);return void(null!=C&&l({type:R,id:C,lastInteractedWith:C}));case"ArrowLeft":if(e.preventDefault(),(U(t,y)||h.isBranch)&&r.has(s))o?l({type:S,ids:[y].concat(u(z(t,y,new Set))),lastInteractedWith:h.id}):l({type:I,id:y,lastInteractedWith:y});else if(!en(t).children.includes(y)){var N=V(t,y);if(null==N)throw Error("parentId of root element is null");l({type:R,id:N,lastInteractedWith:N})}return;case"ArrowRight":return e.preventDefault(),void((U(t,y)||h.isBranch)&&(r.has(s)?l({type:R,id:h.children[0],lastInteractedWith:h.children[0]}):l({type:E,id:y,lastInteractedWith:y})));case"Home":e.preventDefault(),l({type:R,id:en(t).children[0],lastInteractedWith:en(t).children[0]});break;case"End":e.preventDefault();var D=Y(t,en(t).id,r);return void l({type:R,id:D,lastInteractedWith:D});case"*":e.preventDefault();var M=V(t,y);if(null==M)throw Error("parentId of element is null");return void l({type:w,ids:es(t,M).children.filter(function(e){return U(t,e)||es(t,e).isBranch}),lastInteractedWith:y});case"Enter":case" ":case"Spacebar":if(e.preventDefault(),p===v.focus)return;return l({type:f?ea(t,y,a,n):_,id:y,multiSelect:c,lastInteractedWith:y,lastManuallyToggled:y}),i&&!n.has(h.id)&&l({type:O,ids:ee(t,[y],n),select:!f||!a.has(y),multiSelect:c,lastInteractedWith:y,lastManuallyToggled:y}),void(d&&l({type:k,id:y,lastInteractedWith:y}));default:if(1===e.key.length)for(var j=K(t,y,r);j!==y;)if(null!=j){if(es(t,j).name[0].toLowerCase()===e.key.toLowerCase())return void l({type:R,id:j,lastInteractedWith:y});j=K(t,j,r)}else j=en(t).children[0];return}}}};eu.propTypes={data:l().array.isRequired,onSelect:l().func,onNodeSelect:l().func,onExpand:l().func,className:l().string,nodeRenderer:l().func.isRequired,defaultExpandedIds:l().array,defaultSelectedIds:l().array,expandedIds:l().array,selectedIds:l().array,defaultDisabledIds:l().array,propagateCollapse:l().bool,propagateSelect:l().bool,propagateSelectUpwards:l().bool,multiSelect:l().bool,expandOnKeyboardSelect:l().bool,togglableSelect:l().bool,nodeAction:l().oneOf(b),clickAction:l().oneOf(m),onBlur:l().func,onLoadData:l().func};let ep=eu},39751:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("MessageCircleMore",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}]])},41226:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])},44624:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]])},45936:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]])},51395:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},52700:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])},54272:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},58324:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]])},62384:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("GripHorizontal",[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]])},62761:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var a=r(88725),n=r(30381),s=r(52185),l=r(69838),o=r(63139),i=(0,a.gu)({chartName:"BarChart",GraphicalChild:n.y,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:s.W},{axisType:"yAxis",AxisComp:l.h}],formatAxisMap:o.pr})},64484:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("FolderClosed",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M2 10h20",key:"1ir3d8"}]])},64741:function(e){e.exports=function(){"use strict";var e,t,r=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,a=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,n={years:31536e6,months:2628e6,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1,weeks:6048e5},s=function(e){return e instanceof u},l=function(e,t,r){return new u(e,r,t.$l)},o=function(e){return t.p(e)+"s"},i=function(e){return e<0},c=function(e){return i(e)?Math.ceil(e):Math.floor(e)},d=function(e,t){return e?i(e)?{negative:!0,format:""+Math.abs(e)+t}:{negative:!1,format:""+e+t}:{negative:!1,format:""}},u=function(){function i(e,t,r){var s=this;if(this.$d={},this.$l=r,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return l(e*n[o(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach(function(t){s.$d[o(t)]=e[t]}),this.calMilliseconds(),this;if("string"==typeof e){var i=e.match(a);if(i){var c=i.slice(2).map(function(e){return null!=e?Number(e):0});return this.$d.years=c[0],this.$d.months=c[1],this.$d.weeks=c[2],this.$d.days=c[3],this.$d.hours=c[4],this.$d.minutes=c[5],this.$d.seconds=c[6],this.calMilliseconds(),this}}return this}var u=i.prototype;return u.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce(function(t,r){return t+(e.$d[r]||0)*n[r]},0)},u.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=c(e/31536e6),e%=31536e6,this.$d.months=c(e/2628e6),e%=2628e6,this.$d.days=c(e/864e5),e%=864e5,this.$d.hours=c(e/36e5),e%=36e5,this.$d.minutes=c(e/6e4),e%=6e4,this.$d.seconds=c(e/1e3),e%=1e3,this.$d.milliseconds=e},u.toISOString=function(){var e=d(this.$d.years,"Y"),t=d(this.$d.months,"M"),r=+this.$d.days||0;this.$d.weeks&&(r+=7*this.$d.weeks);var a=d(r,"D"),n=d(this.$d.hours,"H"),s=d(this.$d.minutes,"M"),l=this.$d.seconds||0;this.$d.milliseconds&&(l+=this.$d.milliseconds/1e3,l=Math.round(1e3*l)/1e3);var o=d(l,"S"),i=e.negative||t.negative||a.negative||n.negative||s.negative||o.negative,c=n.format||s.format||o.format?"T":"",u=(i?"-":"")+"P"+e.format+t.format+a.format+c+n.format+s.format+o.format;return"P"===u||"-P"===u?"P0D":u},u.toJSON=function(){return this.toISOString()},u.format=function(e){var a={Y:this.$d.years,YY:t.s(this.$d.years,2,"0"),YYYY:t.s(this.$d.years,4,"0"),M:this.$d.months,MM:t.s(this.$d.months,2,"0"),D:this.$d.days,DD:t.s(this.$d.days,2,"0"),H:this.$d.hours,HH:t.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:t.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:t.s(this.$d.seconds,2,"0"),SSS:t.s(this.$d.milliseconds,3,"0")};return(e||"YYYY-MM-DDTHH:mm:ss").replace(r,function(e,t){return t||String(a[e])})},u.as=function(e){return this.$ms/n[o(e)]},u.get=function(e){var t=this.$ms,r=o(e);return"milliseconds"===r?t%=1e3:t="weeks"===r?c(t/n[r]):this.$d[r],t||0},u.add=function(e,t,r){var a;return a=t?e*n[o(t)]:s(e)?e.$ms:l(e,this).$ms,l(this.$ms+a*(r?-1:1),this)},u.subtract=function(e,t){return this.add(e,t,!0)},u.locale=function(e){var t=this.clone();return t.$l=e,t},u.clone=function(){return l(this.$ms,this)},u.humanize=function(t){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},u.valueOf=function(){return this.asMilliseconds()},u.milliseconds=function(){return this.get("milliseconds")},u.asMilliseconds=function(){return this.as("milliseconds")},u.seconds=function(){return this.get("seconds")},u.asSeconds=function(){return this.as("seconds")},u.minutes=function(){return this.get("minutes")},u.asMinutes=function(){return this.as("minutes")},u.hours=function(){return this.get("hours")},u.asHours=function(){return this.as("hours")},u.days=function(){return this.get("days")},u.asDays=function(){return this.as("days")},u.weeks=function(){return this.get("weeks")},u.asWeeks=function(){return this.as("weeks")},u.months=function(){return this.get("months")},u.asMonths=function(){return this.as("months")},u.years=function(){return this.get("years")},u.asYears=function(){return this.as("years")},i}(),f=function(e,t,r){return e.add(t.years()*r,"y").add(t.months()*r,"M").add(t.days()*r,"d").add(t.hours()*r,"h").add(t.minutes()*r,"m").add(t.seconds()*r,"s").add(t.milliseconds()*r,"ms")};return function(r,a,n){e=n,t=n().$utils(),n.duration=function(e,t){return l(e,{$l:n.locale()},t)},n.isDuration=s;var o=a.prototype.add,i=a.prototype.subtract;a.prototype.add=function(e,t){return s(e)?f(this,e,1):o.bind(this)(e,t)},a.prototype.subtract=function(e,t){return s(e)?f(this,e,-1):i.bind(this)(e,t)}}}()},71203:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},72486:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]])},75816:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("ChevronsDown",[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]])},77878:(e,t,r)=>{"use strict";r.d(t,{bL:()=>T,q7:()=>k});var a=r(54993),n=r(53239),s=r(68436),l=r(70297),o=r(23578),i=r(20849),c=r(87990),d=r(37268);let u="ToggleGroup",[f,p]=(0,s.A)(u,[o.RG]),h=(0,o.RG)(),y=n.forwardRef((e,t)=>{let{type:r,...s}=e;if("single"===r)return n.createElement(m,(0,a.A)({},s,{ref:t}));if("multiple"===r)return n.createElement(b,(0,a.A)({},s,{ref:t}));throw Error(`Missing prop \`type\` expected on \`${u}\``)}),[g,v]=f(u),m=n.forwardRef((e,t)=>{let{value:r,defaultValue:s,onValueChange:l=()=>{},...o}=e,[i,d]=(0,c.i)({prop:r,defaultProp:s,onChange:l});return n.createElement(g,{scope:e.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:d,onItemDeactivate:n.useCallback(()=>d(""),[d])},n.createElement(E,(0,a.A)({},o,{ref:t})))}),b=n.forwardRef((e,t)=>{let{value:r,defaultValue:s,onValueChange:l=()=>{},...o}=e,[i=[],d]=(0,c.i)({prop:r,defaultProp:s,onChange:l}),u=n.useCallback(e=>d((t=[])=>[...t,e]),[d]),f=n.useCallback(e=>d((t=[])=>t.filter(t=>t!==e)),[d]);return n.createElement(g,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:u,onItemDeactivate:f},n.createElement(E,(0,a.A)({},o,{ref:t})))}),[I,S]=f(u),E=n.forwardRef((e,t)=>{let{__scopeToggleGroup:r,disabled:s=!1,rovingFocus:i=!0,orientation:c,dir:u,loop:f=!0,...p}=e,y=h(r),g=(0,d.jH)(u),v={role:"group",dir:g,...p};return n.createElement(I,{scope:r,rovingFocus:i,disabled:s},i?n.createElement(o.bL,(0,a.A)({asChild:!0},y,{orientation:c,dir:g,loop:f}),n.createElement(l.sG.div,(0,a.A)({},v,{ref:t}))):n.createElement(l.sG.div,(0,a.A)({},v,{ref:t})))}),w="ToggleGroupItem",A=n.forwardRef((e,t)=>{let r=v(w,e.__scopeToggleGroup),s=S(w,e.__scopeToggleGroup),l=h(e.__scopeToggleGroup),i=r.value.includes(e.value),c=s.disabled||e.disabled,d={...e,pressed:i,disabled:c},u=n.useRef(null);return s.rovingFocus?n.createElement(o.q7,(0,a.A)({asChild:!0},l,{focusable:!c,active:i,ref:u}),n.createElement(_,(0,a.A)({},d,{ref:t}))):n.createElement(_,(0,a.A)({},d,{ref:t}))}),_=n.forwardRef((e,t)=>{let{__scopeToggleGroup:r,value:s,...l}=e,o=v(w,r),c={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},d="single"===o.type?c:void 0;return n.createElement(i.l,(0,a.A)({},d,l,{ref:t,onPressedChange:e=>{e?o.onItemActivate(s):o.onItemDeactivate(s)}}))}),T=y,k=A},79166:(e,t,r)=>{"use strict";let a;r.d(t,{lt:()=>l,zC:()=>c,zJ:()=>i});var n=r(56028);let s=Symbol();function l(e,t){let r;"string"==typeof t&&(console.warn("string name option is deprecated, use { name }. https://github.com/pmndrs/valtio/pull/400"),t={name:t});let{enabled:a,name:l="",...o}=t||{};try{r=(null==a||a)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!r){a&&console.warn("[Warning] Please install/enable Redux devtools extension");return}let i=!1,c=r.connect({name:l,...o}),d=(0,n.B1)(e,t=>{let r=t.filter(([e,t])=>t[0]!==s).map(([e,t])=>`${e}:${t.map(String).join(".")}`).join(", ");if(r)if(i)i=!1;else{let t=Object.assign({},(0,n.P9)(e));delete t[s],c.send({type:r,updatedAt:new Date().toLocaleString()},t)}}),u=c.subscribe(t=>{var r,a,l,o,d,u;if("ACTION"===t.type&&t.payload)try{Object.assign(e,JSON.parse(t.payload))}catch(e){console.error("please dispatch a serializable value that JSON.parse() and proxy() support\n",e)}if("DISPATCH"===t.type&&t.state)((null==(r=t.payload)?void 0:r.type)==="JUMP_TO_ACTION"||(null==(a=t.payload)?void 0:a.type)==="JUMP_TO_STATE")&&(i=!0,Object.assign(e,JSON.parse(t.state))),e[s]=t;else if("DISPATCH"===t.type&&(null==(l=t.payload)?void 0:l.type)==="COMMIT")c.init((0,n.P9)(e));else if("DISPATCH"===t.type&&(null==(o=t.payload)?void 0:o.type)==="IMPORT_STATE"){let r=null==(d=t.payload.nextLiftedState)?void 0:d.actionsById,a=(null==(u=t.payload.nextLiftedState)?void 0:u.computedStates)||[];i=!0,a.forEach(({state:t},a)=>{let s=r[a]||"No action found";Object.assign(e,t),0===a?c.init((0,n.P9)(e)):c.send(s,(0,n.P9)(e))})}});return c.init((0,n.P9)(e)),()=>{d(),null==u||u()}}let o=e=>"object"==typeof e&&null!==e;function i(e){let t=(0,n.BX)({data:Array.from(new Set(e)),has(e){return -1!==this.data.indexOf(e)},add(e){let t=!1;return"object"==typeof e&&null!==e&&(t=-1!==this.data.indexOf((0,n.BX)(e))),-1!==this.data.indexOf(e)||t||this.data.push(e),this},delete(e){let t=this.data.indexOf(e);return -1!==t&&(this.data.splice(t,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},forEach(e){this.data.forEach(t=>{e(t,t,this)})},get[Symbol.toStringTag](){return"Set"},toJSON(){return new Set(this.data)},[Symbol.iterator](){return this.data[Symbol.iterator]()},values(){return this.data.values()},keys(){return this.data.values()},entries(){return new Set(this.data).entries()}});return Object.defineProperties(t,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(t),t}function c(e){let t=(0,n.BX)({data:Array.from(e||[]),has(e){return this.data.some(t=>t[0]===e)},set(e,t){let r=this.data.find(t=>t[0]===e);return r?r[1]=t:this.data.push([e,t]),this},get(e){var t;return null==(t=this.data.find(t=>t[0]===e))?void 0:t[1]},delete(e){let t=this.data.findIndex(t=>t[0]===e);return -1!==t&&(this.data.splice(t,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(e){this.data.forEach(t=>{e(t[1],t[0],this)})},keys(){return this.data.map(e=>e[0]).values()},values(){return this.data.map(e=>e[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(t,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(t),t}},80191:e=>{"use strict";e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=void 0,n=void 0,s=void 0,l=[];return function(){var i,c,d="function"==typeof(i=t)?i():i,u=new Date().getTime(),f=!a||u-a>d;a=u;for(var p=arguments.length,h=Array(p),y=0;y<p;y++)h[y]=arguments[y];if(f&&r.leading)return r.accumulate?Promise.resolve(e.call(this,[h])).then(function(e){return e[0]}):Promise.resolve(e.call.apply(e,[this].concat(h)));if(n?clearTimeout(s):((c={}).promise=new Promise(function(e,t){c.resolve=e,c.reject=t}),n=c),l.push(h),s=setTimeout(o.bind(this),d),r.accumulate){var g=l.length-1;return n.promise.then(function(e){return e[g]})}return n.promise};function o(){var t=n;clearTimeout(s),Promise.resolve(r.accumulate?e.call(this,l):e.apply(this,l[l.length-1])).then(t.resolve,t.reject),l=[],n=null}}},93287:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]])},94570:(e,t,r)=>{"use strict";var a=r(53239),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=a.useState,l=a.useEffect,o=a.useLayoutEffect,i=a.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=s({inst:{value:r,getSnapshot:t}}),n=a[0].inst,d=a[1];return o(function(){n.value=r,n.getSnapshot=t,c(n)&&d({inst:n})},[e,r,t]),l(function(){return c(n)&&d({inst:n}),e(function(){c(n)&&d({inst:n})})},[e]),i(r),r};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:d},97689:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]])}}]);