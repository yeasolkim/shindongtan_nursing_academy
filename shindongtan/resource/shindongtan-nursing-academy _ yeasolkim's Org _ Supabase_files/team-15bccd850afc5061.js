!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="680feb7a-2fba-42fe-92a3-dd0d6c213569",e._sentryDebugIdIdentifier="sentry-dbid-680feb7a-2fba-42fe-92a3-dd0d6c213569")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1562,8426],{107:(e,t,r)=>{var a=r(50117),n=r(94277),l=Object.prototype.hasOwnProperty;e.exports=n(function(e,t,r){l.call(e,r)?e[r].push(t):a(e,r,[t])})},1051:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},20081:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a={integrationsListWithOrg:e=>["organizations",e,"integrations"],integrationsList:()=>["organizations","integrations"],vercelProjectList:e=>["organizations",e,"vercel-projects"],vercelConnectionsList:e=>["organizations",e,"vercel-connections"],githubBranch:(e,t,r,a)=>["organizations",e,"branches",t,r,a],githubAuthorization:()=>["github-authorization"],githubRepositoriesList:()=>["github-repositories"],githubBranchesList:e=>["github-branches",e],githubConnectionsList:e=>["organizations",e,"github-connections"],vercelRedirect:e=>["vercel-redirect",e]}},22195:(e,t,r)=>{"use strict";r.d(t,{Et:()=>d,d0:()=>o,jc:()=>i});var a=r(80263),n=r(72309),l=r(53239),s=r(51859);let i=n.bL,o=n.l9,d=l.forwardRef((e,t)=>{let{className:r,align:l="center",animate:i="zoom-in",sideOffset:o=4,...d}=e;return(0,a.jsx)(n.ZL,{children:(0,a.jsx)(n.UC,{ref:t,align:l,sideOffset:o,className:(0,s.cn)("z-50 w-64 rounded-md border bg-overlay p-4 text-popover-foreground shadow-md outline-none","zoom-in"===i?"animate-in zoom-in-[99%]":"animate-in fade-in-50 data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1",r),...d})})});d.displayName=n.UC.displayName},28097:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},33408:(e,t,r)=>{"use strict";r.d(t,{X:()=>i});var a=r(56947),n=r(40807),l=r(20081);async function s(e,t){let{installationId:r}=e;if(!r)throw Error("installationId is required");let{data:a,error:l}=await (0,n.Jt)("/platform/vercel/redirect/{installation_id}",{params:{path:{installation_id:r}},signal:t});return l&&(0,n.H4)(l),a}let i=function(e){let{installationId:t}=e,{enabled:r=!0,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.I)(l.Z.vercelRedirect(t),e=>{let{signal:r}=e;return s({installationId:t},r)},{enabled:r&&void 0!==t,...n})}},37053:(e,t,r)=>{"use strict";r.d(t,{KQ:()=>o});var a=r(56947),n=r(40807),l=r(52347);let s=["Owner","Administrator","Developer","Read-only"];async function i(e,t){let{slug:r}=e;if(!r)throw Error("slug is required");let{data:a,error:l}=await (0,n.Jt)("/platform/organizations/{slug}/roles",{params:{path:{slug:r}},signal:t});return l&&(0,n.H4)(l),a}let o=function(e){let{slug:t}=e,{enabled:r=!0,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.I)(l.O.rolesV2(t),e=>{let{signal:r}=e;return i({slug:t},r)},{enabled:r&&void 0!==t,select:e=>({...e,org_scoped_roles:e.org_scoped_roles.sort((e,t)=>s.indexOf(e.name)-s.indexOf(t.name))}),...n})}},38230:(e,t,r)=>{var a=r(92855);e.exports=function(){try{var e=a(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},40402:(e,t,r)=>{"use strict";r.d(t,{BS:()=>i,Dm:()=>c,HJ:()=>y,Rf:()=>g,Uw:()=>d,Vw:()=>w,Xr:()=>b,aw:()=>p,bV:()=>s,cJ:()=>f,dX:()=>u,eh:()=>o,fh:()=>j,gu:()=>m,sZ:()=>x,tn:()=>v,xp:()=>h});var a=r(80263),n=r(53239),l=r(51859);let s="mx-auto w-full max-w-[1200px]",i="px-4 @lg:px-6 @xl:px-12 @2xl:px-20 @3xl:px-24",o=(0,n.forwardRef)((e,t)=>{let{className:r,bottomPadding:n,size:s="default",...o}=e;return(0,a.jsx)("div",{ref:t,...o,className:(0,l.cn)("mx-auto w-full",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[s],i,n&&"pb-16",r)})}),d=(0,n.forwardRef)((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("header",{...n,ref:t,className:(0,l.cn)("w-full","flex-col gap-3 py-6",r)})}),c=(0,n.forwardRef)((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h1",{ref:t,...n,className:(0,l.cn)("text-2xl",r)})}),u=(0,n.forwardRef)((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,...n,className:(0,l.cn)("text-sm text-foreground-light",r)})}),m=(0,n.forwardRef)((e,t)=>{let{className:r,isFullWidth:n,topPadding:s,...i}=e;return(0,a.jsx)("div",{ref:t,...i,className:(0,l.cn)("flex flex-col first:pt-12 py-6",n?"w-full":"gap-3 lg:grid md:grid-cols-12",r)})}),f=(0,n.forwardRef)((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,...n,className:(0,l.cn)("w-full h-px bg-border",r)})}),x=(0,n.forwardRef)((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,...n,className:(0,l.cn)("text-foreground text-xl",r)})}),p=(0,n.forwardRef)((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,...n,className:(0,l.cn)("text-sm text-foreground-light",r)})}),h=(0,n.forwardRef)((e,t)=>{let{className:r,children:n,title:s,...i}=e;return(0,a.jsxs)("div",{ref:t,...i,className:(0,l.cn)("col-span-4 xl:col-span-5 prose text-sm",r),children:[s&&(0,a.jsx)("h2",{children:s}),n]})}),g=(0,n.forwardRef)((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,...n,className:(0,l.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",r)})}),v=(0,n.forwardRef)((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,...n,className:(0,l.cn)("flex flex-col gap-3 items-center",r)})}),y=(0,n.forwardRef)((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,...n,className:(0,l.cn)("flex w-full items-center",r)})}),j=(0,n.forwardRef)((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,...n,className:(0,l.cn)("flex flex-row gap-3",r)})}),b=(0,n.forwardRef)((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,...n,className:(0,l.cn)("flex flex-col gap-3","min-w-[420px]",r)})}),w=(0,n.forwardRef)((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,...n,className:(0,l.cn)(s,i,"my-8 flex flex-col gap-8",r)})});d.displayName="ScaffoldHeader",c.displayName="ScaffoldTitle",u.displayName="ScaffoldDescription",o.displayName="ScaffoldContainer",f.displayName="ScaffoldDivider",m.displayName="ScaffoldSection",b.displayName="ScaffoldColumn",h.displayName="ScaffoldSectionDetail",g.displayName="ScaffoldSectionContent",v.displayName="ScaffoldFilterAndContent",y.displayName="ScaffoldActionsContainer",j.displayName="ScaffoldActionsGroup",w.displayName="ScaffoldContainerLegacy",x.displayName="ScaffoldSectionTitle",p.displayName="ScaffoldSectionDescription"},41226:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])},42938:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},44893:(e,t,r)=>{"use strict";r.d(t,{bL:()=>b,zi:()=>w});var a=r(54993),n=r(53239),l=r(91968),s=r(63774),i=r(68436),o=r(87990),d=r(15630),c=r(89422),u=r(70297);let m="Switch",[f,x]=(0,i.A)(m),[p,h]=f(m),g=(0,n.forwardRef)((e,t)=>{let{__scopeSwitch:r,name:i,checked:d,defaultChecked:c,required:m,disabled:f,value:x="on",onCheckedChange:h,...g}=e,[v,b]=(0,n.useState)(null),w=(0,s.s)(t,e=>b(e)),N=(0,n.useRef)(!1),_=!v||!!v.closest("form"),[S=!1,C]=(0,o.i)({prop:d,defaultProp:c,onChange:h});return(0,n.createElement)(p,{scope:r,checked:S,disabled:f},(0,n.createElement)(u.sG.button,(0,a.A)({type:"button",role:"switch","aria-checked":S,"aria-required":m,"data-state":j(S),"data-disabled":f?"":void 0,disabled:f,value:x},g,{ref:w,onClick:(0,l.m)(e.onClick,e=>{C(e=>!e),_&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})})),_&&(0,n.createElement)(y,{control:v,bubbles:!N.current,name:i,value:x,checked:S,required:m,disabled:f,style:{transform:"translateX(-100%)"}}))}),v=(0,n.forwardRef)((e,t)=>{let{__scopeSwitch:r,...l}=e,s=h("SwitchThumb",r);return(0,n.createElement)(u.sG.span,(0,a.A)({"data-state":j(s.checked),"data-disabled":s.disabled?"":void 0},l,{ref:t}))}),y=e=>{let{control:t,checked:r,bubbles:l=!0,...s}=e,i=(0,n.useRef)(null),o=(0,d.Z)(r),u=(0,c.X)(t);return(0,n.useEffect)(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==r&&t){let a=new Event("click",{bubbles:l});t.call(e,r),e.dispatchEvent(a)}},[o,r,l]),(0,n.createElement)("input",(0,a.A)({type:"checkbox","aria-hidden":!0,defaultChecked:r},s,{tabIndex:-1,ref:i,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function j(e){return e?"checked":"unchecked"}let b=g,w=v},49655:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,y:()=>s});var a=r(80263),n=r(51859);let l=e=>{let{className:t,delayIndex:r=0,animationDelay:l=150}=e;return(0,a.jsx)("div",{className:(0,n.cn)("shimmering-loader rounded py-3",t),style:{animationFillMode:"backwards",animationDelay:"".concat(r*l,"ms")},"data-sentry-component":"ShimmeringLoader","data-sentry-source-file":"index.tsx"})},s=e=>{let{className:t}=e;return(0,a.jsxs)("div",{className:(0,n.cn)(t,"space-y-2"),"data-sentry-component":"GenericSkeletonLoader","data-sentry-source-file":"index.tsx",children:[(0,a.jsx)(l,{"data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"index.tsx"}),(0,a.jsx)(l,{className:"w-3/4","data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"index.tsx"}),(0,a.jsx)(l,{className:"w-1/2","data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"index.tsx"})]})},i=l},50117:(e,t,r)=>{var a=r(38230);e.exports=function(e,t,r){"__proto__"==t&&a?a(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},52347:(e,t,r)=>{"use strict";r.d(t,{O:()=>a});let a={rolesV2:e=>["organization-members",e,"roles-v2"],invitations:e=>["organization-members",e,"invitations"],invitation:(e,t)=>["organization-members",e,"invitations",t],token:(e,t)=>["organization-members",e,"token",t]}},52700:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])},53182:(e,t,r)=>{"use strict";r.d(t,{O:()=>i,h:()=>s});var a=r(80263),n=r(53239),l=r(51859);let s=(0,n.forwardRef)((e,t)=>(0,a.jsx)("nav",{ref:t,dir:"ltr",...e,className:(0,l.cn)("border-b",e.className),children:(0,a.jsx)("ul",{role:"menu",className:"flex gap-5",children:e.children})})),i=(0,n.forwardRef)((e,t)=>{let{children:r,className:n,active:s,...i}=e;return(0,a.jsx)("li",{ref:t,"aria-selected":s?"true":"false","data-state":s?"active":"inactive",className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap text-sm ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground text-foreground-lighter hover:text-foreground data-[state=active]:border-foreground border-b-2 border-transparent *:py-1.5",n),...i,children:r})})},53847:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/org/[slug]/team",function(){return r(65284)}])},55345:(e,t,r)=>{"use strict";r.d(t,{cC:()=>c,j5:()=>d});var a=r(60045),n=r(56947),l=r(40807),s=r(77227),i=r(59156);async function o(e,t){let{orgSlug:r}=e;if(!r)throw Error("orgSlug is required");let{error:a,data:n}=await (0,l.Jt)("/platform/organizations/{slug}/billing/subscription",{params:{path:{slug:r}},signal:t});return a&&(0,l.H4)(a),n}let d=function(e){let{orgSlug:t}=e,{enabled:r=!0,...l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=(0,s.SE)(a.aG.BILLING_READ,"stripe.subscriptions");return(0,n.I)(i.s.orgSubscription(t),e=>{let{signal:r}=e;return o({orgSlug:t},r)},{enabled:r&&d&&void 0!==t,staleTime:36e5,...l})},c=e=>{let{data:t}=d({orgSlug:e});return(null==t?void 0:t.plan.id)==="enterprise"||(null==t?void 0:t.plan.id)==="team"}},57980:(e,t,r)=>{"use strict";r.d(t,{C5:()=>j,MJ:()=>v,Rr:()=>y,eI:()=>h,lR:()=>g,lV:()=>u,zB:()=>f});var a=r(80263),n=r(38694),l=r(53239),s=r(87494),i=r(51859),o=r(97380),d=r(88712),c=r(37055);let u=s.Op,m=l.createContext({}),f=e=>{let{...t}=e;return(0,a.jsx)(m.Provider,{value:{name:t.name},"data-sentry-element":"unknown","data-sentry-component":"FormField","data-sentry-source-file":"form.tsx",children:(0,a.jsx)(s.xI,{...t,"data-sentry-element":"Controller","data-sentry-source-file":"form.tsx"})})},x=()=>{let e=l.useContext(m),t=l.useContext(p),{getFieldState:r,formState:a}=(0,s.xW)(),n=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...n}},p=l.createContext({}),h=l.forwardRef((e,t)=>{let{asChild:r,...s}=e,i=l.useId(),o=r?n.DX:"div";return(0,a.jsx)(p.Provider,{value:{id:i},children:(0,a.jsx)(o,{ref:t,...s})})});h.displayName="FormItem";let g=l.forwardRef((e,t)=>{let{className:r,...n}=e,{error:l,formItemId:s}=x();return(0,a.jsx)(o.J,{ref:t,className:(0,i.cn)("text-foreground-light","transition-colors",l&&"!text-destructive",r,"leading-normal"),htmlFor:s,...n})});g.displayName="FormLabel";let v=l.forwardRef((e,t)=>{let{...r}=e,{error:l,formItemId:s,formDescriptionId:i,formMessageId:o}=x();return(0,a.jsx)(n.DX,{ref:t,id:s,"aria-describedby":l?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!l,...r})});v.displayName="FormControl";let y=l.forwardRef((e,t)=>{let{className:r,...n}=e,{formDescriptionId:l}=x();return(0,a.jsx)("div",{ref:t,id:l,className:(0,i.cn)("text-sm text-foreground-light",r),...n})});y.displayName="FormDescription";let j=l.forwardRef((e,t)=>{let{className:r,children:n,...l}=e,{error:s,formMessageId:o}=x(),u=s?String(null==s?void 0:s.message):n;return(0,a.jsx)(d.N,{initial:!1,children:u?(0,a.jsx)(c.P.div,{initial:{opacity:0,y:-5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-5,height:0},transition:{duration:.15,ease:"easeInOut"},children:(0,a.jsx)("p",{ref:t,id:o,className:(0,i.cn)("text-sm text-destructive",r),...l,children:u})},o):null})});j.displayName="FormMessage"},61110:(e,t,r)=>{"use strict";r.d(t,{Q:()=>i});var a=r(56947),n=r(40807),l=r(79918);async function s(e,t){let{slug:r}=e;if(!r)throw Error("slug is required");let[a,l]=await Promise.all([(0,n.Jt)("/platform/organizations/{slug}/members",{params:{path:{slug:r}},signal:t}),(0,n.Jt)("/platform/organizations/{slug}/members/invitations",{params:{path:{slug:r}},signal:t})]),{data:s,error:i}=a,{data:o,error:d}=l;return i&&(0,n.H4)(i),d&&(0,n.H4)(d),[...s,...o.invitations.map(e=>({...{invited_at:e.invited_at,invited_id:e.id,mfa_enabled:!1,username:e.invited_email.slice(0,1),primary_email:e.invited_email},role_ids:[e.role_id]}))]}let i=function(e){let{slug:t}=e,{enabled:r=!0,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.I)(l.O.members(t),e=>{let{signal:r}=e;return s({slug:t},r)},{enabled:r&&void 0!==t,...n})}},64459:(e,t,r)=>{"use strict";r.d(t,{p:()=>m});var a=r(80263),n=r(14484),l=r(53239),s=r(51527),i=r(51859),o=r(24794),d=r(71126),c=r(16865);function u(e){let{icon:t,className:r}=e;return(0,a.jsx)("div",{className:(0,i.cn)("absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-foreground-light",r),"data-sentry-component":"InputIconContainer","data-sentry-source-file":"InputIconContainer.tsx",children:t})}let m=(0,l.forwardRef)((e,t)=>{let{copy:r,showCopyOnHover:m=!1,icon:f,reveal:x=!1,actions:p,onCopy:h,iconContainerClassName:g,containerClassName:v,...y}=e,[j,b]=(0,l.useState)("Copy"),[w,N]=(0,l.useState)(!0),_=(0,c.A)("input"),S=[];return f&&S.push(_.with_icon),(0,a.jsxs)("div",{className:(0,i.cn)("relative group",v),children:[(0,a.jsx)(o.p,{ref:t,...y,onCopy:h,value:x&&w?"**** **** **** ****":y.value,className:(0,i.cn)(...S,y.className)}),f&&(0,a.jsx)(u,{icon:f,className:g}),r||p?(0,a.jsxs)("div",{className:_.actions_container,children:[r&&!(x&&w)?(0,a.jsx)(d.$,{size:"tiny",type:"default",className:(0,i.cn)(m&&"opacity-0 group-hover:opacity-100 transition"),icon:(0,a.jsx)(n.A,{size:16,className:"text-foreground-muted"}),onClick:()=>{var e;return e=y.value,void(0,s.l)(e,()=>{b("Copied"),setTimeout(function(){b("Copy")},3e3),null==h||h()})},children:j}):null,x&&w?(0,a.jsx)(d.$,{size:"tiny",type:"default",onClick:function(){N(!1)},children:"Reveal"}):null,p&&p]}):null]})})},64540:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(80263),n=r(53239),l=r(82758),s=r(51859),i=r(71126),o=r(10406);let d=(0,n.forwardRef)((e,t)=>{let{title:r,description:d,size:c="small",visible:u,onCancel:m,onConfirm:f,loading:x,cancelLabel:p="Cancel",confirmLabel:h="Submit",confirmLabelLoading:g,alert:v,children:y,variant:j="default",disabled:b,...w}=e,[N,_]=(0,n.useState)(void 0!==x&&x);return(0,n.useEffect)(()=>{u&&void 0===x&&_(!1)},[u]),(0,n.useEffect)(()=>{void 0!==x&&_(x)},[x]),(0,a.jsx)(l.lG,{open:u,...w,onOpenChange:()=>{u&&m()},children:(0,a.jsxs)(l.Cf,{ref:t,className:"p-0 gap-0 pb-5 !block",size:c,children:[(0,a.jsxs)(l.c7,{className:(0,s.cn)("border-b"),padding:"small",children:[(0,a.jsx)(l.L3,{children:r}),d&&(0,a.jsx)(l.rr,{children:d})]}),v&&(0,a.jsx)(o.Z,{type:j,label:v.title,description:v.description,className:"border-r-0 border-l-0 rounded-none -mt-px [&_svg]:ml-0.5 mb-0",...null==v?void 0:v.base}),y&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.OO,{padding:"small",children:y}),(0,a.jsx)(l.pf,{})]}),(0,a.jsxs)("div",{className:"flex gap-2 px-5 pt-5",children:[(0,a.jsx)(i.$,{size:"medium",block:!0,type:"default",disabled:N,onClick:()=>m(),children:p}),(0,a.jsx)(i.$,{block:!0,size:"medium",type:"destructive"===j?"danger":"warning"===j?"warning":"primary",htmlType:"submit",loading:N,disabled:N||b,onClick:e=>{e.preventDefault(),e.stopPropagation(),f(),void 0===x&&_(!0)},className:"truncate",children:h})]})]})})});d.displayName="ConfirmationModal";let c=d},65284:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>e4});var a=r(80263),n=r(95285),l=r(53239),s=r(40402),i=r(64459),o=r(32981),d=r(60045),c=r(27452),u=r(44679),m=r(59153),f=r.n(m),x=r(87494),p=r(73969),h=r(39353),g=r(19898),v=r(41370),y=r(72256),j=r(32144),b=r(80251),w=r(40807),N=r(79918),_=r(52347);async function S(e){let{slug:t,email:r,roleId:a,projects:n}=e,l={email:r,role_id:a};void 0!==n&&(l.role_scoped_projects=n);let{data:s,error:i}=await (0,w.bE)("/platform/organizations/{slug}/members/invitations",{params:{path:{slug:t}},body:l});return i&&(0,w.H4)(i),s}let C=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,j.jE)();return(0,b.n)(e=>S(e),{async onSuccess(t,r,n){let{slug:l}=r;await Promise.all([a.invalidateQueries(_.O.rolesV2(l)),a.invalidateQueries(N.O.members(l))]),await (null==e?void 0:e(t,r,n))},async onError(e,r,a){void 0===t?p.oR.error("Failed to update member role: ".concat(e.message)):t(e,r,a)},...r})};var R=r(37053),k=r(61110),I=r(84438),A=r(55345),z=r(77227),E=r(38944),L=r(34969),M=r(2057),O=r(82758),T=r(57980),F=r(91378),D=r(20894),P=r(95793),B=r(71126),V=r(36141),U=r(67585),H=r(51859),q=r(24794),Q=r(84377);let G=(e,t,r)=>{let{permissions:a,organizationSlug:n}=(0,z.GU)(r,e,void 0!==r&&void 0!==e),l=[],s=[];return t&&e&&t.forEach(e=>{(0,z.IT)(a,d.aG.CREATE,"auth.subject_roles",{resource:{role_id:e.id}},n)&&l.push(e.id),(0,z.IT)(a,d.aG.DELETE,"auth.subject_roles",{resource:{role_id:e.id}},n)&&s.push(e.id)}),{rolesAddable:l,rolesRemovable:s}},W=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter(e=>{var r;let[a]=null!=(r=e.role_ids)?r:[],n=t.find(e=>e.id===a);return(null==n?void 0:n.name)==="Owner"&&!e.invited_at}).length>1},$=()=>{var e,t;let{slug:r}=(0,g.g)(),{profile:n}=(0,M.xc)(),s=(0,L.a)(),{permissions:i}=(0,z.GU)(),{organizationMembersCreate:m}=(0,E.x)(["organization_members:create"]),[j,b]=(0,l.useState)(!1),[w,N]=(0,l.useState)(!1),{data:_}=(0,I.el)(),{data:S}=(0,k.Q)({slug:r}),{data:W,isSuccess:$}=(0,R.KQ)({slug:r}),K=null!=(e=null==W?void 0:W.org_scoped_roles)?e:[],X=(null!=_?_:[]).filter(e=>e.organization_id===(null==s?void 0:s.id)).sort((e,t)=>e.name.localeCompare(t.name)),J=null==s?void 0:s.plan,Z=(0,A.cC)(r),Y=null==S?void 0:S.find(e=>e.gotrue_id===(null==n?void 0:n.gotrue_id)),ee=1===(null!=(t=null==Y?void 0:Y.role_ids)?t:[]).length&&K.some(e=>e.id===(null==Y?void 0:Y.role_ids[0])),{rolesAddable:et}=G(null==s?void 0:s.slug,K,null!=i?i:[]),er=ee&&et.length>0&&K.some(e=>{let{id:t}=e;return(0,z.IT)(i,d.aG.CREATE,"user_invites",{resource:{role_id:t}},null==s?void 0:s.slug)}),{mutate:ea,isLoading:en}=C(),el=h.Ik({email:h.Yj().email("Must be a valid email address").min(1,"Email is required"),role:h.Yj().min(1,"Role is required"),applyToOrg:h.zM(),projectRef:h.Yj()}),es=(0,x.mN)({mode:"onBlur",reValidateMode:"onBlur",resolver:(0,o.u)(el),defaultValues:{email:"",role:"",applyToOrg:!0,projectRef:""}}),{applyToOrg:ei}=es.watch(),eo=async e=>{if(!r)return console.error("Slug is required");if((null==n?void 0:n.id)===void 0)return console.error("Profile ID required");let t=K.find(e=>"Developer"===e.name),a=(null!=S?S:[]).find(t=>t.primary_email===e.email.toLowerCase());if(void 0!==a)if(a.invited_id)return(0,p.oR)("User has already been invited to this organization");else return(0,p.oR)("User is already in this organization");ea({slug:r,email:e.email.toLowerCase(),roleId:Number(e.role),...!e.applyToOrg&&e.projectRef?{projects:[e.projectRef]}:{}},{onSuccess:()=>{var e;p.oR.success("Successfully sent invitation to new member"),b(!j),es.reset({email:"",role:null!=(e=null==t?void 0:t.id.toString())?e:"",applyToOrg:!0,projectRef:""})}})};return(0,l.useEffect)(()=>{if($&&j){let e=K.find(e=>"Developer"===e.name);void 0!==e&&es.setValue("role",e.id.toString())}},[$,j]),(0,l.useEffect)(()=>{if(ei)es.setValue("projectRef","");else{let e=null==X?void 0:X[0];void 0!==e&&es.setValue("projectRef",e.ref)}},[ei]),(0,a.jsxs)(O.lG,{open:j,onOpenChange:b,"data-sentry-element":"Dialog","data-sentry-component":"InviteMemberButton","data-sentry-source-file":"InviteMemberButton.tsx",children:[(0,a.jsx)(O.zM,{asChild:!0,"data-sentry-element":"DialogTrigger","data-sentry-source-file":"InviteMemberButton.tsx",children:(0,a.jsx)(v.G,{type:"primary",disabled:!er,className:"pointer-events-auto flex-grow md:flex-grow-0",onClick:()=>b(!0),tooltip:{content:{side:"bottom",text:m?er?void 0:"You need additional permissions to invite a member to this organization":"Inviting members is currently disabled"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"InviteMemberButton.tsx",children:"Invite member"})}),(0,a.jsxs)(O.Cf,{size:"medium","data-sentry-element":"DialogContent","data-sentry-source-file":"InviteMemberButton.tsx",children:[(0,a.jsx)(O.c7,{"data-sentry-element":"DialogHeader","data-sentry-source-file":"InviteMemberButton.tsx",children:(0,a.jsx)(O.L3,{"data-sentry-element":"DialogTitle","data-sentry-source-file":"InviteMemberButton.tsx",children:"Invite a member to this organization"})}),(0,a.jsx)(O.pf,{"data-sentry-element":"DialogSectionSeparator","data-sentry-source-file":"InviteMemberButton.tsx"}),(0,a.jsx)(T.lV,{...es,"data-sentry-element":"Form_Shadcn_","data-sentry-source-file":"InviteMemberButton.tsx",children:(0,a.jsxs)("form",{id:"organization-invitation",className:"flex flex-col gap-y-4",onSubmit:es.handleSubmit(eo),children:[(0,a.jsxs)(O.OO,{className:"flex flex-col gap-y-4 pb-2","data-sentry-element":"DialogSection","data-sentry-source-file":"InviteMemberButton.tsx",children:[Z&&(0,a.jsx)(T.zB,{name:"applyToOrg",control:es.control,render:e=>{let{field:t}=e;return(0,a.jsx)(Q.M,{layout:"flex",label:"Apply role to all projects in the organization",children:(0,a.jsx)(T.MJ,{children:(0,a.jsx)(F.d,{checked:t.value,onCheckedChange:e=>es.setValue("applyToOrg",e)})})})}}),(0,a.jsx)(T.zB,{name:"role",control:es.control,render:e=>{var t,r;let{field:n}=e;return(0,a.jsx)(Q.M,{label:"Member role",children:(0,a.jsx)(T.MJ,{children:(0,a.jsxs)(D.l6,{value:n.value,onValueChange:e=>es.setValue("role",e),children:[(0,a.jsx)(D.bq,{className:"text-sm capitalize",children:null!=(r=null==(t=K.find(e=>e.id===Number(n.value)))?void 0:t.name)?r:"Unknown"}),(0,a.jsx)(D.gC,{children:(0,a.jsx)(D.s3,{children:K.map(e=>{let t=et.includes(e.id);return(0,a.jsxs)(D.eb,{value:e.id.toString(),className:"text-sm [&>span:nth-child(2)]:w-full [&>span:nth-child(2)]:flex [&>span:nth-child(2)]:items-center [&>span:nth-child(2)]:justify-between",disabled:!t,children:[(0,a.jsx)("span",{children:e.name}),!t&&(0,a.jsx)("span",{children:"Additional permissions required to assign role"})]},e.id)})})})]})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"InviteMemberButton.tsx"}),!ei&&(0,a.jsx)(T.zB,{name:"projectRef",control:es.control,render:e=>{var t,r;let{field:n}=e;return(0,a.jsx)(Q.M,{label:"Select a project",description:"You can assign roles to multiple projects once the invite is accepted",children:(0,a.jsx)(T.MJ,{children:(0,a.jsxs)(P.AM,{open:w,onOpenChange:N,children:[(0,a.jsx)(P.Wv,{asChild:!0,children:(0,a.jsx)(B.$,{block:!0,type:"default",role:"combobox",size:"small",className:"justify-between max-w-[470px]",iconRight:(0,a.jsx)(c.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"}),children:null!=(r=null==(t=X.find(e=>e.ref===n.value))?void 0:t.name)?r:"Unknown"})}),(0,a.jsx)(P.hl,{sameWidthAsTrigger:!0,className:"p-0",children:(0,a.jsxs)(V.uB,{filter:(e,t)=>{let r=X.find(t=>t.ref===e),a=null==r?void 0:r.name.toLowerCase();return void 0!==a&&a.includes(t.toLowerCase())?1:+!!e.includes(t)},children:[(0,a.jsx)(V.G7,{placeholder:"Search project..."}),(0,a.jsxs)(V.oI,{children:[(0,a.jsx)(V.xL,{children:"No projects found..."}),(0,a.jsx)(V.L$,{children:(0,a.jsx)(U.FK,{className:(0,H.cn)((X||[]).length>7&&"max-h-[210px] overflow-y-auto"),children:X.map(e=>(0,a.jsxs)(V.h_,{value:e.ref,onSelect:e=>{es.setValue("projectRef",e),N(!1)},children:[(0,a.jsx)(u.A,{className:(0,H.cn)("mr-2 h-4 w-4",n.value===e.ref?"opacity-100":"opacity-0")}),e.name]},e.ref))})})]})]})})]})})})}}),(0,a.jsx)(T.zB,{name:"email",control:es.control,render:e=>{let{field:t}=e;return(0,a.jsx)(Q.M,{label:"Email address",children:(0,a.jsx)(T.MJ,{children:(0,a.jsx)(q.p,{autoFocus:!0,...t,autoComplete:"off",disabled:en,placeholder:"Enter email address"})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"InviteMemberButton.tsx"}),(0,a.jsx)(y.A,{defaultVisibility:!1,title:"Single Sign-on (SSO) login option available",hideCollapse:!1,description:(0,a.jsxs)("div",{className:"space-y-4 mb-1",children:[(0,a.jsx)("p",{children:"Supabase offers single sign-on (SSO) as a login option to provide additional account security for your team. This allows company administrators to enforce the use of an identity provider when logging into Supabase."}),(0,a.jsx)("p",{children:"This is only available for organizations on Team Plan or above."}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(B.$,{asChild:!0,type:"default",children:(0,a.jsx)(f(),{href:"https://supabase.com/docs/guides/platform/sso",target:"_blank",rel:"noreferrer",children:"Learn more"})}),((null==J?void 0:J.id)==="free"||(null==J?void 0:J.id)==="pro")&&(0,a.jsx)(B.$,{asChild:!0,type:"default",children:(0,a.jsx)(f(),{href:"/org/".concat(r,"/billing?panel=subscriptionPlan&source=inviteMemberSSO"),children:"Upgrade to Team"})})]})]}),"data-sentry-element":"InformationBox","data-sentry-source-file":"InviteMemberButton.tsx"})]}),(0,a.jsx)(O.pf,{"data-sentry-element":"DialogSectionSeparator","data-sentry-source-file":"InviteMemberButton.tsx"}),(0,a.jsx)(O.OO,{className:"pt-0","data-sentry-element":"DialogSection","data-sentry-source-file":"InviteMemberButton.tsx",children:(0,a.jsx)(B.$,{block:!0,htmlType:"submit",loading:en,"data-sentry-element":"Button","data-sentry-source-file":"InviteMemberButton.tsx",children:"Send invitation"})})]})})]})]})};var K=r(87959),X=r(55866),J=r(80125),Z=r(48153),Y=r(96457),ee=r(53667),et=r.n(ee),er=r(25424),ea=r(16632),en=r(10406),el=r(42938),es=r(62763),ei=r(75547),eo=r(76733),ed=r(12050),ec=r(9847),eu=r(9953),em=r(65863),ef=r(22195),ex=r(49655);function ep(e){let t=new Date(e);return!((new Date().valueOf()-t.valueOf())/1e3/60/60<24)}var eh=r(1051),eg=r(28097);async function ev(e){let{slug:t,id:r}=e,{error:a}=await (0,w.yH)("/platform/organizations/{slug}/members/invitations/{id}",{params:{path:{slug:t,id:r}}});return a&&(0,w.H4)(a),!0}let ey=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,j.jE)();return(0,b.n)(e=>ev(e),{async onSuccess(t,r,n){let{slug:l,skipInvalidation:s}=r;s||await Promise.all([a.invalidateQueries(_.O.rolesV2(l)),a.invalidateQueries(N.O.members(l))]),await (null==e?void 0:e(t,r,n))},async onError(e,r,a){void 0===t?p.oR.error("Failed to delete invitation: ".concat(e.message)):t(e,r,a)},...r})};async function ej(e){let{slug:t,gotrueId:r}=e,{data:a,error:n}=await (0,w.yH)("/platform/organizations/{slug}/members/{gotrue_id}",{params:{path:{slug:t,gotrue_id:r}}});return n&&(0,w.H4)(n),a}let eb=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,j.jE)();return(0,b.n)(e=>ej(e),{async onSuccess(t,r,n){let{slug:l}=r;await Promise.all([a.invalidateQueries(N.O.members(l)),a.invalidateQueries(N.O.roles(l))]),await (null==e?void 0:e(t,r,n))},async onError(e,r,a){void 0===t?p.oR.error("Failed to remove member: ".concat(e.message)):t(e,r,a)},...r})};var ew=r(11503),eN=r(74115),e_=r(64540),eS=r(47504),eC=r(98047),eR=r(95319);let ek=()=>{var e;let t=(0,eS.useRouter)(),{slug:r}=(0,g.g)(),{profile:n}=(0,M.xc)(),s=(0,L.a)(),{organizationMembersDelete:i}=(0,E.x)(["organization_members:delete"]),[o,d]=(0,l.useState)(!1),[c,u]=(0,l.useState)(!1),[m,f]=(0,eR.U)(g.rS.LAST_VISITED_ORGANIZATION,""),{refetch:x}=(0,eC.Ad)(),{data:h}=(0,k.Q)({slug:r}),{data:y}=(0,R.KQ)({slug:r}),j=null==s?void 0:s.is_owner,b=null!=(e=null==y?void 0:y.org_scoped_roles)?e:[],w=!j||j&&W(h,b),{mutate:N}=eb({onSuccess:async()=>{d(!1),u(!1),await x(),p.oR.success("Successfully left ".concat(null==s?void 0:s.name)),f(""),t.push("/organizations")},onError:e=>{d(!1),p.oR.error("Failed to leave organization: ".concat(null==e?void 0:e.message))}}),_=async()=>r?n?void(d(!0),N({slug:r,gotrueId:n.gotrue_id})):console.error("Profile is required"):console.error("Org slug is required");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.G,{type:"default",disabled:!w||!i||o,onClick:()=>u(!0),tooltip:{content:{side:"bottom",text:w?i?void 0:"Unable to leave organization":"An organization requires at least 1 owner"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"LeaveTeamButton.tsx",children:"Leave team"}),(0,a.jsx)(e_.A,{size:"medium",visible:c,title:"Confirm to leave organization",confirmLabel:"Leave",variant:"warning",alert:{title:"All of your user content will be permanently removed.",description:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"Leaving the organization will delete all of your saved content in the projects of the organization, which includes:"}),(0,a.jsxs)("ul",{className:"list-disc pl-4",children:[(0,a.jsxs)("li",{children:["SQL snippets ",(0,a.jsx)("span",{className:"text-foreground",children:"(both private and shared)"})]}),(0,a.jsx)("li",{children:"Custom reports"}),(0,a.jsx)("li",{children:"Log Explorer queries"})]})]})},onCancel:()=>u(!1),onConfirm:()=>_(),"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"LeaveTeamButton.tsx",children:(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Are you sure you want to leave this organization? This is permanent."})})]})};var eI=r(84305),eA=r.n(eI),ez=r(23992),eE=r(14943),eL=r(70324),eM=r(83086);async function eO(e){let{slug:t,gotrueId:r,roleId:a,projects:n}=e,l={role_id:a};void 0!==n&&(l.role_scoped_projects=n);let{data:s,error:i}=await (0,w.F6)("/platform/organizations/{slug}/members/{gotrue_id}",{params:{path:{slug:t,gotrue_id:r}},body:l,headers:{Version:"2"}});return i&&(0,w.H4)(i),s}let eT=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,j.jE)();return(0,b.n)(e=>eO(e),{async onSuccess(t,r,n){let{slug:l,skipInvalidation:s}=r;s||await Promise.all([a.invalidateQueries(_.O.rolesV2(l)),a.invalidateQueries(N.O.members(l))]),await (null==e?void 0:e(t,r,n))},async onError(e,r,a){void 0===t?p.oR.error("Failed to update member role: ".concat(e.message)):t(e,r,a)},...r})};async function eF(e){let{slug:t,gotrueId:r,roleId:a}=e,{data:n,error:l}=await (0,w.yH)("/platform/organizations/{slug}/members/{gotrue_id}/roles/{role_id}",{params:{path:{slug:t,gotrue_id:r,role_id:a}}});return l&&(0,w.H4)(l),n}let eD=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,j.jE)();return(0,b.n)(e=>eF(e),{async onSuccess(t,r,n){let{slug:l,skipInvalidation:s}=r;s||await Promise.all([a.invalidateQueries(_.O.rolesV2(l)),a.invalidateQueries(N.O.members(l))]),await (null==e?void 0:e(t,r,n))},async onError(e,r,a){void 0===t?p.oR.error("Failed to unassign member role: ".concat(e.message)):t(e,r,a)},...r})};async function eP(e){let{slug:t,gotrueId:r,roleId:a,roleName:n,projects:l}=e,{data:s,error:i}=await (0,w.yJ)("/platform/organizations/{slug}/members/{gotrue_id}/roles/{role_id}",{params:{path:{slug:t,gotrue_id:r,role_id:a}},body:{name:n,role_scoped_projects:l}});return i&&(0,w.H4)(i),s}let eB=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,j.jE)();return(0,b.n)(e=>eP(e),{async onSuccess(t,r,n){let{slug:l,skipInvalidation:s}=r;s||await Promise.all([a.invalidateQueries(_.O.rolesV2(l)),a.invalidateQueries(N.O.members(l))]),await (null==e?void 0:e(t,r,n))},async onError(e,r,a){void 0===t?p.oR.error("Failed to update member role: ".concat(e.message)):t(e,r,a)},...r})};var eV=r(107),eU=r.n(eV);let eH=(e,t,r)=>{let{org_scoped_roles:a,project_scoped_roles:n}=t;return e.role_ids.map(e=>{let t=a.find(t=>t.id===e);if(void 0!==t)return{ref:void 0,roleId:t.id};let l=n.find(t=>t.id===e);if(void 0!==l){var s;return(null!=(s=null==l?void 0:l.project_ids)?s:[]).map(e=>r.find(t=>t.id===e)).map(e=>({ref:null==e?void 0:e.ref,projectId:null==e?void 0:e.id,roleId:l.id,baseRoleId:l.base_role_id}))}}).filter(Boolean).flat()},eq=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=[],n=[],l=[];return e.forEach(e=>{let r=t.find(t=>e.ref===t.ref);void 0===r?a.push(e):r.roleId!==e.roleId&&l.push({ref:r.ref,originalRole:e.roleId,originalBaseRole:e.baseRoleId,updatedRole:r.roleId})}),t.forEach(t=>{void 0===e.find(e=>t.ref===e.ref)&&n.push(t)}),{removed:a.map(e=>{var t;return{...e,projectId:null==(t=r.find(t=>t.ref===e.ref))?void 0:t.id}}),added:n.map(e=>{var t;return{...e,projectId:null==(t=r.find(t=>t.ref===e.ref))?void 0:t.id}}),updated:l.map(e=>{var t;return{...e,projectId:null==(t=r.find(t=>t.ref===e.ref))?void 0:t.id}})}},eQ=(e,t)=>{let{removed:r,added:a,updated:n}=t,l=[],s=[],i=[],o=eU()(a,"roleId"),d=eU()(r,"roleId"),c=eU()(n,"originalRole"),u=eU()(n,"updatedRole"),m=e.filter(e=>{var t;return(null!=(t=null==e?void 0:e.project_ids)?t:[]).length>0}).map(e=>e.base_role_id);return e.forEach(e=>{var t,s,m,f,x,p,h,g;let v=e.project_ids;if(null===v)return l.push(e.id);let y=v.every(e=>{let t=r.map(e=>e.projectId).some(t=>t===e),a=n.map(e=>e.projectId).some(t=>t===e);return t||a}),j=a.some(t=>t.roleId===e.base_role_id),b=n.some(t=>t.updatedRole===e.base_role_id);if(y&&!j&&!b)return l.push(e.id);let w=null!=(x=null==(t=o[e.base_role_id])?void 0:t.map(e=>e.projectId))?x:[],N=null!=(p=null==(s=d[e.id])?void 0:s.map(e=>e.projectId))?p:[],_=null!=(h=null==(m=c[e.id])?void 0:m.map(e=>e.projectId))?h:[],S=null!=(g=null==(f=u[e.base_role_id])?void 0:f.map(e=>e.projectId))?g:[],C=v.filter(e=>!N.includes(e)).filter(e=>!_.includes(e)).concat(w).concat(S);eA()(v,C)||i.push({roleId:e.id,projectIds:C.sort((e,t)=>e-t)})}),Object.keys(o).forEach(e=>{m.includes(Number(e))||s.push({roleId:Number(e),projectIds:o[e].map(e=>e.projectId).sort((e,t)=>e-t)})}),Object.keys(u).forEach(e=>{m.includes(Number(e))||s.push({roleId:Number(e),projectIds:u[e].map(e=>e.projectId).sort((e,t)=>e-t)})}),{toRemove:l.sort((e,t)=>e-t),toAssign:s,toUpdate:i}},eG=e=>{var t;let{visible:r,member:n,projectsRoleConfiguration:s,onClose:i}=e,{slug:o}=(0,g.g)(),d=(0,j.jE)(),c=(0,L.a)(),{data:u}=(0,I.el)(),{data:m}=(0,R.KQ)({slug:null==c?void 0:c.slug}),[f,x]=(0,l.useState)(!1),{mutateAsync:h}=eT(),{mutateAsync:v}=eD({onError:()=>{}}),{mutateAsync:y}=eB(),b=null!=(t=null==m?void 0:m.org_scoped_roles)?t:[],{org_scoped_roles:w,project_scoped_roles:S}=null!=m?m:{org_scoped_roles:[],project_scoped_roles:[]},C=(null!=u?u:[]).filter(e=>e.organization_id===(null==c?void 0:c.id)),k=eq(void 0!==m?eH(n,m,null!=u?u:[]):[],s,null!=u?u:[]),A=async()=>{if(void 0===o)return console.error("Slug is required");x(!0);let e=n.gotrue_id,t=n.role_ids.map(e=>[...w,...S].find(t=>t.id===e)).filter(Boolean);if(1===s.length&&void 0===s[0].ref)try{await h({slug:o,gotrueId:e,roleId:s[0].roleId}),p.oR.success("Successfully updated role for ".concat(n.username)),i(!0);return}catch(e){return x(!1),p.oR.error("Failed to update role: ".concat(e.message))}let{toRemove:r,toAssign:a,toUpdate:l}=eQ(t,k);try{for(let{roleId:t,projectIds:r}of a)await h({slug:o,gotrueId:e,roleId:t,projects:r.map(e=>{var t;return null==u||null==(t=u.find(t=>t.id===e))?void 0:t.ref}),skipInvalidation:!0});for(let t of r)await v({slug:o,gotrueId:e,roleId:t,skipInvalidation:!0});for(let{roleId:t,projectIds:r}of l){var c;await y({slug:o,gotrueId:e,roleId:t,roleName:null==(c=S.find(e=>e.id===t))?void 0:c.name,projects:r.map(e=>{var t;return null==u||null==(t=u.find(t=>t.id===e))?void 0:t.ref}),skipInvalidation:!0})}await Promise.all([d.invalidateQueries(_.O.rolesV2(o)),d.invalidateQueries(N.O.members(o))]),p.oR.success("Successfully updated role for ".concat(n.username)),i(!0)}catch(e){return x(!1),p.oR.error("Failed to update role: ".concat(e.message))}};return(0,a.jsx)(e_.A,{size:"medium",visible:r,loading:f,title:"Confirm to change roles of member",confirmLabel:"Update roles",confirmLabelLoading:"Updating",onCancel:()=>i(),onConfirm:A,"data-sentry-element":"ConfirmationModal","data-sentry-component":"UpdateRolesConfirmationModal","data-sentry-source-file":"UpdateRolesConfirmationModal.tsx",children:(0,a.jsxs)("div",{className:"flex flex-col gap-y-3",children:[(0,a.jsxs)("p",{className:"text-sm text-foreground-light",children:["You are making the following changes to the role of"," ",(0,a.jsx)("span",{className:"text-foreground",children:n.username})," in the organization"," ",(0,a.jsx)("span",{className:"text-foreground",children:null==c?void 0:c.name}),":"]}),(0,a.jsxs)("div",{className:"flex flex-col gap-y-2",children:[0!==k.removed.length&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm",children:["Removing ",k.removed.length," role",k.removed.length>1?"s":""," for user:"]}),(0,a.jsx)("ul",{className:"list-disc pl-6",children:k.removed.map((e,t)=>{var r,n,l;let s=null!=(r=w.find(t=>t.id===e.roleId))?r:S.find(t=>t.id===e.roleId),i=C.find(t=>t.ref===e.ref),o=(null!=(n=null==s?void 0:s.name)?n:"Unknown").split("_")[0];return(0,a.jsxs)("li",{className:"text-sm text-foreground-light",children:[(0,a.jsx)("span",{className:"text-foreground",children:o})," on"," ",(0,a.jsx)("span",{className:void 0!==i?"text-foreground":"",children:null!=(l=null==i?void 0:i.name)?l:"organization"})]},"update-".concat(t))})})]}),0!==k.added.length&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm",children:["Adding ",k.added.length," role",k.added.length>1?"s":""," for user:"]}),(0,a.jsx)("ul",{className:"list-disc pl-6",children:k.added.map((e,t)=>{var r;let n=b.find(t=>t.id===e.roleId),l=C.find(t=>t.ref===e.ref);return(0,a.jsxs)("li",{className:"text-sm text-foreground-light",children:[(0,a.jsx)("span",{className:"text-foreground",children:null==n?void 0:n.name})," on"," ",(0,a.jsx)("span",{className:void 0!==l?"text-foreground":"",children:null!=(r=null==l?void 0:l.name)?r:"organization"})]},"update-".concat(t))})})]}),0!==k.updated.length&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm",children:["Updating ",k.updated.length," role",k.updated.length>1?"s":""," for user:"]}),(0,a.jsx)("ul",{className:"list-disc pl-6",children:k.updated.map((e,t)=>{var r,n,l,s;let i=null!=(r=w.find(t=>t.id===e.originalRole))?r:S.find(t=>t.id===e.originalRole),o=w.find(t=>t.id===e.updatedRole),d=C.find(t=>t.ref===e.ref),c=(null!=(n=null==i?void 0:i.name)?n:"Unknown").split("_")[0];return(0,a.jsxs)("li",{className:"text-sm text-foreground-light",children:["From ",(0,a.jsx)("span",{className:"text-foreground",children:c})," to"," ",(0,a.jsx)("span",{className:"text-foreground",children:null!=(l=null==o?void 0:o.name)?l:"Unknown"})," on"," ",(0,a.jsx)("span",{className:void 0!==d?"text-foreground":"",children:null!=(s=null==d?void 0:d.name)?s:"organization"})]},"update-".concat(t))})})]})]}),(0,a.jsx)("p",{className:"text-sm text-foreground",children:"By changing the role of this member their permissions will change."})]})})},eW=e=>{var t,r,n,s;let{visible:i,member:o,onClose:d}=e,{slug:c}=(0,g.g)(),u=(0,L.a)(),m=(0,A.cC)(c),{data:f}=(0,I.el)(),{data:x}=(0,ew.m)(),{data:p,isSuccess:h}=(0,R.KQ)({slug:c}),y=null!=(n=null==p?void 0:p.org_scoped_roles)?n:[],j=null!=(s=null==p?void 0:p.project_scoped_roles)?s:[],{rolesAddable:b,rolesRemovable:w}=G(null==u?void 0:u.slug,y.concat(j),null!=x?x:[]),N=y.every(e=>!b.includes(e.id)),[_,S]=(0,l.useState)(!1),[C,k]=(0,l.useState)(!1),[z,E]=(0,l.useState)([]),M=void 0!==p?eH(o,p,null!=f?f:[]):[],O=1===M.length&&y.find(e=>e.id===M[0].roleId)?"org-scope":"project-scope",T=(null!=f?f:[]).filter(e=>e.organization_id===(null==u?void 0:u.id)),q=1===z.length&&(null==(t=z[0])?void 0:t.ref)===void 0,Q=z.length>0,W=null==(r=y.find(e=>"Developer"===e.name))?void 0:r.id,$=T.filter(e=>!z.some(t=>t.ref===e.ref)),K=T.length-$.length,X=M.length!==$.length,J=eA()(z,M),Z=e=>{E(z.concat({ref:e,roleId:null!=W?W:y[0].id})),k(!1)},Y=e=>{void 0!==e&&E(z.filter(t=>t.ref!==e))},ee=(e,t)=>{void 0!==t.ref?E(z.map(r=>r.ref===t.ref?{ref:r.ref,projectId:r.projectId,roleId:Number(e)}:r)):E([{ref:void 0,roleId:Number(e)}])};return(0,l.useEffect)(()=>{i&&h&&E(eH(o,p,null!=f?f:[]))},[i,h]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eE.cj,{open:i,onOpenChange:()=>d(),"data-sentry-element":"Sheet","data-sentry-source-file":"UpdateRolesPanel.tsx",children:(0,a.jsx)(eE.h,{showClose:!1,size:"default",className:(0,H.cn)("bg-surface-200 p-0 flex flex-row gap-0 !min-w-[400px]"),"data-sentry-element":"SheetContent","data-sentry-source-file":"UpdateRolesPanel.tsx",children:(0,a.jsxs)("div",{className:(0,H.cn)("flex flex-col grow w-full"),children:[(0,a.jsxs)(eE.Fm,{className:(0,H.cn)("py-3 flex flex-row justify-between gap-x-4 items-center border-b"),"data-sentry-element":"SheetHeader","data-sentry-source-file":"UpdateRolesPanel.tsx",children:[(0,a.jsxs)("p",{className:"truncate",title:"Manage access for ".concat(o.username),children:["Manage access for ",o.username]}),(0,a.jsx)(ez.A,{href:"https://supabase.com/docs/guides/platform/access-control","data-sentry-element":"DocsButton","data-sentry-source-file":"UpdateRolesPanel.tsx"})]}),(0,a.jsxs)(eE.Xc,{className:"h-full overflow-auto flex flex-col gap-y-4","data-sentry-element":"SheetSection","data-sentry-source-file":"UpdateRolesPanel.tsx",children:[m&&(0,a.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,a.jsx)(F.d,{disabled:N,checked:q,onCheckedChange:e=>{let t=null!=W?W:y[0].id;e?"org-scope"===O?E(M):E([{ref:void 0,roleId:t}]):"project-scope"===O?E(M):E(T.map(e=>({ref:e.ref,projectId:e.id,roleId:t})))}}),(0,a.jsx)("p",{className:"text-sm",children:"Apply roles to all projects in the organization"})]}),0===z.length&&(0,a.jsxs)(eL.Fc,{children:[(0,a.jsx)(eM.id,{}),(0,a.jsx)(eL.XL,{children:"Team members need to be assigned at least one role"}),(0,a.jsx)(eL.TN,{children:"You may not remove all roles from a team member"})]}),!q&&z.length>0&&z.length!==T.length&&(0,a.jsxs)(eL.Fc,{children:[(0,a.jsx)(eL.XL,{children:X?"This member will only have access to ".concat(K," project").concat(K>1?"s":""):"This member only has access to ".concat(K," project").concat(K>1?"s":"")}),(0,a.jsxs)(eL.TN,{children:[o.username," ",X?"will":"does"," not have access to the following ",$.length," project",$.length>1?"s":"",":",(0,a.jsx)("ul",{className:"list-disc pl-6",children:$.map(e=>(0,a.jsx)("li",{children:e.name},e.id))})]})]}),(0,a.jsx)("div",{className:"flex flex-col gap-y-2",children:z.sort((e,t)=>{var r,a;return(null!=(r=null==e?void 0:e.projectId)?r:0)-(null!=(a=null==t?void 0:t.projectId)?a:0)}).map(e=>{var t,r,n,l,s;let i=void 0===e.ref?"All projects":null==f||null==(t=f.find(t=>t.ref===e.ref))?void 0:t.name,o=y.find(t=>void 0!==e.baseRoleId?t.id===e.baseRoleId:t.id===e.roleId),d=w.includes(null!=(r=null==o?void 0:o.id)?r:0);return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("p",{className:"text-sm",children:i}),(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[N?(0,a.jsxs)(ea.m_,{children:[(0,a.jsx)(ea.k$,{asChild:!0,children:(0,a.jsx)("div",{className:"flex items-center justify-between rounded-md border border-button bg-button px-3 py-2 text-sm h-10 w-56 text-foreground-light",children:null!=(n=null==o?void 0:o.name)?n:"Unknown"})}),(0,a.jsx)(ea.ZI,{side:"bottom",children:"Additional permissions required to update role"})]}):(0,a.jsxs)(D.l6,{value:(null!=(l=null==e?void 0:e.baseRoleId)?l:e.roleId).toString(),onValueChange:t=>ee(t,e),children:[(0,a.jsx)(D.bq,{className:(0,H.cn)("text-sm h-10 w-56",(null==o?void 0:o.name)===void 0&&"text-foreground-light"),children:null!=(s=null==o?void 0:o.name)?s:"Please select a role"}),(0,a.jsx)(D.gC,{children:(0,a.jsx)(D.s3,{children:(null!=y?y:[]).map(e=>{let t=b.includes(e.id);return(0,a.jsx)(D.eb,{value:e.id.toString(),className:"text-sm hover:bg-selection cursor-pointer",disabled:!t,children:e.name},e.id)})})})]}),!q&&(0,a.jsx)(v.G,{type:"text",disabled:!d,className:"px-1",icon:(0,a.jsx)(es.A,{}),onClick:()=>Y(null==e?void 0:e.ref),tooltip:{content:{side:"bottom",text:d?"Remove access to project":"Additional permission required to remove role from member"}}})]})]},"".concat(e.ref,"-").concat(e.roleId))})}),!q&&(0,a.jsxs)(P.AM,{open:C,onOpenChange:k,modal:!1,children:[(0,a.jsx)(P.Wv,{asChild:!0,children:(0,a.jsx)(B.$,{type:"default",className:"w-min",children:"Add project"})}),(0,a.jsx)(P.hl,{className:"p-0",side:"bottom",align:"start",children:(0,a.jsxs)(V.uB,{children:[(0,a.jsx)(V.G7,{placeholder:"Find project..."}),(0,a.jsxs)(V.oI,{children:[(0,a.jsx)(V.xL,{children:"No projects found"}),(0,a.jsx)(V.L$,{children:(0,a.jsx)(U.FK,{className:(f||[]).length>7?"h-[210px]":"",children:T.map(e=>{let t=z.some(t=>t.ref===e.ref);return(0,a.jsxs)(V.h_,{disabled:t,className:"cursor-pointer w-full justify-between",onSelect:()=>Z(e.ref),onClick:()=>Z(e.ref),children:[(0,a.jsx)("p",{className:"truncate",children:e.name}),t&&(0,a.jsx)("p",{className:"w-[45%] text-right",children:"Already assigned"})]},e.ref)})})})]})]})})]})]}),(0,a.jsxs)(eE.XW,{className:"flex items-center !justify-end px-5 py-4 w-full border-t","data-sentry-element":"SheetFooter","data-sentry-source-file":"UpdateRolesPanel.tsx",children:[(0,a.jsx)(B.$,{type:"default",disabled:!1,onClick:()=>d(),"data-sentry-element":"Button","data-sentry-source-file":"UpdateRolesPanel.tsx",children:"Cancel"}),(0,a.jsx)(B.$,{loading:!1,disabled:!Q||J,onClick:()=>{S(!0)},"data-sentry-element":"Button","data-sentry-source-file":"UpdateRolesPanel.tsx",children:"Save roles"})]})]})})}),(0,a.jsx)(eG,{visible:_,member:o,projectsRoleConfiguration:z,onClose:e=>{S(!1),e&&d()},"data-sentry-element":"UpdateRolesConfirmationModal","data-sentry-source-file":"UpdateRolesPanel.tsx"})]})},e$=e=>{var t,r,n,s,i;let{member:o}=e,{slug:c}=(0,g.g)(),{profile:u}=(0,M.xc)(),[m,f]=(0,l.useState)(!1),[x,h]=(0,l.useState)(!1),y=(0,E.x)("organization_members:delete"),j=(0,L.a)(),{data:b}=(0,ew.m)(),{data:w}=(0,I.el)(),{data:N}=(0,k.Q)({slug:c}),{data:_}=(0,R.KQ)({slug:c}),S=o.gotrue_id==(null==u?void 0:u.gotrue_id),A=null!=(r=null==_?void 0:_.org_scoped_roles)?r:[],O=null!=(n=null==_?void 0:_.project_scoped_roles)?n:[],T=!!o.invited_id,F=null==N?void 0:N.find(e=>e.gotrue_id===(null==u?void 0:u.gotrue_id)),D=1===(null!=(s=null==F?void 0:F.role_ids)?s:[]).length&&A.some(e=>e.id===(null==F?void 0:F.role_ids[0])),{rolesRemovable:P}=G(null==j?void 0:j.slug,A.concat(O),null!=b?b:[]),V=null!=(i=null==(t=o.role_ids)?void 0:t[0])?i:-1,U=o.role_ids.every(e=>P.includes(e)),H=(0,z.SE)(d.aG.CREATE,"user_invites",{resource:{role_id:V}})&&D,q=(0,z.SE)(d.aG.DELETE,"user_invites",{resource:{role_id:V}})&&D,{mutate:Q,isLoading:W}=eb({onSuccess:()=>{p.oR.success("Successfully removed ".concat(o.primary_email)),h(!1)}}),{mutate:$,isLoading:K}=C({onSuccess:()=>{p.oR.success("Resent the invitation.")},onError:e=>{p.oR.error("Failed to resend invitation: ".concat(e.message))}}),{mutate:X,isLoading:J}=ey(),Z=W||J||K,Y=()=>c?o.gotrue_id?void Q({slug:c,gotrueId:o.gotrue_id}):console.error("gotrue_id is required"):console.error("slug is required"),ee=e=>{var t;let r=(null!=(t=null==e?void 0:e.role_ids)?t:[])[0],a=e.invited_id;return c?a?void X({slug:c,id:a,skipInvalidation:!0},{onSuccess:()=>{if(!e.primary_email)return p.oR.error("Email is required");let t=O.find(e=>e.id===r);if(void 0!==t){var a;let r=(null!=(a=null==t?void 0:t.project_ids)?a:[]).map(e=>{var t;return null==w||null==(t=w.find(t=>t.id===e))?void 0:t.ref}).filter(Boolean);$({slug:c,email:e.primary_email,roleId:t.base_role_id,projects:r})}else $({slug:c,email:e.primary_email,roleId:r})}}):console.error("Member invited ID is required"):console.error("Slug is required")},et=e=>{let t=e.invited_id;return c?t?void X({slug:c,id:t},{onSuccess:()=>p.oR.success("Successfully revoked the invitation.")}):console.error("Member invited ID is required"):console.error("Slug is required")};return S?(0,a.jsx)("div",{className:"flex items-center justify-end",children:(0,a.jsx)(ek,{})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-end gap-x-2",children:[(0,a.jsx)(v.G,{type:"default",disabled:T||!U,onClick:()=>f(!0),tooltip:{content:{side:"bottom",text:T?"Role can only be changed after the user has accepted the invite":U?void 0:"You need additional permissions to manage this team member"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"MemberActions.tsx",children:"Manage access"}),(0,a.jsxs)(eN.rI,{"data-sentry-element":"DropdownMenu","data-sentry-source-file":"MemberActions.tsx",children:[(0,a.jsx)(eN.ty,{asChild:!0,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"MemberActions.tsx",children:(0,a.jsx)(B.$,{type:"text",className:"px-1.5",disabled:Z,loading:Z,icon:(0,a.jsx)(eh.A,{}),"data-sentry-element":"Button","data-sentry-source-file":"MemberActions.tsx"})}),(0,a.jsx)(eN.SQ,{side:"bottom",align:"end",className:"w-52","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"MemberActions.tsx",children:(0,a.jsx)(a.Fragment,{children:T?(0,a.jsxs)(a.Fragment,{children:[q&&(0,a.jsx)(eN._2,{onClick:()=>et(o),children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("p",{children:"Cancel invitation"}),(0,a.jsx)("p",{className:"text-foreground-lighter",children:"Revoke this invitation."})]})}),H&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eN.mB,{}),(0,a.jsx)(eN._2,{onClick:()=>ee(o),children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("p",{children:"Resend invitation"}),(0,a.jsx)("p",{className:"text-foreground-lighter",children:"Invites expire after 24hrs."})]})})]})]}):y&&(0,a.jsxs)(eN._2,{className:"space-x-2 items-start",disabled:!U,onClick:()=>{h(!0)},children:[(0,a.jsx)(eg.A,{size:16}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("p",{children:"Remove member"}),!U&&(0,a.jsx)("p",{className:"text-foreground-lighter",children:"Additional permissions required"})]})]})})})]})]}),(0,a.jsx)(e_.A,{size:"large",visible:x,loading:W,title:"Confirm to remove member",confirmLabel:"Remove",variant:"warning",alert:{title:"All user content from this member will be permanently removed.",description:(0,a.jsxs)("div",{children:["Removing a member will delete all of the user's saved content in all projects of this organization, which includes:",(0,a.jsxs)("ul",{className:"list-disc pl-4 my-2",children:[(0,a.jsxs)("li",{children:["SQL snippets"," ",(0,a.jsxs)("span",{className:"text-foreground",children:["(both ",(0,a.jsx)("span",{className:"underline",children:"private"})," and"," ",(0,a.jsx)("span",{className:"underline",children:"shared"})," snippets)"]})]}),(0,a.jsx)("li",{children:"Custom reports"}),(0,a.jsx)("li",{children:"Log Explorer queries"})]}),(0,a.jsx)("p",{className:"mt-4 text-foreground-lighter",children:"If you'd like to retain the member's shared SQL snippets, right click on them and \"Duplicate query\" in the SQL Editor before removing this member."})]})},onCancel:()=>h(!1),onConfirm:()=>{Y()},"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"MemberActions.tsx",children:(0,a.jsxs)("p",{className:"text-sm text-foreground-light",children:["Are you sure you want to remove"," ",(0,a.jsx)("span",{className:"text-foreground",children:o.primary_email})," from"," ",(0,a.jsx)("span",{className:"text-foreground",children:null==j?void 0:j.name}),"?"]})}),(0,a.jsx)(eW,{visible:m,member:o,onClose:()=>f(!1),"data-sentry-element":"UpdateRolesPanel","data-sentry-source-file":"MemberActions.tsx"})]})},eK={vercel:"vercel-marketplace"},eX=e=>{var t,r,n,l,s,i;let{member:o}=e,{profile:d}=(0,M.xc)(),c=(0,L.a)(),{data:m}=(0,I.el)(),{data:x,isLoading:p}=(0,R.KQ)({slug:null==c?void 0:c.slug}),h=null==m?void 0:m.filter(e=>e.organization_id===(null==c?void 0:c.id)),g=(null!=(n=null==x?void 0:x.project_scoped_roles)?n:[]).length>0,v=!!o.invited_id,y=o.username===o.primary_email,j=!!(null==(t=o.primary_email)?void 0:t.endsWith("customer.fly.io")),b=v||y||j?void 0:(0,eu.By)(o.username),w=o.role_ids.filter(e=>{var t,r,a;let n=[...null!=(t=null==x?void 0:x.org_scoped_roles)?t:[],...null!=(r=null==x?void 0:x.project_scoped_roles)?r:[]].find(t=>t.id===e);return(null==n?void 0:n.project_ids)!==null&&0===(null!=(a=null==n?void 0:n.project_ids)?a:[]).map(e=>{var t,r;return null!=(r=null==m||null==(t=m.find(t=>t.id===e))?void 0:t.name)?r:""}).filter(e=>e.length>0).length}).length>0;return(0,a.jsxs)(J.A.tr,{"data-sentry-element":"unknown","data-sentry-component":"MemberRow","data-sentry-source-file":"MemberRow.tsx",children:[(0,a.jsx)(J.A.td,{"data-sentry-element":"unknown","data-sentry-source-file":"MemberRow.tsx",children:(0,a.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,a.jsx)(ec.p,{alt:null!=(s=null!=(l=o.primary_email)?l:o.username)?s:"",src:b,className:"border rounded-full w-[32px] h-[32px] md:w-[40px] md:h-[40px]",placeholder:(0,a.jsx)("div",{className:(0,H.cn)("w-[32px] h-[32px] md:w-[40px] md:h-[40px]","bg-surface-100 border border-overlay rounded-full text-foreground-lighter flex items-center justify-center"),children:(0,a.jsx)(el.A,{size:20,strokeWidth:1.5})}),"data-sentry-element":"ProfileImage","data-sentry-source-file":"MemberRow.tsx"}),(0,a.jsxs)("div",{className:"flex item-center gap-x-2",children:[(0,a.jsx)("p",{className:"text-foreground-light truncate",children:o.primary_email}),o.primary_email===(null==d?void 0:d.primary_email)&&(0,a.jsx)(em.E,{color:"scale",children:"You"})]}),(null==(r=o.metadata)?void 0:r.origin)&&(0,a.jsx)(ed.A,{organization:{managed_by:null!=(i=eK[o.metadata.origin])?i:"supabase"},tooltipText:"This user is managed by Vercel Marketplace."})]})}),(0,a.jsxs)(J.A.td,{"data-sentry-element":"unknown","data-sentry-source-file":"MemberRow.tsx",children:[v&&o.invited_at&&(0,a.jsx)(em.E,{variant:ep(o.invited_at)?"destructive":"warning",children:ep(o.invited_at)?"Expired":"Invited"}),o.is_sso_user&&(0,a.jsx)(em.E,{variant:"default",children:"SSO"})]}),(0,a.jsx)(J.A.td,{"data-sentry-element":"unknown","data-sentry-source-file":"MemberRow.tsx",children:(0,a.jsx)("div",{className:"flex items-center justify-center",children:o.mfa_enabled?(0,a.jsx)(u.A,{className:"text-brand",strokeWidth:2,size:20}):(0,a.jsx)(es.A,{className:"text-foreground-light",strokeWidth:1.5,size:20})})}),(0,a.jsx)(J.A.td,{className:"max-w-64","data-sentry-element":"unknown","data-sentry-source-file":"MemberRow.tsx",children:p?(0,a.jsx)(ex.A,{className:"w-32"}):w?(0,a.jsx)(ei.A,{strokeWidth:1.5,size:20}):o.role_ids.map(e=>{var t,r,n,l,s;let i=(null!=(t=null==x?void 0:x.org_scoped_roles)?t:[]).find(t=>t.id===e),o=(null!=(r=null==x?void 0:x.project_scoped_roles)?r:[]).find(t=>t.id===e),d=i||o,c=(null!=(n=null==d?void 0:d.name)?n:"").split("_")[0],u=(null==d?void 0:d.project_ids)===null?null!=(l=null==h?void 0:h.map(e=>e.name))?l:[]:(null!=(s=null==d?void 0:d.project_ids)?s:[]).map(e=>{var t,r;return null!=(r=null==h||null==(t=h.find(t=>t.id===e))?void 0:t.name)?r:""}).filter(e=>e.length>0);return(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsx)("p",{children:c}),g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"•"}),1===u.length?(0,a.jsx)("span",{className:"text-foreground truncate",title:u[0],children:u[0]}):(0,a.jsxs)(ef.jc,{openDelay:200,children:[(0,a.jsx)(ef.d0,{asChild:!0,children:(0,a.jsx)("span",{className:"text-foreground",children:(null==d?void 0:d.project_ids)===null?"Organization":"".concat(u.length," project").concat(u.length>1?"s":"")})}),(0,a.jsxs)(ef.Et,{className:"p-0",children:[(0,a.jsxs)("p",{className:"p-2 text-xs",children:[c," role applies to ",u.length," project",u.length>1?"s":""]}),(0,a.jsx)("div",{className:"border-t flex flex-col py-1",children:(0,a.jsx)(U.FK,{className:(0,H.cn)(u.length>5?"h-[130px]":""),children:u.map(e=>{var t;let r=null==h||null==(t=h.find(t=>t.name===e))?void 0:t.ref;return(0,a.jsxs)(f(),{href:"/project/".concat(r),className:"px-2 py-1 group hover:bg-surface-300 hover:text-foreground transition flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-xs truncate max-w-[60%]",children:e}),(0,a.jsxs)("span",{className:"text-xs text-foreground flex items-center gap-x-1 opacity-0 group-hover:opacity-100 transition",children:["Go to project",(0,a.jsx)(eo.A,{size:14})]})]},e)})})})]})]})]})]},"role-".concat(e))})}),(0,a.jsx)(J.A.td,{"data-sentry-element":"unknown","data-sentry-source-file":"MemberRow.tsx",children:(0,a.jsx)(e$,{member:o,"data-sentry-element":"MemberActions","data-sentry-source-file":"MemberRow.tsx"})})]})},eJ=e=>{var t,r,n;let{searchString:s}=e,{slug:i}=(0,g.g)(),{profile:o}=(0,M.xc)(),{data:d=[],error:c,isLoading:u,isError:m,isSuccess:f}=(0,k.Q)({slug:i}),{data:x,error:p,isSuccess:h,isError:v}=(0,R.KQ)({slug:i}),y=(0,l.useMemo)(()=>s?d.filter(e=>{var t,r;return e.invited_at?null==(t=e.primary_email)?void 0:t.includes(s):e.gotrue_id?e.username.includes(s)||(null==(r=e.primary_email)?void 0:r.includes(s)):void 0}):d,[d,s]),[[j],b]=et()(y,e=>e.primary_email===(null==o?void 0:o.primary_email)),w=b.sort((e,t)=>{var r,a;return(null!=(r=e.primary_email)?r:"").localeCompare(null!=(a=t.primary_email)?a:"")}),N=d.find(e=>e.primary_email===(null==o?void 0:o.primary_email)),_=(null!=(r=null==x?void 0:x.org_scoped_roles)?r:[]).map(e=>e.id).includes(null!=(n=null==N||null==(t=N.role_ids)?void 0:t[0])?n:-1);return(0,a.jsxs)(a.Fragment,{children:[u&&(0,a.jsx)(Y.y,{}),m&&(0,a.jsx)(Z.A,{error:c,subject:"Failed to retrieve organization members"}),v&&(0,a.jsx)(Z.A,{error:p,subject:"Failed to retrieve organization roles"}),f&&(0,a.jsx)("div",{className:"rounded w-full overflow-hidden overflow-x-scroll",children:(0,a.jsx)(er.A,{active:!y,children:(0,a.jsx)(J.A,{head:[(0,a.jsx)(J.A.th,{children:"User"},"header-user"),(0,a.jsx)(J.A.th,{className:"w-24"},"header-status"),(0,a.jsx)(J.A.th,{className:"text-center w-32",children:"Enabled MFA"},"header-mfa"),(0,a.jsxs)(J.A.th,{className:"flex items-center space-x-1",children:[(0,a.jsx)("span",{children:"Role"}),(0,a.jsxs)(ea.m_,{children:[(0,a.jsx)(ea.k$,{asChild:!0,children:(0,a.jsx)(B.$,{asChild:!0,type:"text",className:"px-1",children:(0,a.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://supabase.com/docs/guides/platform/access-control",children:(0,a.jsx)(K.A,{size:14,className:"text-foreground-light"})})})}),(0,a.jsx)(ea.ZI,{side:"bottom",children:"How to configure access control?"})]})]},"header-role"),(0,a.jsx)(J.A.th,{},"header-action")],body:[...h&&f&&!_?[(0,a.jsx)(J.A.tr,{children:(0,a.jsx)(J.A.td,{colSpan:12,className:"!p-0",children:(0,a.jsx)(en.Z,{type:"note",title:"You are currently assigned with project scoped roles in this organization",description:"All the members within the organization will not be visible to you",className:"m-0 bg-alternative border-0 rounded-none"})})},"project-scope-notice")]:[],...j?[(0,a.jsx)(eX,{member:j},j.gotrue_id)]:[],...w.map(e=>(0,a.jsx)(eX,{member:e},e.gotrue_id)),...s.length>0&&0===y.length?[(0,a.jsx)(J.A.tr,{className:"bg-panel-secondary-light",children:(0,a.jsx)(J.A.td,{colSpan:12,children:(0,a.jsxs)("div",{className:"flex items-center space-x-3 opacity-75",children:[(0,a.jsx)(X.A,{size:16,strokeWidth:2}),(0,a.jsxs)("p",{className:"text-foreground-light",children:['No users matched the search query "',s,'"']})]})})},"no-results")]:[],(0,a.jsx)(J.A.tr,{className:"bg-panel-secondary-light",children:(0,a.jsx)(J.A.td,{colSpan:12,children:(0,a.jsxs)("p",{className:"text-foreground-light",children:[s?"".concat(y.length," of "):"",d.length||"0"," ",1==d.length?"user":"users"]})})},"footer")]})})})]})},eZ=()=>{let[e,t]=(0,l.useState)("");return(0,a.jsxs)(s.Vw,{"data-sentry-element":"ScaffoldContainerLegacy","data-sentry-component":"TeamSettings","data-sentry-source-file":"TeamSettings.tsx",children:[(0,a.jsx)(s.Dm,{"data-sentry-element":"ScaffoldTitle","data-sentry-source-file":"TeamSettings.tsx",children:"Team"}),(0,a.jsxs)(s.tn,{"data-sentry-element":"ScaffoldFilterAndContent","data-sentry-source-file":"TeamSettings.tsx",children:[(0,a.jsxs)(s.HJ,{className:"w-full flex-col md:flex-row gap-2 justify-between","data-sentry-element":"ScaffoldActionsContainer","data-sentry-source-file":"TeamSettings.tsx",children:[(0,a.jsx)(i.p,{size:"tiny",autoComplete:"off",icon:(0,a.jsx)(n.A,{size:12}),value:e,onChange:e=>t(e.target.value),name:"email",id:"email",placeholder:"Filter members","data-sentry-element":"Input","data-sentry-source-file":"TeamSettings.tsx"}),(0,a.jsx)(s.fh,{className:"w-full md:w-auto","data-sentry-element":"ScaffoldActionsGroup","data-sentry-source-file":"TeamSettings.tsx",children:(0,a.jsx)($,{"data-sentry-element":"InviteMemberButton","data-sentry-source-file":"TeamSettings.tsx"})})]}),(0,a.jsx)(s.Rf,{className:"w-full","data-sentry-element":"ScaffoldSectionContent","data-sentry-source-file":"TeamSettings.tsx",children:(0,a.jsx)(eJ,{searchString:e,"data-sentry-element":"MembersView","data-sentry-source-file":"TeamSettings.tsx"})})]})]})};var eY=r(1053),e0=r(93931),e1=r(99187),e2=r(81794);let e3=()=>{let{isLoading:e}=(0,ew.m)();return void 0===(0,L.a)()&&e?(0,a.jsx)(e2.A,{"data-sentry-element":"Loading","data-sentry-component":"OrgTeamSettings","data-sentry-source-file":"team.tsx"}):(0,a.jsx)(eZ,{"data-sentry-element":"TeamSettings","data-sentry-component":"OrgTeamSettings","data-sentry-source-file":"team.tsx"})};e3.getLayout=e=>(0,a.jsx)(eY.A,{children:(0,a.jsx)(e0.A,{children:(0,a.jsx)(e1.A,{children:e})})});let e4=e3},66352:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,N:()=>d});var a=r(80263),n=r(77877),l=r(33408),s=r(70324),i=r(71126),o=r(12050);let d={"vercel-marketplace":"Vercel Marketplace","aws-marketplace":"AWS Marketplace"},c=function(e){var t,r;let{partner:c,resource:u,cta:m}=e,f=void 0!==m,{data:x,isLoading:p,isError:h}=(0,l.X)({installationId:null==m?void 0:m.installationId},{enabled:f}),g=(null!=(t=null==x?void 0:x.url)?t:"")+(null!=(r=null==m?void 0:m.path)?r:"");return(0,a.jsxs)(s.Fc,{className:"flex flex-col items-center gap-y-2 border-0 rounded-none","data-sentry-element":"Alert_Shadcn_","data-sentry-component":"PartnerManagedResource","data-sentry-source-file":"PartnerManagedResource.tsx",children:[(0,a.jsx)(o.A,{organization:{managed_by:c},showTooltip:!1,size:"large","data-sentry-element":"PartnerIcon","data-sentry-source-file":"PartnerManagedResource.tsx"}),(0,a.jsxs)(s.XL,{className:"text-sm","data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"PartnerManagedResource.tsx",children:[u," are managed by ",d[c],"."]}),f&&(0,a.jsx)(i.$,{asChild:!0,type:"default",iconRight:(0,a.jsx)(n.A,{}),disabled:p||h,children:(0,a.jsx)("a",{href:g,target:"_blank",rel:"noopener noreferrer",children:m.message||"View ".concat(u," on ").concat(d[c])})})]})}},72256:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var a=r(80263),n=r(41226),l=r(52700),s=r(77877),i=r(59153),o=r.n(i),d=r(53239),c=r(71126);let u=(0,d.forwardRef)((e,t)=>{let{icon:r,title:i,description:u,url:m,urlLabel:f="Read more",defaultVisibility:x=!1,hideCollapse:p=!1,button:h,className:g="",block:v=!1}=e,[y,j]=(0,d.useState)(x);return(0,a.jsx)("div",{ref:t,role:"alert",className:"".concat(v?"block w-full":"","\n      block w-full rounded-md border bg-surface-300/25 py-3 ").concat(g),children:(0,a.jsxs)("div",{className:"flex flex-col px-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex w-full space-x-3 items-center",children:[r&&(0,a.jsx)("span",{className:"text-foreground-lighter",children:r}),(0,a.jsx)("div",{className:"flex-grow",children:(0,a.jsx)("h5",{className:"text-sm text-foreground",children:i})})]}),u&&!p?(0,a.jsx)("div",{className:"cursor-pointer text-foreground-lighter",onClick:()=>j(!y),children:y?(0,a.jsx)(n.A,{size:14,strokeWidth:1.5}):(0,a.jsx)(l.A,{size:14,strokeWidth:1.5})}):null]}),(u||m||h)&&(0,a.jsxs)("div",{className:"flex flex-col space-y-3 overflow-hidden transition-all ".concat(y?"mt-3":""),style:{maxHeight:500*!!y},children:[(0,a.jsx)("div",{className:"text-foreground-light text-sm",children:u}),m&&(0,a.jsx)("div",{children:(0,a.jsx)(c.$,{asChild:!0,type:"default",icon:(0,a.jsx)(s.A,{}),children:(0,a.jsx)(o(),{href:m,target:"_blank",rel:"noreferrer",children:f})})}),h&&(0,a.jsx)("div",{children:h})]})]})})});u.displayName="InformationBox";let m=u},72309:(e,t,r)=>{"use strict";let a;r.d(t,{UC:()=>E,ZL:()=>z,bL:()=>I,l9:()=>A});var n=r(54993),l=r(53239),s=r(91968),i=r(68436),o=r(87990),d=r(63774),c=r(82180),u=r(14e3),m=r(74519),f=r(70297),x=r(48569);let p="HoverCard",[h,g]=(0,i.A)(p,[c.Bk]),v=(0,c.Bk)(),[y,j]=h(p),b=(0,l.forwardRef)((e,t)=>{let{__scopeHoverCard:r,...a}=e,i=j("HoverCardTrigger",r),o=v(r);return(0,l.createElement)(c.Mz,(0,n.A)({asChild:!0},o),(0,l.createElement)(f.sG.a,(0,n.A)({"data-state":i.open?"open":"closed"},a,{ref:t,onPointerEnter:(0,s.m)(e.onPointerEnter,k(i.onOpen)),onPointerLeave:(0,s.m)(e.onPointerLeave,k(i.onClose)),onFocus:(0,s.m)(e.onFocus,i.onOpen),onBlur:(0,s.m)(e.onBlur,i.onClose),onTouchStart:(0,s.m)(e.onTouchStart,e=>e.preventDefault())})))}),w="HoverCardPortal",[N,_]=h(w,{forceMount:void 0}),S="HoverCardContent",C=(0,l.forwardRef)((e,t)=>{let r=_(S,e.__scopeHoverCard),{forceMount:a=r.forceMount,...i}=e,o=j(S,e.__scopeHoverCard);return(0,l.createElement)(m.C,{present:a||o.open},(0,l.createElement)(R,(0,n.A)({"data-state":o.open?"open":"closed"},i,{onPointerEnter:(0,s.m)(e.onPointerEnter,k(o.onOpen)),onPointerLeave:(0,s.m)(e.onPointerLeave,k(o.onClose)),ref:t})))}),R=(0,l.forwardRef)((e,t)=>{let{__scopeHoverCard:r,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:u,onInteractOutside:m,...f}=e,p=j(S,r),h=v(r),g=(0,l.useRef)(null),y=(0,d.s)(t,g),[b,w]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{if(b){let e=document.body;return a=e.style.userSelect||e.style.webkitUserSelect,e.style.userSelect="none",e.style.webkitUserSelect="none",()=>{e.style.userSelect=a,e.style.webkitUserSelect=a}}},[b]),(0,l.useEffect)(()=>{if(g.current){let e=()=>{w(!1),p.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var e;(null==(e=document.getSelection())?void 0:e.toString())!==""&&(p.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",e),()=>{document.removeEventListener("pointerup",e),p.hasSelectionRef.current=!1,p.isPointerDownOnContentRef.current=!1}}},[p.isPointerDownOnContentRef,p.hasSelectionRef]),(0,l.useEffect)(()=>{g.current&&(function(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;r.nextNode();)t.push(r.currentNode);return t})(g.current).forEach(e=>e.setAttribute("tabindex","-1"))}),(0,l.createElement)(x.qW,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:m,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:(0,s.m)(u,e=>{e.preventDefault()}),onDismiss:p.onDismiss},(0,l.createElement)(c.UC,(0,n.A)({},h,f,{onPointerDown:(0,s.m)(f.onPointerDown,e=>{e.currentTarget.contains(e.target)&&w(!0),p.hasSelectionRef.current=!1,p.isPointerDownOnContentRef.current=!0}),ref:y,style:{...f.style,userSelect:b?"text":void 0,WebkitUserSelect:b?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})))});function k(e){return t=>"touch"===t.pointerType?void 0:e()}let I=e=>{let{__scopeHoverCard:t,children:r,open:a,defaultOpen:n,onOpenChange:s,openDelay:i=700,closeDelay:d=300}=e,u=v(t),m=(0,l.useRef)(0),f=(0,l.useRef)(0),x=(0,l.useRef)(!1),p=(0,l.useRef)(!1),[h=!1,g]=(0,o.i)({prop:a,defaultProp:n,onChange:s}),j=(0,l.useCallback)(()=>{clearTimeout(f.current),m.current=window.setTimeout(()=>g(!0),i)},[i,g]),b=(0,l.useCallback)(()=>{clearTimeout(m.current),x.current||p.current||(f.current=window.setTimeout(()=>g(!1),d))},[d,g]),w=(0,l.useCallback)(()=>g(!1),[g]);return(0,l.useEffect)(()=>()=>{clearTimeout(m.current),clearTimeout(f.current)},[]),(0,l.createElement)(y,{scope:t,open:h,onOpenChange:g,onOpen:j,onClose:b,onDismiss:w,hasSelectionRef:x,isPointerDownOnContentRef:p},(0,l.createElement)(c.bL,u,r))},A=b,z=e=>{let{__scopeHoverCard:t,forceMount:r,children:a,container:n}=e,s=j(w,t);return(0,l.createElement)(N,{scope:t,forceMount:r},(0,l.createElement)(m.C,{present:r||s.open},(0,l.createElement)(u.Z,{asChild:!0,container:n},a)))},E=C},75547:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},76733:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(23983).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},80125:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(80263);function n(e){let{body:t,head:r,className:n,containerClassName:l,borderless:s,headTrClasses:i,bodyClassName:o,style:d}=e,c=["table-container"];l&&c.push(l),s&&c.push("table-container--borderless");let u=["table"];return n&&u.push(n),(0,a.jsx)("div",{className:c.join(" "),"data-sentry-component":"Table","data-sentry-source-file":"Table.tsx",children:(0,a.jsxs)("table",{className:u.join(" "),style:d,children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{className:i,children:r})}),(0,a.jsx)("tbody",{className:o,children:t})]})})}n.th=e=>{let{children:t,className:r,style:n}=e,l=["p-3 px-4 text-left"];return r&&l.push(r),(0,a.jsx)("th",{className:l.join(" "),style:n,"data-sentry-component":"Th","data-sentry-source-file":"Table.tsx",children:t})},n.td=e=>{let{children:t,colSpan:r,className:n,style:l,...s}=e;return(0,a.jsx)("td",{className:n,colSpan:r,style:l,...s,"data-sentry-component":"Td","data-sentry-source-file":"Table.tsx",children:t})},n.tr=e=>{let{children:t,className:r,onClick:n,style:l,hoverable:s}=e,i=[r];return(n||s)&&i.push("tr--link"),(0,a.jsx)("tr",{className:i.join(" "),onClick:n,style:l,"data-sentry-component":"Tr","data-sentry-source-file":"Table.tsx",children:t})};let l=n},81794:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(80263),n=r(89528),l=r.n(n);let s=()=>(0,a.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-center","data-sentry-component":"LogoLoader","data-sentry-source-file":"LogoLoader.tsx",children:(0,a.jsx)("div",{children:(0,a.jsx)("svg",{width:"60",height:"62",viewBox:"0 0 60 62",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:l().loading,"data-sentry-element":"svg","data-sentry-source-file":"LogoLoader.tsx",children:(0,a.jsx)("path",{d:"M30.2571 4.12811L30.257 4.12389C30.2133 1.21067 26.5349 -0.034778 24.7224 2.24311L1.76109 31.0996C-1.21104 34.8348 1.45637 40.34 6.23131 40.34H29.4845L29.7563 58.4432C29.8 61.3564 33.4783 62.6016 35.2908 60.324L34.8996 60.0127L35.2908 60.324L58.2521 31.4674C61.2241 27.7322 58.5568 22.227 53.782 22.227H30.3762L30.2571 4.12811Z",stroke:"hsl(var(--brand-default))",strokeWidth:2,strokeLinecap:"round","data-sentry-element":"path","data-sentry-source-file":"LogoLoader.tsx"})})})})},84377:(e,t,r)=>{"use strict";r.d(t,{M:()=>b});var a=r(80263),n=r(53239),l=r(57980),s=r(79279),i=r(37055),o=r(51859),d=r(97380),c=r(21514);let u=(0,s.F)("relative grid gap-10",{variants:{size:{tiny:"text-xs",small:"text-sm leading-4",medium:"text-sm",large:"text-base",xlarge:"text-base"},align:{left:"",right:""},responsive:{true:"",false:""},layout:{horizontal:"flex flex-col gap-2 md:grid md:grid-cols-12",vertical:"flex flex-col gap-2",flex:"flex flex-row gap-3","flex-row-reverse":"flex flex-row gap-6 flex-row-reverse justify-between"},flex:{true:"",false:""}},compoundVariants:[{layout:"flex",align:"right",className:"justify-between"},{layout:"flex-row-reverse",align:"right",className:"justify-between"}],defaultVariants:{}}),m=(0,s.F)("transition-all duration-500 ease-in-out",{variants:{flex:{true:"",false:""},align:{left:"",right:""},layout:{horizontal:"flex flex-col gap-2 col-span-4",vertical:"flex flex-row gap-2 justify-between",flex:"flex flex-col gap-0","flex-row-reverse":"flex flex-col"},labelLayout:{horizontal:"",vertical:"","":""}},compoundVariants:[{flex:!0,align:"left",className:"order-2"},{flex:!0,align:"right",className:"order-1"},{layout:["vertical","flex"],labelLayout:void 0,flex:!1,className:"flex flex-row gap-2 justify-between"},{layout:"horizontal",className:"flex flex-col gap-2"}],defaultVariants:{}}),f=(0,s.F)("transition-all duration-500 ease-in-out",{variants:{flex:{true:"",false:""},align:{left:"order-1",right:"order-2"},layout:{horizontal:"",vertical:"",flex:"","flex-row-reverse":""}},compoundVariants:[{flex:!0,align:"left",className:"order-1"},{flex:!0,align:"right",className:"order-2"},{layout:["vertical","flex"],className:"col-span-12"},{layout:"horizontal",align:"left",className:"col-span-8"},{layout:"horizontal",align:"right",className:"text-right"}],defaultVariants:{}}),x=(0,s.F)("text-foreground-lighter leading-normal",{variants:{size:{...c.SK.text},layout:{vertical:"mt-2",horizontal:"mt-2",flex:"","flex-row-reverse":""}},defaultVariants:{}}),p=(0,s.F)("text-foreground-muted",{variants:{size:{...c.SK.text}},defaultVariants:{}}),h=(0,s.F)("text-foreground-muted",{variants:{size:{...c.SK.text}},defaultVariants:{}}),g=(0,s.F)("text-foreground-muted",{variants:{size:{...c.SK.text}},defaultVariants:{}}),v=(0,s.F)("",{variants:{flex:{true:"",false:""},align:{left:"",right:""},layout:{horizontal:"",vertical:"",flex:"","flex-row-reverse":""}},compoundVariants:[{flex:!0,align:"left",className:""},{flex:!0,align:"right",className:"order-last"},{layout:"flex-row-reverse",className:"flex flex-col justify-center items-end shrink-0"}]}),y=(0,s.F)("",{variants:{nonBoxInput:{true:"",false:""},label:{true:"",false:""},layout:{vertical:"",horizontal:"","flex-row-reverse":""}},compoundVariants:[{nonBoxInput:!0,label:!0,layout:"vertical",className:"my-3"},{nonBoxInput:!0,label:!0,layout:"horizontal",className:"my-3 md:mt-0 mb-3"}],defaultVariants:{}}),j=n.forwardRef((e,t)=>{let{align:r="left",className:n,description:s,id:c,label:j,labelOptional:b,layout:w="vertical",style:N,labelLayout:_,size:S="medium",beforeLabel:C,afterLabel:R,nonBoxInput:k=!j,hideMessage:I=!1,isReactForm:A,...z}=e,E="flex"===w||"flex-row-reverse"===w,L=!!(j||C||R),M=A&&!I&&(0,a.jsx)(i.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3,ease:"easeInOut"},className:(0,o.cn)("flex-row-reverse"===w?"mt-0":"mt-2"),children:(0,a.jsx)(l.C5,{className:(0,o.cn)("mt-2 transition-opacity duration-300 ease-in-out","flex-row-reverse"===w&&"mt-0"),"data-formlayout-id":"message"})}),O=s&&A?(0,a.jsx)(l.Rr,{className:(0,o.cn)(x({size:S,layout:w})),"data-formlayout-id":"description",id:"".concat(c,"-description"),children:s}):s?(0,a.jsx)("p",{className:(0,o.cn)(x({size:S,layout:w}),"text-sm text-foreground-light"),"data-formlayout-id":"description",children:s}):null,T=()=>(0,a.jsxs)(a.Fragment,{children:[C&&(0,a.jsx)("span",{className:(0,o.cn)(p({size:S})),id:c+"-before","data-formlayout-id":"beforeLabel",children:(0,a.jsx)("span",{children:C})}),(0,a.jsx)("span",{children:j}),R&&(0,a.jsx)("span",{className:(0,o.cn)(h({size:S})),id:c+"-after","data-formlayout-id":"afterLabel",children:R})]});return(0,a.jsxs)("div",{ref:t,...z,className:(0,o.cn)(u({size:S,flex:E,align:r,layout:w}),n),children:[E&&(0,a.jsxs)("div",{className:(0,o.cn)(v({flex:E,align:r,layout:w})),children:[z.children,"flex-row-reverse"===w&&M]}),L||b||"horizontal"===w?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:(0,o.cn)(m({align:r,labelLayout:_,flex:E,layout:w})),"data-formlayout-id":"labelContainer",children:[L&&A?(0,a.jsx)(l.lR,{className:"text-foreground flex gap-2 items-center break-all","data-formlayout-id":"formLabel",htmlFor:z.name||c,children:(0,a.jsx)(T,{})}):(0,a.jsx)(d.J,{className:"text-foreground flex gap-2 items-center break-all leading-normal","data-formlayout-id":"label",htmlFor:z.name||c,children:(0,a.jsx)(T,{})}),b&&(0,a.jsx)("span",{className:(0,o.cn)(g({size:S})),id:c+"-optional","data-formlayout-id":"labelOptional",children:b}),E&&(0,a.jsxs)(a.Fragment,{children:[O,"flex-row-reverse"!==w&&M]})]})}):null,!E&&(0,a.jsx)("div",{className:(0,o.cn)(f({align:r,layout:w})),style:N,"data-formlayout-id":"dataContainer",children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:(0,o.cn)(y({nonBoxInput:k,label:j,layout:w})),"data-formlayout-id":"nonBoxInputContainer",children:z.children}),M,O]})})]})}),b=(0,n.forwardRef)((e,t)=>{let{...r}=e;return(0,a.jsx)(l.eI,{children:(0,a.jsx)(j,{ref:t,isReactForm:!0,...r,children:r.children})})});b.displayName="FormItemLayout"},89528:e=>{e.exports={loading:"loading-anim_loading__rDN7u",dash:"loading-anim_dash__HIPR0"}},91378:(e,t,r)=>{"use strict";r.d(t,{d:()=>c});var a=r(80263),n=r(44893),l=r(79279),s=r(53239),i=r(51859);let o=(0,l.F)("peer inline-flex shrink-0 cursor-pointer items-center rounded-full border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-brand data-[state=checked]:hover:bg-brand-600/90 data-[state=unchecked]:bg-control data-[state=unchecked]:hover:bg-border",{variants:{size:{small:"h-[16px] w-[28px]",medium:"h-[20px] w-[34px]",large:"h-[24px] w-[44px]"}},defaultVariants:{size:"medium"}}),d=(0,l.F)("pointer-events-none block rounded-full bg-foreground-lighter data-[state=checked]:bg-white shadow-lg ring-0 transition-transform",{variants:{size:{small:"h-[12px] w-[12px] data-[state=checked]:translate-x-[13px] data-[state=unchecked]:translate-x-[1px]",medium:"h-[16px] w-[16px] data-[state=checked]:translate-x-[15px] data-[state=unchecked]:translate-x-[1px]",large:"h-[18px] w-[18px] data-[state=checked]:translate-x-[22px] data-[state=unchecked]:translate-x-[3px]"}},defaultVariants:{size:"medium"}}),c=s.forwardRef((e,t)=>{let{className:r,size:l,...s}=e;return(0,a.jsx)(n.bL,{className:(0,i.cn)(o({size:l}),r),...s,ref:t,children:(0,a.jsx)(n.zi,{className:(0,i.cn)(d({size:l}))})})});c.displayName=n.bL.displayName},93931:(e,t,r)=>{"use strict";r.d(t,{A:()=>x});var a=r(80263),n=r(77877),l=r(12050),s=r(66352),i=r(33408),o=r(34969),d=r(80207),c=r(51859),u=r(70324),m=r(71126);let f=e=>{let{children:t}=e,r=(0,o.a)(),{data:d,isSuccess:f}=(0,i.X)({installationId:null==r?void 0:r.partner_id});return(0,a.jsxs)("div",{className:(0,c.cn)("w-full flex flex-col overflow-hidden"),"data-sentry-component":"OrganizationLayoutContent","data-sentry-source-file":"OrganizationLayout.tsx",children:[r&&(null==r?void 0:r.managed_by)!=="supabase"&&(0,a.jsxs)(u.Fc,{variant:"default",className:"flex items-center gap-4 border-t-0 border-x-0 rounded-none",children:[(0,a.jsx)(l.A,{organization:r,showTooltip:!1,size:"medium"}),(0,a.jsxs)(u.XL,{className:"flex-1",children:["This organization is managed by ",s.N[r.managed_by],"."]}),(0,a.jsx)(m.$,{asChild:!0,type:"default",iconRight:(0,a.jsx)(n.A,{}),disabled:!f,children:(0,a.jsx)("a",{href:null==d?void 0:d.url,target:"_blank",rel:"noopener noreferrer",children:"Manage"})})]}),(0,a.jsx)("main",{className:"h-full w-full overflow-y-auto",children:t})]})},x=(0,d.r)(e=>{let{children:t}=e;return(0,a.jsx)(f,{"data-sentry-element":"OrganizationLayoutContent","data-sentry-component":"OrganizationLayout","data-sentry-source-file":"OrganizationLayout.tsx",children:t})})},99187:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var a=r(80263),n=r(59153),l=r.n(n),s=r(19898),i=r(47504);let o=()=>{let e=(0,i.useRouter)();return e.isReady?e.asPath.split("?")[0]:""};var d=r(74725),c=r(53182),u=r(40402);let m=function(e){let{children:t}=e,{slug:r}=(0,s.g)(),[n]=o().split("#"),i=(0,d._)("showOrganizationSecuritySettings");return n==="/org/".concat(r,"/team")||n==="/org/".concat(r,"/integrations")||n==="/org/".concat(r,"/usage")||n==="/org/".concat(r,"/billing")?t:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(u.Vw,{className:"mb-0","data-sentry-element":"ScaffoldContainerLegacy","data-sentry-source-file":"OrganizationSettingsLayout.tsx",children:[(0,a.jsx)(u.Dm,{"data-sentry-element":"ScaffoldTitle","data-sentry-source-file":"OrganizationSettingsLayout.tsx",children:"Organization Settings"}),(0,a.jsx)(c.h,{className:"overflow-x-auto","aria-label":"Organization menu navigation","data-sentry-element":"NavMenu","data-sentry-source-file":"OrganizationSettingsLayout.tsx",children:[{label:"General",href:"/org/".concat(r,"/general")},i&&{label:"Security",href:"/org/".concat(r,"/security")},{label:"OAuth Apps",href:"/org/".concat(r,"/apps")},{label:"Audit Logs",href:"/org/".concat(r,"/audit")},{label:"Legal Documents",href:"/org/".concat(r,"/documents")}].filter(Boolean).map(e=>(0,a.jsx)(c.O,{active:n===e.href,children:(0,a.jsx)(l(),{href:e.href,children:e.label})},e.label))})]}),(0,a.jsx)("main",{className:"h-full w-full overflow-y-auto",children:t})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2180,2147,726,735,9353,7176,3730,2056,6110,9844,9025,1501,8316,5297,4387,4100,445,2981,7872,5874,49,2174,971,6593,636,8792],()=>t(53847)),_N_E=e.O()}]);