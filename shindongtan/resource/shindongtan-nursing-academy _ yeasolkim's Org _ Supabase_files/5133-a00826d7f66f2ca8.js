!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="b4904013-14fa-4cbf-8a5d-8a4165058005",e._sentryDebugIdIdentifier="sentry-dbid-b4904013-14fa-4cbf-8a5d-8a4165058005")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5133],{2454:(e,t,s)=>{"use strict";s.d(t,{A:()=>h});var n=s(80263),r=s(47504),i=s(39071),a=s(68875),o=s(80207),l=s(74725),c=s(30651),d=s(64036);let u=(e,t)=>{var s;let n=null!=(s=null==e?void 0:e.ref)?s:"default";return[{title:"Advisors",items:[{name:"Security Advisor",key:"security",url:"/project/".concat(n,"/advisors/security"),items:[]},{name:"Performance Advisor",key:"performance",url:"/project/".concat(n,"/advisors/performance"),items:[]},{name:"Query Performance",key:"query-performance",url:"/project/".concat(n,"/advisors/query-performance"),items:[]}]},...d.pe&&(null==t?void 0:t.advisorRules)?[{title:"Configuration",items:[{name:"Advisor Rules",key:"rules",url:"/project/".concat(n,"/advisors/rules/security"),items:[]}]}]:[]]},h=(0,o.r)(e=>{let{children:t}=e,s=(0,a.KT)(),o=(0,l._)("advisorRules"),d=(0,r.useRouter)().pathname.split("/")[4];return(0,n.jsx)(c.A,{isLoading:!1,product:"Advisors",productMenu:(0,n.jsx)(i.l,{page:d,menu:u(s,{advisorRules:o})}),"data-sentry-element":"ProjectLayout","data-sentry-component":"AdvisorsLayout","data-sentry-source-file":"AdvisorsLayout.tsx",children:t})})},12484:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var n=s(80263),r=s(59153),i=s.n(r),a=s(38220),o=s(65863),l=s(71126);let c=e=>{let{name:t="",isActive:s,isExternal:r,icon:c,rightIcon:d,url:u="",target:h="_self",onClick:p,textClassName:m="",hoverText:f="",label:x}=e,g=(0,n.jsx)(a.Ay.Item,{icon:c,rounded:!0,active:s,onClick:p,children:(0,n.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,n.jsxs)("div",{title:f||("string"==typeof t?t:""),className:"flex items-center gap-2 truncate w-full "+m,children:[(0,n.jsxs)("span",{className:"truncate",children:[t," "]}),void 0!==x&&(0,n.jsx)(o.E,{variant:"warning",className:"py-0 px-1.5 capitalize",children:x})]}),d&&(0,n.jsx)("div",{children:d})]})});return u?r?(0,n.jsx)(l.$,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:c,children:(0,n.jsx)(i(),{href:u,target:"_blank",rel:"noreferrer",children:t})}):(0,n.jsx)(i(),{href:u,className:"block",target:h,children:g}):g}},16580:(e,t,s)=>{"use strict";s.d(t,{$:()=>i});var n=s(80263),r=s(51859);let i=e=>{let{loading:t}=e;return(0,n.jsx)("div",{className:"relative overflow-hidden w-full h-px bg-border m-auto","data-sentry-component":"LoadingLine","data-sentry-source-file":"LoadingLine.tsx",children:(0,n.jsx)("span",{className:(0,r.cn)("absolute w-[80px] h-px ml-auto mr-auto left-0 right-0 text-center block top-0","transition-all","line-loading-bg-light dark:line-loading-bg",t&&"animate-line-loading-slower opacity-100",t?"opacity-100":"opacity-0")})})}},26470:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let n=(0,s(23983).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},32658:(e,t,s)=>{"use strict";s.d(t,{A:()=>b});var n=s(80263),r=s(62763),i=s(77877),a=s(59153),o=s.n(a),l=s(53239),c=s(24560),d=s(86953),u=s(19898),h=s(96057),p=s(47504),m=s(89634),f=s(51859),x=s(20401),g=s(71126),y=s(84746),v=s(83026),_=s(49655);let b=e=>{var t,s,a;let{isLoading:b,filteredLints:k,selectedLint:j,setSelectedLint:w,currentTab:N}=e,R=(0,l.useRef)(null),{ref:A}=(0,u.g)(),L=(0,p.useRouter)(),C=(0,m.xd)(),[E,S]=(0,l.useState)("details"),T=[{id:"name",name:"Issue type",description:void 0,minWidth:240,value:e=>{var t,s;return(0,n.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,n.jsx)("span",{className:"shrink-0",children:null==(t=h.ah.find(t=>e.name===t.name))?void 0:t.icon}),(0,n.jsx)("h3",{className:"text-xs",children:null==(s=h.ah.find(t=>e.name===t.name))?void 0:s.title})]})}},{id:"metadata.name",name:"Entity/item",description:void 0,minWidth:230,value:e=>{var t;return(0,n.jsxs)("div",{className:"flex items-center gap-1 text-xs",children:[(0,n.jsx)("span",{className:"shrink-0",children:(0,n.jsx)(h.L,{type:null==(t=e.metadata)?void 0:t.type})}),(0,n.jsx)(h.VL,{metadata:e.metadata})]})}},{id:"description",name:"Description",description:void 0,minWidth:400,value:e=>(0,n.jsx)(d.$,{className:"text-xs",children:e.description})}].map(e=>{var t;return{key:e.id,name:e.name,resizable:!0,minWidth:null!=(t=e.minWidth)?t:120,headerCellClass:"first:pl-6 cursor-pointer",renderHeaderCell:()=>(0,n.jsx)("div",{className:"flex items-center justify-between font-mono font-normal text-xs w-full",children:(0,n.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,n.jsx)("p",{className:"!text-foreground",children:e.name}),e.description&&(0,n.jsx)("p",{className:"text-foreground-lighter",children:e.description})]})}),renderCell:t=>{let s=e.value(t.row);return(0,n.jsx)("div",{className:(0,f.cn)("w-full flex flex-col justify-center font-mono text-xs","number"==typeof s?"text-right":""),children:(0,n.jsx)("span",{children:s})})}}});return(0,n.jsxs)(x.HK,{direction:"horizontal",className:"relative flex flex-grow bg-alternative min-h-0",autoSaveId:"linter-layout-v1","data-sentry-element":"ResizablePanelGroup","data-sentry-component":"LinterDataGrid","data-sentry-source-file":"LinterDataGrid.tsx",children:[(0,n.jsx)(x.wV,{defaultSize:1,"data-sentry-element":"ResizablePanel","data-sentry-source-file":"LinterDataGrid.tsx",children:(0,n.jsx)(c.Ay,{ref:R,style:{height:"100%"},className:(0,f.cn)("flex-1 flex-grow h-full"),rowHeight:44,headerRowHeight:36,columns:T,rows:null!=k?k:[],rowClass:e=>{let t=e.cache_key===(null==j?void 0:j.cache_key);return["".concat(t?"bg-surface-300 dark:bg-surface-300":"bg-200"," cursor-pointer"),"".concat(t?"[&>div:first-child]:border-l-4 border-l-secondary [&>div]:border-l-foreground":""),"[&>.rdg-cell]:border-box [&>.rdg-cell]:outline-none [&>.rdg-cell]:shadow-none","[&>.rdg-cell:first-child>div]:ml-4"].join(" ")},renderers:{renderRow:(e,t)=>(0,n.jsx)(c.fI,{...t,onClick:()=>{if("number"==typeof e&&e>=0){var s;w(t.row),null==(s=R.current)||s.scrollToCell({idx:0,rowIdx:e});let{id:n,...r}=L.query;L.push({...L,query:{...r,id:t.row.cache_key}})}}},t.row.cache_key),noRowsFallback:b?(0,n.jsx)("div",{className:"absolute top-14 px-6 w-full",children:(0,n.jsx)(_.y,{})}):(0,n.jsx)(h._N,{level:N})},"data-sentry-element":"DataGrid","data-sentry-source-file":"LinterDataGrid.tsx"})}),null!==j&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x.WM,{withHandle:!0}),(0,n.jsxs)(x.wV,{defaultSize:30,maxSize:45,minSize:30,className:"bg-studio border-t",children:[(0,n.jsx)(g.$,{type:"text",className:"absolute top-3 right-3 px-1",icon:(0,n.jsx)(r.A,{}),onClick:function(){w(null);let{id:e,...t}=L.query;L.push({query:t})}}),(0,n.jsxs)(y.tU,{value:E,className:"flex flex-col h-full",onValueChange:e=>{S(e)},children:[(0,n.jsx)(y.j7,{className:"px-5 flex gap-x-4 min-h-[46px]",children:(0,n.jsx)(y.Xi,{value:"details",className:"px-0 pb-0 h-full text-xs  data-[state=active]:bg-transparent !shadow-none",children:"Overview"})}),(0,n.jsx)(y.av,{value:"details",className:"mt-0 flex-grow min-h-0 overflow-y-auto prose",children:j&&(0,n.jsxs)("div",{className:"py-4 px-5",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 py-2",children:[(0,n.jsx)("h3",{className:"text-sm m-0",children:null==(t=h.ah.find(e=>e.name===j.name))?void 0:t.title}),(0,n.jsx)(h.pr,{category:j.categories[0]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm mt-4",children:[(0,n.jsx)("span",{children:"Entity"}),(0,n.jsxs)("div",{className:"flex items-center gap-1 px-2 py-0.5 bg-surface-200 border rounded-lg ",children:[(0,n.jsx)(h.L,{type:null==(s=j.metadata)?void 0:s.type}),(0,n.jsx)(h.VL,{metadata:j.metadata})]})]}),(0,n.jsxs)("div",{className:"grid",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-sm",children:"Issue"}),(0,n.jsx)(d.$,{className:"leading-6 text-sm",children:j.detail.replace(/\\`/g,"`")})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-sm",children:"Description"}),(0,n.jsx)(d.$,{className:"text-sm",children:j.description.replace(/\\`/g,"`")})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)("h3",{className:"text-sm",children:"Resolve"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(g.$,{icon:(0,n.jsx)(v.M,{className:"scale-75 w-3 h-3"}),onClick:()=>{var e,t,s,n;C.newChat({name:"Summarize lint",open:!0,initialInput:"Summarize the issue and suggest fixes: ".concat(null==(e=h.ah.find(e=>e.name===j.name))?void 0:e.title,"\n                                \nEntity: ").concat(null!=(s=j.metadata&&(j.metadata.entity||j.metadata.schema&&j.metadata.name&&"".concat(j.metadata.schema,".").concat(j.metadata.name)))?s:"","\n                                \nSchema: ").concat(null!=(n=null==(t=j.metadata)?void 0:t.schema)?n:"","\n                                \nIssue: ").concat(j.detail.replace(/\\`/g,"`"),"\n                                \nDescription: ").concat(j.description.replace(/\\`/g,"`"),"\n")})},children:"Ask Assistant"}),(0,n.jsx)(h.W7,{title:j.name,projectRef:A,metadata:j.metadata}),(0,n.jsx)(g.$,{asChild:!0,type:"text",children:(0,n.jsx)(o(),{href:(null==(a=h.ah.find(e=>e.name===j.name))?void 0:a.docsLink)||"https://supabase.com/docs/guides/database/database-linter",target:"_blank",rel:"noreferrer",className:"no-underline",children:(0,n.jsxs)("span",{className:"flex items-center gap-2",children:["Learn more ",(0,n.jsx)(i.A,{size:14})]})})})]})]})]})]})})]})]})]})]})}},38220:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>h});var n=s(80263),r=s(53239),i=s(16865),a=s(51859);function o(e){let{children:t,className:s,tag:r="div",style:i}=e;return(0,n.jsx)("".concat(r),{style:i,"data-sentry-element":"CustomTag","data-sentry-component":"Typography","data-sentry-source-file":"Typography.tsx",children:t})}o.Title=function(e){let{className:t,level:s=1,children:r,style:i}=e;return(0,n.jsx)("h".concat(s),{style:i,"data-sentry-element":"CustomTag","data-sentry-component":"Title","data-sentry-source-file":"Title.tsx",children:r})},o.Text=function(e){let{className:t,children:s,style:r,type:i,disabled:a,mark:o,code:l,keyboard:c,underline:d,strikethrough:u,strong:h,small:p}=e;return l?(0,n.jsx)("code",{style:r,children:s}):o?(0,n.jsx)("mark",{style:r,children:s}):c?(0,n.jsx)("kbd",{style:r,children:s}):h?(0,n.jsx)("strong",{style:r,children:s}):(0,n.jsx)("span",{style:r,"data-sentry-component":"Text","data-sentry-source-file":"Text.tsx",children:s})},o.Link=function(e){let{children:t,target:s="_blank",href:r,className:i,onClick:a,style:o}=e;return(0,n.jsx)("a",{onClick:a,href:r,target:s,rel:"noopener noreferrer",style:o,"data-sentry-component":"Link","data-sentry-source-file":"Link.tsx",children:t})};let l=(0,r.createContext)({type:"text"}),c=e=>{let{type:t}=e;return(0,n.jsx)(l.Provider,{value:{type:t},"data-sentry-element":"unknown","data-sentry-component":"MenuContextProvider","data-sentry-source-file":"MenuContext.tsx",children:e.children})},d=()=>{let e=(0,r.useContext)(l);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function u(e){let{children:t,className:s,ulClassName:r,style:i,type:a="text"}=e;return(0,n.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:s,style:i,"data-sentry-component":"Menu","data-sentry-source-file":"Menu.tsx",children:(0,n.jsx)(c,{type:a,"data-sentry-element":"MenuContextProvider","data-sentry-source-file":"Menu.tsx",children:(0,n.jsx)("ul",{className:r,children:t})})})}u.Item=function(e){let{children:t,icon:s,active:r,rounded:o,onClick:l,doNotCloseOverlay:c=!1,showActiveBar:u=!1,style:h}=e,p=(0,i.A)("menu"),{type:m}=d(),f=[p.item.base];f.push(p.item.variants[m].base),r?f.push(p.item.variants[m].active):f.push(p.item.variants[m].normal);let x=[p.item.content.base];r?x.push(p.item.content.active):x.push(p.item.content.normal);let g=[p.item.icon.base];return r?g.push(p.item.icon.active):g.push(p.item.icon.normal),(0,n.jsxs)("li",{role:"menuitem",className:(0,a.cn)("outline-none",f),style:h,onClick:l,"aria-current":r?"page":void 0,"data-sentry-component":"Item","data-sentry-source-file":"Menu.tsx",children:[s&&(0,n.jsx)("div",{className:"".concat(g.join(" ")," min-w-fit"),children:s}),(0,n.jsx)("span",{className:x.join(" "),children:t})]})},u.Group=function(e){let{children:t,icon:s,title:r}=e,a=(0,i.A)("menu"),{type:o}=d();return(0,n.jsxs)("div",{className:[a.group.base,a.group.variants[o]].join(" "),"data-sentry-component":"Group","data-sentry-source-file":"Menu.tsx",children:[s&&(0,n.jsx)("span",{className:a.group.icon,children:s}),(0,n.jsx)("span",{className:a.group.content,children:r}),t]})},u.Misc=function(e){let{children:t}=e;return(0,n.jsx)("div",{"data-sentry-component":"Misc","data-sentry-source-file":"Menu.tsx",children:(0,n.jsx)(o.Text,{"data-sentry-element":"unknown","data-sentry-source-file":"Menu.tsx",children:(0,n.jsx)("span",{children:t})})})};let h=u},39071:(e,t,s)=>{"use strict";s.d(t,{l:()=>o});var n=s(80263),r=s(38220),i=s(65863),a=s(12484);let o=e=>{let{page:t,menu:s}=e;return(0,n.jsx)("div",{className:"flex flex-col space-y-8 overflow-y-auto","data-sentry-component":"ProductMenu","data-sentry-source-file":"ProductMenu.tsx",children:(0,n.jsx)(r.Ay,{type:"pills","data-sentry-element":"Menu","data-sentry-source-file":"ProductMenu.tsx",children:s.map((e,o)=>(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"my-6 space-y-8",children:(0,n.jsxs)("div",{className:"mx-3",children:[(0,n.jsx)(r.Ay.Group,{title:e.title?(0,n.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,n.jsx)("span",{children:e.title}),e.isPreview&&(0,n.jsx)(i.E,{variant:"warning",children:"Not production ready"})]}):null}),(0,n.jsx)("div",{children:e.items.map(e=>{let s=e.pages?e.pages.includes(null!=t?t:""):t===e.key;return(0,n.jsx)(a.A,{url:e.url,name:e.name,icon:e.icon,rightIcon:e.rightIcon,isActive:s,isExternal:e.isExternal,target:e.isExternal?"_blank":"_self",label:e.label},e.key)})})]})}),o!==s.length-1&&(0,n.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},e.key||e.title))})})}},52554:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var n=s(53239);let r=n.forwardRef(function({title:e,titleId:t,...s},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?n.createElement("title",{id:t},e):null,n.createElement("path",{fillRule:"evenodd",d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0ZM9 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM6.75 8a.75.75 0 0 0 0 1.5h.75v1.75a.75.75 0 0 0 1.5 0v-2.5A.75.75 0 0 0 8.25 8h-1.5Z",clipRule:"evenodd"}))})},52885:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let n=(0,s(23983).A)("TextSearch",[["path",{d:"M21 6H3",key:"1jwq7v"}],["path",{d:"M10 12H3",key:"1ulcyk"}],["path",{d:"M10 18H3",key:"13769t"}],["circle",{cx:"17",cy:"15",r:"3",key:"1upz2a"}],["path",{d:"m21 19-1.9-1.9",key:"dwi7p8"}]])},59758:(e,t,s)=>{"use strict";s.d(t,{A:()=>h});var n=s(80263);let r=(0,s(23983).A)("MessageSquareMore",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M16 10h.01",key:"1m94wz"}]]);var i=s(52554),a=s(84746),o=s(51859),l=s(16632),c=s(94142),d=s(96457),u=s(47504);let h=e=>{let{currentTab:t,setCurrentTab:s,setSelectedLint:h,isLoading:p,activeLints:m}=e,f=(0,u.useRouter)(),x=m.filter(e=>"WARN"===e.level).length,g=m.filter(e=>"ERROR"===e.level).length,y=m.filter(e=>"INFO"===e.level).length,v=e=>{let{tab:t}=e,s=0,r="";return t.id===c.R.ERROR&&(s=g,r="errors"),t.id===c.R.WARN&&(s=x,r="warnings"),t.id===c.R.INFO&&(s=y,r="suggestions"),(0,n.jsx)("span",{className:"text-xs text-foreground-muted group-hover:text-foreground-lighter group-data-[state=active]:text-foreground-lighter transition","data-sentry-component":"LintCountLabel","data-sentry-source-file":"LintPageTabs.tsx",children:p?(0,n.jsx)(d.A,{className:"w-20 pt-1"}):(0,n.jsxs)(n.Fragment,{children:[s," ",r]})})};return(0,n.jsx)(a.tU,{defaultValue:t,onValueChange:e=>{s(e),h(null);let{sort:t,search:n,...r}=f.query;f.push({...f,query:{...r,preset:e,id:null}})},"data-sentry-element":"Tabs_Shadcn_","data-sentry-component":"LintPageTabs","data-sentry-source-file":"LintPageTabs.tsx",children:(0,n.jsx)(a.j7,{className:(0,o.cn)("flex gap-0 border-0 items-end z-10 relative"),"data-sentry-element":"TabsList_Shadcn_","data-sentry-source-file":"LintPageTabs.tsx",children:c.T.map(e=>(0,n.jsxs)(a.Xi,{value:e.id,className:(0,o.cn)("group relative","px-6 py-3 border-b-0 flex flex-col items-start !shadow-none border-default border-t","even:border-x last:border-r even:!border-x-strong last:!border-r-strong",e.id===t?"!bg-surface-200":"!bg-surface-200/[33%]","hover:!bg-surface-100","data-[state=active]:!bg-surface-200","hover:text-foreground-light","transition"),children:[e.id===t&&(0,n.jsx)("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-foreground"}),(0,n.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,n.jsx)("span",{className:e.id===c.R.ERROR?"text-destructive-600":e.id===c.R.WARN?"text-warning-600":"text-brand-500",children:(0,n.jsx)(r,{size:14,fill:"currentColor",strokeWidth:0})}),(0,n.jsx)("span",{className:"",children:e.label}),(0,n.jsxs)(l.m_,{children:[(0,n.jsx)(l.k$,{asChild:!0,children:(0,n.jsx)(i.A,{className:"transition text-foreground-muted w-3 h-3 data-[state=delayed-open]:text-foreground-light"})}),(0,n.jsx)(l.ZI,{side:"top",children:e.description})]})]}),(0,n.jsx)(v,{tab:e})]},e.id))})})}},60411:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var n=s(80263),r=s(19898),i=s(94142),a=s(92737),o=s(91494),l=s(653),c=s(71126);let d=e=>{let{filterOptions:t,activeLints:s,filteredLints:d,currentTab:u,filters:h,isLoading:p,setFilters:m,onClickRefresh:f}=e,{ref:x}=(0,r.g)(),g=(e,t)=>{let s=[...h],n=s.findIndex(t=>t.level===e);-1!==n&&(s[n]={...s[n],filters:t},m(s))};return(0,n.jsxs)("div",{className:"px-6 py-2 -mt-px flex bg-surface-200 items-center justify-between border-t","data-sentry-component":"LinterFilters","data-sentry-source-file":"LinterFilters.tsx",children:[i.T.map(e=>{var r;return(0,n.jsx)("div",{className:e.id===u?"":"hidden",children:(0,n.jsx)(o.I,{name:"Filter",className:"w-52",options:t,disabled:0===s.filter(t=>t.level===e.id).length,labelKey:"name",valueKey:"value",activeOptions:(null==(r=h.find(t=>t.level===e.id))?void 0:r.filters)||[],onSaveFilters:t=>g(e.id,t)})},e.id)}),(0,n.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,n.jsx)(c.$,{size:"tiny",type:"default",disabled:p,onClick:f,icon:(0,n.jsx)(l.A,{className:"text-foreground-light ".concat(p?"animate-spin":"")}),"data-sentry-element":"Button","data-sentry-source-file":"LinterFilters.tsx",children:"Refresh"}),(0,n.jsx)(a.b,{align:"end",results:d,fileName:"Supabase Performance Security Lints (".concat(x,")"),"data-sentry-element":"DownloadResultsButton","data-sentry-source-file":"LinterFilters.tsx"})]})]})}},65880:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let n=(0,s(23983).A)("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]])},69890:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var n=s(80263),r=s(51859),i=s(71126),a=s(63720);let o=e=>{let{isLoading:t,isRefetching:s,refetch:o,hideDbInspectCTA:l}=e;return(0,n.jsxs)("div",{className:"px-6 py-6 flex gap-x-4 border-t ","data-sentry-component":"LinterPageFooter","data-sentry-source-file":"LinterPageFooter.tsx",children:[(0,n.jsxs)("div",{className:(0,r.cn)(l?"w-[35%]":"w-[33%]","flex flex-col gap-y-1 text-sm"),children:[(0,n.jsx)("p",{children:"Reset suggestions"}),(0,n.jsx)("p",{className:"text-xs text-foreground-light",children:"Consider resetting the analysis making any changes"}),(0,n.jsx)(i.$,{type:"default",className:"!mt-3 w-min",disabled:t||s,loading:t||s,onClick:()=>o(),"data-sentry-element":"Button","data-sentry-source-file":"LinterPageFooter.tsx",children:"Rerun linter"})]}),(0,n.jsxs)("div",{className:(0,r.cn)(l?"w-[35%]":"w-[33%]","flex flex-col gap-y-1 text-sm"),children:[(0,n.jsx)("p",{children:"How are these suggestions generated?"}),(0,n.jsx)("div",{className:"prose text-xs",children:(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{children:"These suggestions use "}),(0,n.jsx)("a",{href:"https://github.com/supabase/splinter",target:"",rel:"",children:"splinter (Supabase Postgres LINTER)"}),"."]})})]}),!l&&(0,n.jsxs)("div",{className:"w-[33%] flex flex-col gap-y-1 text-sm",children:[(0,n.jsx)("p",{children:"Inspect your database for potential issues"}),(0,n.jsx)(a.o,{className:"text-xs",content:"The Supabase CLI comes with a range of tools to help inspect your Postgres instances for potential issues. [Learn more here](https://supabase.com/docs/guides/database/inspect)."})]})]})}},76448:(e,t,s)=>{"use strict";s.d(t,{M:()=>a});var n=s(80263),r=s(51859),i=s(23992);let a=e=>{let{title:t,description:s,docsUrl:a,actions:o,className:l}=e;return(0,n.jsxs)("div",{className:(0,r.cn)("w-full mb-6 flex flex-col sm:flex-row md:items-center justify-between gap-4 ".concat(l)),"data-sentry-component":"FormHeader","data-sentry-source-file":"FormHeader.tsx",children:[(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsx)("h3",{className:"text-foreground text-xl prose",children:t}),s&&(0,n.jsx)("div",{className:"prose text-sm max-w-2xl",children:s})]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row md:items-center gap-x-2",children:[void 0!==a&&(0,n.jsx)(i.A,{href:a}),o]})]})}},77191:function(e,t){var s,n;void 0===(n="function"==typeof(s=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},s=!t.document&&!!t.postMessage,n=t.IS_PAPA_WORKER||!1,r={},i=0,a={parse:function(s,n){var o,l=(n=n||{}).dynamicTyping||!1;if(b(l)&&(n.dynamicTypingFunction=l,l={}),n.dynamicTyping=l,n.transform=!!b(n.transform)&&n.transform,n.worker&&a.WORKERS_SUPPORTED){var p=function(){if(!a.WORKERS_SUPPORTED)return!1;var s,n,o=(s=t.URL||t.webkitURL||null,n=e.toString(),a.BLOB_URL||(a.BLOB_URL=s.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",n,")();"],{type:"text/javascript"})))),l=new t.Worker(o);return l.onmessage=x,l.id=i++,r[l.id]=l}();return p.userStep=n.step,p.userChunk=n.chunk,p.userComplete=n.complete,p.userError=n.error,n.step=b(n.step),n.chunk=b(n.chunk),n.complete=b(n.complete),n.error=b(n.error),delete n.worker,void p.postMessage({input:s,config:n,workerId:p.id})}var m=null;return a.NODE_STREAM_INPUT,"string"==typeof s?(s=65279===(o=s).charCodeAt(0)?o.slice(1):o,m=n.download?new c(n):new u(n)):!0===s.readable&&b(s.read)&&b(s.on)?m=new h(n):(t.File&&s instanceof File||s instanceof Object)&&(m=new d(n)),m.stream(s)},unparse:function(e,t){var s=!1,n=!0,r=",",i="\r\n",o='"',l=o+o,c=!1,d=null,u=!1;if("object"==typeof t){if("string"!=typeof t.delimiter||a.BAD_DELIMITERS.filter(function(e){return -1!==t.delimiter.indexOf(e)}).length||(r=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(s=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(i=t.newline),"string"==typeof t.quoteChar&&(o=t.quoteChar),"boolean"==typeof t.header&&(n=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw Error("Option columns is empty");d=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+o),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(u=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}var h=RegExp(m(o),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return p(null,e,c);if("object"==typeof e[0])return p(d||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||d),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),p(e.fields||[],e.data||[],c);throw Error("Unable to serialize unrecognized input");function p(e,t,s){var a="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var o=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(o&&n){for(var c=0;c<e.length;c++)0<c&&(a+=r),a+=f(e[c],c);0<t.length&&(a+=i)}for(var d=0;d<t.length;d++){var u=o?e.length:t[d].length,h=!1,p=o?0===Object.keys(t[d]).length:0===t[d].length;if(s&&!o&&(h="greedy"===s?""===t[d].join("").trim():1===t[d].length&&0===t[d][0].length),"greedy"===s&&o){for(var m=[],x=0;x<u;x++){var g=l?e[x]:x;m.push(t[d][g])}h=""===m.join("").trim()}if(!h){for(var y=0;y<u;y++){0<y&&!p&&(a+=r);var v=o&&l?e[y]:y;a+=f(t[d][v],y)}d<t.length-1&&(!s||0<u&&!p)&&(a+=i)}}return a}function f(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var n=!1;u&&"string"==typeof e&&u.test(e)&&(e="'"+e,n=!0);var i=e.toString().replace(h,l);return(n=n||!0===s||"function"==typeof s&&s(e,t)||Array.isArray(s)&&s[t]||function(e,t){for(var s=0;s<t.length;s++)if(-1<e.indexOf(t[s]))return!0;return!1}(i,a.BAD_DELIMITERS)||-1<i.indexOf(r)||" "===i.charAt(0)||" "===i.charAt(i.length-1))?o+i+o:i}}};if(a.RECORD_SEP="\x1e",a.UNIT_SEP="\x1f",a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!s&&!!t.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=0xa00000,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=f,a.ParserHandle=p,a.NetworkStreamer=c,a.FileStreamer=d,a.StringStreamer=u,a.ReadableStreamStreamer=h,t.jQuery){var o=t.jQuery;o.fn.parse=function(e){var s=e.config||{},n=[];return this.each(function(e){if(!("INPUT"===o(this).prop("tagName").toUpperCase()&&"file"===o(this).attr("type").toLowerCase()&&t.FileReader)||!this.files||0===this.files.length)return!0;for(var r=0;r<this.files.length;r++)n.push({file:this.files[r],inputElem:this,instanceConfig:o.extend({},s)})}),r(),this;function r(){if(0!==n.length){var t,s,r,l,c=n[0];if(b(e.before)){var d=e.before(c.file,c.inputElem);if("object"==typeof d){if("abort"===d.action)return t="AbortError",s=c.file,r=c.inputElem,l=d.reason,void(b(e.error)&&e.error({name:t},s,r,l));if("skip"===d.action)return void i();"object"==typeof d.config&&(c.instanceConfig=o.extend(c.instanceConfig,d.config))}else if("skip"===d)return void i()}var u=c.instanceConfig.complete;c.instanceConfig.complete=function(e){b(u)&&u(e,c.file,c.inputElem),i()},a.parse(c.file,c.instanceConfig)}else b(e.complete)&&e.complete()}function i(){n.splice(0,1),r()}}}function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var t=v(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new p(t),(this._handle.streamer=this)._config=t}).call(this,e),this.parseChunk=function(e,s){if(this.isFirstChunk&&b(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(e);void 0!==r&&(e=r)}this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+e;this._partialLine="";var o=this._handle.parse(i,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=o.meta.cursor;this._finished||(this._partialLine=i.substring(l-this._baseIndex),this._baseIndex=l),o&&o.data&&(this._rowCount+=o.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(n)t.postMessage({results:o,workerId:a.WORKER_ID,finished:c});else if(b(this._config.chunk)&&!s){if(this._config.chunk(o,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);o=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(o.data),this._completeResults.errors=this._completeResults.errors.concat(o.errors),this._completeResults.meta=o.meta),this._completed||!c||!b(this._config.complete)||o&&o.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||o&&o.meta.paused||this._nextChunk(),o}this._halted=!0},this._sendError=function(e){b(this._config.error)?this._config.error(e):n&&this._config.error&&t.postMessage({workerId:a.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=a.RemoteChunkSize),l.call(this,e),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),s||(t.onload=_(this._chunkLoaded,this),t.onerror=_(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var n in e)t.setRequestHeader(n,e[n])}if(this._config.chunkSize){var r=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+r)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}s&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){var e;4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(e=t.getResponseHeader("Content-Range"))?-1:parseInt(e.substring(e.lastIndexOf("/")+1))),this.parseChunk(t.responseText)))},this._chunkError=function(e){var s=t.statusText||e;this._sendError(Error(s))}}function d(e){(e=e||{}).chunkSize||(e.chunkSize=a.LocalChunkSize),l.call(this,e);var t,s,n="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,s=e.slice||e.webkitSlice||e.mozSlice,n?((t=new FileReader).onload=_(this._chunkLoaded,this),t.onerror=_(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);e=s.call(e,this._start,r)}var i=t.readAsText(e,this._config.encoding);n||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function u(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,s=this._config.chunkSize;return s?(e=t.substring(0,s),t=t.substring(s)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function h(e){l.call(this,e=e||{});var t=[],s=!0,n=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):s=!0},this._streamData=_(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),s&&(s=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=_(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=_(function(){this._streamCleanUp(),n=!0,this._streamData("")},this),this._streamCleanUp=_(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(e){var t,s,n,r=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,i=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,o=this,l=0,c=0,d=!1,u=!1,h=[],p={data:[],errors:[],meta:{}};if(b(e.step)){var x=e.step;e.step=function(t){if(p=t,_())y();else{if(y(),0===p.data.length)return;l+=t.data.length,e.preview&&l>e.preview?s.abort():(p.data=p.data[0],x(p,o))}}}function g(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function y(){return p&&n&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),n=!1),e.skipEmptyLines&&(p.data=p.data.filter(function(e){return!g(e)})),_()&&function(){if(p)if(Array.isArray(p.data[0])){for(var t=0;_()&&t<p.data.length;t++)p.data[t].forEach(s);p.data.splice(0,1)}else p.data.forEach(s);function s(t,s){b(e.transformHeader)&&(t=e.transformHeader(t,s)),h.push(t)}}(),function(){if(!p||!e.header&&!e.dynamicTyping&&!e.transform)return p;function t(t,s){var n,a=e.header?{}:[];for(n=0;n<t.length;n++){var o,l,d=n,u=t[n];e.header&&(d=n>=h.length?"__parsed_extra":h[n]),e.transform&&(u=e.transform(u,d)),o=d,l=u,e.dynamicTypingFunction&&void 0===e.dynamicTyping[o]&&(e.dynamicTyping[o]=e.dynamicTypingFunction(o)),u=!0===(e.dynamicTyping[o]||e.dynamicTyping)?"true"===l||"TRUE"===l||"false"!==l&&"FALSE"!==l&&(!function(e){if(r.test(e)){var t=parseFloat(e);if(-0x20000000000000<t&&t<0x20000000000000)return!0}return!1}(l)?i.test(l)?new Date(l):""===l?null:l:parseFloat(l)):l,"__parsed_extra"===d?(a[d]=a[d]||[],a[d].push(u)):a[d]=u}return e.header&&(n>h.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+h.length+" fields but parsed "+n,c+s):n<h.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+h.length+" fields but parsed "+n,c+s)),a}var s=1;return!p.data.length||Array.isArray(p.data[0])?(p.data=p.data.map(t),s=p.data.length):p.data=t(p.data,0),e.header&&p.meta&&(p.meta.fields=h),c+=s,p}()}function _(){return e.header&&0===h.length}function k(e,t,s,n){var r={type:e,code:t,message:s};void 0!==n&&(r.row=n),p.errors.push(r)}this.parse=function(r,i,o){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var s=RegExp(m(t)+"([^]*?)"+m(t),"gm"),n=(e=e.replace(s,"")).split("\r"),r=e.split("\n"),i=1<r.length&&r[0].length<n[0].length;if(1===n.length||i)return"\n";for(var a=0,o=0;o<n.length;o++)"\n"===n[o][0]&&a++;return a>=n.length/2?"\r\n":"\r"}(r,l)),n=!1,e.delimiter)b(e.delimiter)&&(e.delimiter=e.delimiter(r),p.meta.delimiter=e.delimiter);else{var c=function(t,s,n,r,i){var o,l,c,d;i=i||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var u=0;u<i.length;u++){var h=i[u],p=0,m=0,x=0;c=void 0;for(var y=new f({comments:r,delimiter:h,newline:s,preview:10}).parse(t),v=0;v<y.data.length;v++)if(n&&g(y.data[v]))x++;else{var _=y.data[v].length;m+=_,void 0!==c?0<_&&(p+=Math.abs(_-c),c=_):c=_}0<y.data.length&&(m/=y.data.length-x),(void 0===l||p<=l)&&(void 0===d||d<m)&&1.99<m&&(l=p,o=h,d=m)}return{successful:!!(e.delimiter=o),bestDelimiter:o}}(r,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);c.successful?e.delimiter=c.bestDelimiter:(n=!0,e.delimiter=a.DefaultDelimiter),p.meta.delimiter=e.delimiter}var u=v(e);return e.preview&&e.header&&u.preview++,t=r,p=(s=new f(u)).parse(t,i,o),y(),d?{meta:{paused:!0}}:p||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,s.abort(),t=b(e.chunk)?"":t.substring(s.getCharIndex())},this.resume=function(){o.streamer._halted?(d=!1,o.streamer.parseChunk(t,!0)):setTimeout(o.resume,3)},this.aborted=function(){return u},this.abort=function(){u=!0,s.abort(),p.meta.aborted=!0,b(e.complete)&&e.complete(p),t=""}}function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function f(e){var t,s=(e=e||{}).delimiter,n=e.newline,r=e.comments,i=e.step,o=e.preview,l=e.fastMode,c=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof s||-1<a.BAD_DELIMITERS.indexOf(s))&&(s=","),r===s)throw Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<a.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var d=0,u=!1;this.parse=function(a,h,p){if("string"!=typeof a)throw Error("Input must be a string");var f=a.length,x=s.length,g=n.length,y=r.length,v=b(i),_=[],k=[],j=[],w=d=0;if(!a)return G();if(e.header&&!h){var N=a.split(n)[0].split(s),R=[],A={},L=!1;for(var C in N){var E=N[C];b(e.transformHeader)&&(E=e.transformHeader(E,C));var S=E,T=A[E]||0;for(0<T&&(L=!0,S=E+"_"+T),A[E]=T+1;R.includes(S);)S=S+"_"+T;R.push(S)}if(L){var O=a.split(n);O[0]=R.join(s),a=O.join(n)}}if(l||!1!==l&&-1===a.indexOf(t)){for(var z=a.split(n),I=0;I<z.length;I++){if(j=z[I],d+=j.length,I!==z.length-1)d+=n.length;else if(p)break;if(!r||j.substring(0,y)!==r){if(v){if(_=[],B(j.split(s)),K(),u)return G()}else B(j.split(s));if(o&&o<=I)return _=_.slice(0,o),G(!0)}}return G()}for(var M=a.indexOf(s,d),D=a.indexOf(n,d),F=RegExp(m(c)+m(t),"g"),P=a.indexOf(t,d);;)if(a[d]!==t)if(r&&0===j.length&&a.substring(d,d+y)===r){if(-1===D)return G();d=D+g,D=a.indexOf(n,d),M=a.indexOf(s,d)}else if(-1!==M&&(M<D||-1===D))j.push(a.substring(d,M)),d=M+x,M=a.indexOf(s,d);else{if(-1===D)break;if(j.push(a.substring(d,D)),H(D+g),v&&(K(),u))return G();if(o&&_.length>=o)return G(!0)}else for(P=d,d++;;){if(-1===(P=a.indexOf(t,P+1)))return p||k.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:_.length,index:d}),U();if(P===f-1)return U(a.substring(d,P).replace(F,t));if(t!==c||a[P+1]!==c){if(t===c||0===P||a[P-1]!==c){-1!==M&&M<P+1&&(M=a.indexOf(s,P+1)),-1!==D&&D<P+1&&(D=a.indexOf(n,P+1));var W=V(-1===D?M:Math.min(M,D));if(a.substr(P+1+W,x)===s){j.push(a.substring(d,P).replace(F,t)),a[d=P+1+W+x]!==t&&(P=a.indexOf(t,d)),M=a.indexOf(s,d),D=a.indexOf(n,d);break}var q=V(D);if(a.substring(P+1+q,P+1+q+g)===n){if(j.push(a.substring(d,P).replace(F,t)),H(P+1+q+g),M=a.indexOf(s,d),P=a.indexOf(t,d),v&&(K(),u))return G();if(o&&_.length>=o)return G(!0);break}k.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:_.length,index:d}),P++}}else P++}return U();function B(e){_.push(e),w=d}function V(e){var t=0;if(-1!==e){var s=a.substring(P+1,e);s&&""===s.trim()&&(t=s.length)}return t}function U(e){return p||(void 0===e&&(e=a.substring(d)),j.push(e),d=f,B(j),v&&K()),G()}function H(e){d=e,B(j),j=[],D=a.indexOf(n,d)}function G(e){return{data:_,errors:k,meta:{delimiter:s,linebreak:n,aborted:u,truncated:!!e,cursor:w+(h||0)}}}function K(){i(G()),_=[],k=[]}},this.abort=function(){u=!0},this.getCharIndex=function(){return d}}function x(e){var t=e.data,s=r[t.workerId],n=!1;if(t.error)s.userError(t.error,t.file);else if(t.results&&t.results.data){var i={abort:function(){n=!0,g(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(b(s.userStep)){for(var a=0;a<t.results.data.length&&(s.userStep({data:t.results.data[a],errors:t.results.errors,meta:t.results.meta},i),!n);a++);delete t.results}else b(s.userChunk)&&(s.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!n&&g(t.workerId,t.results)}function g(e,t){var s=r[e];b(s.userComplete)&&s.userComplete(t),s.terminate(),delete r[e]}function y(){throw Error("Not implemented.")}function v(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var s in e)t[s]=v(e[s]);return t}function _(e,t){return function(){e.apply(t,arguments)}}function b(e){return"function"==typeof e}return n&&(t.onmessage=function(e){var s=e.data;if(void 0===a.WORKER_ID&&s&&(a.WORKER_ID=s.workerId),"string"==typeof s.input)t.postMessage({workerId:a.WORKER_ID,results:a.parse(s.input,s.config),finished:!0});else if(t.File&&s.input instanceof File||s.input instanceof Object){var n=a.parse(s.input,s.config);n&&t.postMessage({workerId:a.WORKER_ID,results:n,finished:!0})}}),(c.prototype=Object.create(l.prototype)).constructor=c,(d.prototype=Object.create(l.prototype)).constructor=d,(u.prototype=Object.create(u.prototype)).constructor=u,(h.prototype=Object.create(l.prototype)).constructor=h,a})?s.apply(t,[]):s)||(e.exports=n)},78777:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let n=(0,s(23983).A)("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]])},91494:(e,t,s)=>{"use strict";s.d(t,{I:()=>u});var n=s(80263),r=s(53239),i=s(95793),a=s(71126),o=s(51859),l=s(67585),c=s(9093),d=s(97380);let u=e=>{let{title:t,options:s=[],activeOptions:u=[],valueKey:h,labelKey:p,iconKey:m="icon",name:f="default",variant:x="rectangular",buttonType:g,disabled:y,labelClass:v,className:_,maxHeightClass:b="h-[205px]",clearButtonText:k="Clear",onSaveFilters:j}=e,[w,N]=(0,r.useState)(!1),[R,A]=(0,r.useState)([]),L=u.map(e=>{let t=s.find(t=>t[h]===e);return t&&t[p]?t[p]:""});return(0,r.useEffect)(()=>{!w&&u.length>0&&A(u)},[w,u]),(0,n.jsxs)(i.AM,{open:w,onOpenChange:N,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"FilterPopover","data-sentry-source-file":"FilterPopover.tsx",children:[(0,n.jsx)(i.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"FilterPopover.tsx",children:(0,n.jsx)(a.$,{asChild:!0,disabled:y,type:null!=g?g:u.length>0?"default":"dashed",onClick:()=>N(!1),className:"rounded"===x?"rounded-full":"","data-sentry-element":"Button","data-sentry-source-file":"FilterPopover.tsx",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:f}),u.length>0&&(0,n.jsx)("span",{className:"mr-1",children:":"}),u.length>=3?(0,n.jsxs)("span",{children:[L[0]," and ",u.length-1," others"]}):u.length>0?(0,n.jsx)("span",{children:L.join(", ")}):null]})})}),(0,n.jsxs)(i.hl,{className:(0,o.cn)("p-0 w-44",_),align:"start",portal:!0,"data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"FilterPopover.tsx",children:[(0,n.jsx)("div",{className:"border-b border-overlay bg-surface-200 rounded-t pb-1 px-3",children:(0,n.jsx)("span",{className:"text-xs text-foreground-light",children:null!=t?t:"Select ".concat(f.toLowerCase())})}),(0,n.jsx)(l.FK,{className:s.length>7?b:"","data-sentry-element":"ScrollArea","data-sentry-source-file":"FilterPopover.tsx",children:(0,n.jsx)("div",{className:"p-3 flex flex-col gap-y-2",children:s.map(e=>{let t=e[h],s=m?e[m]:void 0;return(0,n.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,n.jsx)(c.S,{id:t,checked:R.includes(t),onCheckedChange:()=>{R.includes(t)?A(R.filter(e=>e!==t)):A(R.concat(t))}}),(0,n.jsxs)(d.J,{htmlFor:e[h],className:(0,o.cn)("flex items-center gap-x-2 text-xs",v),children:[s&&(0,n.jsx)("img",{src:s,alt:e[p],className:(0,o.cn)("w-4 h-4",e.iconClass)}),(0,n.jsx)("span",{children:e[p]})]})]},t)})})}),(0,n.jsxs)("div",{className:"flex items-center justify-end gap-2 border-t border-overlay bg-surface-200 py-2 px-3",children:[(0,n.jsx)(a.$,{size:"tiny",type:"default",onClick:()=>{j([]),A([]),N(!1)},"data-sentry-element":"Button","data-sentry-source-file":"FilterPopover.tsx",children:k}),(0,n.jsx)(a.$,{type:"primary",onClick:()=>{let e=s.map(e=>e[h]);j(R.sort((t,s)=>e.indexOf(t)-e.indexOf(s))),N(!1)},"data-sentry-element":"Button","data-sentry-source-file":"FilterPopover.tsx",children:"Save"})]})]})]})}},92737:(e,t,s)=>{"use strict";s.d(t,{b:()=>g});var n=s(80263),r=s(95137),i=s.n(r),a=s(57953),o=s(62659),l=s(99709),c=s(77406),d=s(77191),u=s.n(d),h=s(53239),p=s(73969),m=s(51527),f=s(74115),x=s(71126);let g=e=>{let{iconOnly:t=!1,type:s="default",text:r="Export",align:d="start",results:g,fileName:y,onDownloadAsCSV:v,onCopyAsMarkdown:_,onCopyAsJSON:b}=e,k=g.map(e=>{let t={...e};return Object.keys(e).forEach(s=>{"object"==typeof e[s]&&(t[s]=JSON.stringify(e[s]))}),t}),j=(0,h.useMemo)(()=>{if(g){let e=Array.from(g)[0];if(e)return Object.keys(e)}},[g]),w=()=>{let e=new Blob([u().unparse(k,{columns:j})],{type:"text/csv;charset=utf-8;"});i()(e,"".concat(y,".csv")),p.oR.success("Downloading results as CSV"),null==v||v()};return(0,n.jsxs)(f.rI,{"data-sentry-element":"DropdownMenu","data-sentry-component":"DownloadResultsButton","data-sentry-source-file":"DownloadResultsButton.tsx",children:[(0,n.jsx)(f.ty,{asChild:!0,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"DownloadResultsButton.tsx",children:(0,n.jsx)(x.$,{type:s,icon:t?(0,n.jsx)(a.A,{}):void 0,iconRight:t?void 0:(0,n.jsx)(o.A,{}),disabled:0===g.length,className:t?"w-7":"","data-sentry-element":"Button","data-sentry-source-file":"DownloadResultsButton.tsx",children:!t&&r})}),(0,n.jsxs)(f.SQ,{align:d,className:"w-44","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"DownloadResultsButton.tsx",children:[(0,n.jsxs)(f._2,{className:"gap-x-2",onClick:()=>w(),"data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"DownloadResultsButton.tsx",children:[(0,n.jsx)(a.A,{size:14,"data-sentry-element":"Download","data-sentry-source-file":"DownloadResultsButton.tsx"}),(0,n.jsx)("p",{children:"Download CSV"})]}),(0,n.jsxs)(f._2,{onClick:()=>{if(navigator){0==k.length&&(0,p.oR)("Results are empty");let e=Object.keys(k[0]),t=k.map(t=>{let s=[];return e.forEach(e=>s.push(t[e])),s}),s=[e].concat(t),n=(0,c.Q)(s);(0,m.l)(n,()=>{p.oR.success("Copied results to clipboard"),null==_||_()})}},className:"gap-x-2","data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"DownloadResultsButton.tsx",children:[(0,n.jsx)(l.A,{size:14,"data-sentry-element":"Clipboard","data-sentry-source-file":"DownloadResultsButton.tsx"}),(0,n.jsx)("p",{children:"Copy as markdown"})]}),(0,n.jsxs)(f._2,{onClick:()=>{if(navigator){if(0===g.length)return(0,p.oR)("Results are empty");(0,m.l)(JSON.stringify(g,null,2),()=>{p.oR.success("Copied results to clipboard"),null==b||b()})}},className:"gap-x-2","data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"DownloadResultsButton.tsx",children:[(0,n.jsx)(l.A,{size:14,"data-sentry-element":"Clipboard","data-sentry-source-file":"DownloadResultsButton.tsx"}),(0,n.jsx)("p",{children:"Copy as JSON"})]})]})]})}},94142:(e,t,s)=>{"use strict";s.d(t,{R:()=>n,T:()=>r});var n=function(e){return e.ERROR="ERROR",e.WARN="WARN",e.INFO="INFO",e}({});let r=[{id:"ERROR",label:"Errors",description:"You should consider these issues urgent and fix them as soon as you can.",descriptionShort:"Require immediate attention"},{id:"WARN",label:"Warnings",description:"You should try and read through these issues and fix them if necessary.",descriptionShort:"To resolve only if necessary"},{id:"INFO",label:"Info",description:"You should read through these suggestions and consider implementing them.",descriptionShort:"For consideration to implement"}]},95137:function(e,t,s){var n,r;void 0===(r="function"==typeof(n=function(){"use strict";function t(e,t,s){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){o(n.response,t,s)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(s){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof s.g&&s.g.global===s.g?s.g:void 0,a=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,s,a){var o=i.URL||i.webkitURL,l=document.createElement("a");l.download=s=s||e.name||"download",l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?r(l):n(l.href)?t(e,s,a):r(l,l.target="_blank")):(l.href=o.createObjectURL(e),setTimeout(function(){o.revokeObjectURL(l.href)},4e4),setTimeout(function(){r(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,s,i){if(s=s||e.name||"download","string"!=typeof e){var a;navigator.msSaveOrOpenBlob((void 0===(a=i)?a={autoBom:!1}:"object"!=typeof a&&(console.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e),s)}else if(n(e))t(e,s,i);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout(function(){r(o)})}}:function(e,s,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return t(e,s,n);var o="application/octet-stream"===e.type,l=/constructor/i.test(i.HTMLElement)||i.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&l||a)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},d.readAsDataURL(e)}else{var u=i.URL||i.webkitURL,h=u.createObjectURL(e);r?r.location=h:location.href=h,r=null,setTimeout(function(){u.revokeObjectURL(h)},4e4)}});i.saveAs=o.saveAs=o,e.exports=o})?n.apply(t,[]):n)||(e.exports=r)},96057:(e,t,s)=>{"use strict";s.d(t,{L:()=>_,W7:()=>v,pr:()=>k,VL:()=>b,_N:()=>j,ah:()=>y});var n=s(80263),r=s(65880),i=s(26470),a=s(72078),o=s(78777),l=s(49009);let c=(0,s(23983).A)("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);var d=s(42938),u=s(37598),h=s(52885),p=s(59153),m=s.n(p),f=s(94142),x=s(71126),g=s(65863);let y=[{name:"unindexed_foreign_keys",title:"Unindexed foreign keys",icon:(0,n.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/database/indexes?schema=").concat(null==s?void 0:s.schema)},linkText:"Create an index",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0001_unindexed_foreign_keys",category:"performance"},{name:"auth_users_exposed",title:"Exposed Auth Users",icon:(0,n.jsx)(i.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/editor")},linkText:"View table",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0002_auth_users_exposed",category:"security"},{name:"auth_rls_initplan",title:"Auth RLS Initialization Plan",icon:(0,n.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/policies")},linkText:"View policies",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0003_auth_rls_initplan",category:"performance"},{name:"no_primary_key",title:"No Primary Key",icon:(0,n.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/editor")},linkText:"View table",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0004_no_primary_key",category:"performance"},{name:"unused_index",title:"Unused Index",icon:(0,n.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/database/indexes?schema=").concat(null==s?void 0:s.schema,"&table=").concat(null==s?void 0:s.name)},linkText:"View index",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0005_unused_index",category:"performance"},{name:"multiple_permissive_policies",title:"Multiple Permissive Policies",icon:(0,n.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/auth/policies?schema=").concat(null==s?void 0:s.schema,"&search=").concat(null==s?void 0:s.name)},linkText:"View policies",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0006_multiple_permissive_policies",category:"performance"},{name:"policy_exists_rls_disabled",title:"Policy Exists RLS Disabled",icon:(0,n.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/auth/policies?schema=").concat(null==s?void 0:s.schema,"&search=").concat(null==s?void 0:s.name)},linkText:"View policies",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0007_policy_exists_rls_disabled",category:"security"},{name:"rls_enabled_no_policy",title:"RLS Enabled No Policy",icon:(0,n.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/auth/policies?schema=").concat(null==s?void 0:s.schema,"&search=").concat(null==s?void 0:s.name)},linkText:"View table",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0008_rls_enabled_no_policy",category:"security"},{name:"duplicate_index",title:"Duplicate Index",icon:(0,n.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/database/indexes?schema=").concat(null==s?void 0:s.schema,"&table=").concat(null==s?void 0:s.name)},linkText:"View index",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0009_duplicate_index",category:"performance"},{name:"security_definer_view",title:"Security Definer View",icon:(0,n.jsx)(a.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5}),link:()=>"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0010_security_definer_view",linkText:"View docs",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0010_security_definer_view",category:"security"},{name:"function_search_path_mutable",title:"Function Search Path Mutable",icon:(0,n.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/database/functions?schema=").concat(null==s?void 0:s.schema,"&search=").concat(null==s?void 0:s.name)},linkText:"View functions",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0011_function_search_path_mutable",category:"security"},{name:"rls_disabled_in_public",title:"RLS Disabled in Public",icon:(0,n.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/auth/policies?schema=").concat(null==s?void 0:s.schema,"&search=").concat(null==s?void 0:s.name)},linkText:"View policies",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0013_rls_disabled_in_public",category:"security"},{name:"extension_in_public",title:"Extension in Public",icon:(0,n.jsx)(o.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/database/extensions?filter=").concat(null==s?void 0:s.name)},linkText:"View extension",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0014_extension_in_public",category:"security"},{name:"auth_otp_long_expiry",title:"Auth OTP Long Expiry",icon:(0,n.jsx)(l.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/providers")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/platform/going-into-prod#security",category:"security"},{name:"auth_otp_short_length",title:"Auth OTP Short Length",icon:(0,n.jsx)(c,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/providers")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/platform/going-into-prod#security",category:"security"},{name:"rls_references_user_metadata",title:"RLS references user metadata",icon:(0,n.jsx)(d.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/policies")},linkText:"View policies",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0015_rls_references_user_metadata",category:"security"},{name:"materialized_view_in_api",title:"Materialized View in API",icon:(0,n.jsx)(a.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5}),link:()=>"https://supabase.com/docs/guides/database/database-advisors?lint=0016_materialized_view_in_api",linkText:"View docs",docsLink:"https://supabase.com/docs/guides/database/database-advisors?lint=0016_materialized_view_in_api",category:"security"},{name:"foreign_table_in_api",title:"Foreign Table in API",icon:(0,n.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5}),link:()=>"https://supabase.com/docs/guides/database/database-linter?lint=0017_foreign_table_in_api",linkText:"View docs",docsLink:"https://supabase.com/docs/guides/database/database-linter?lint=0017_foreign_table_in_api",category:"security"},{name:"unsupported_reg_types",title:"Unsupported reg types",icon:(0,n.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5}),link:()=>"https://supabase.com/docs/guides/database/database-advisors?lint=0018_unsupported_reg_types&queryGroups=lint",linkText:"View docs",docsLink:"https://supabase.com/docs/guides/database/database-advisors?lint=0018_unsupported_reg_types&queryGroups=lint",category:"security"},{name:"ssl_not_enforced",title:"SSL not enforced",icon:(0,n.jsx)(c,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/settings/database")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/platform/ssl-enforcement",category:"security"},{name:"network_restrictions_not_set",title:"No network restrictions",icon:(0,n.jsx)(c,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/settings/database")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/platform/network-restrictions",category:"security"},{name:"password_requirements_min_length",title:"Minimum password length not set or inadequate",icon:(0,n.jsx)(c,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/providers?provider=Email")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/platform/going-into-prod#security",category:"security"},{name:"pitr_not_enabled",title:"PITR not enabled",icon:(0,n.jsx)(c,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/database/backups/pitr")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/platform/backups#point-in-time-recovery",category:"security"},{name:"auth_leaked_password_protection",title:"Leaked Password Protection Disabled",icon:(0,n.jsx)(i.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/providers?provider=Email")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/auth/password-security#password-strength-and-leaked-password-protection",category:"security"},{name:"auth_insufficient_mfa_options",title:"Insufficient MFA Options",icon:(0,n.jsx)(i.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/mfa")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/auth/auth-mfa",category:"security"},{name:"auth_password_policy_missing",title:"Password Policy Missing",icon:(0,n.jsx)(i.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/providers?provider=Email")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/auth/password-security",category:"security"},{name:"leaked_service_key",title:"Leaked Service Key Detected",icon:(0,n.jsx)(i.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/settings/api")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/api/api-keys#the-servicerole-key",category:"security"},{name:"no_backup_admin",title:"No Backup Admin Detected",icon:(0,n.jsx)(i.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/mfa")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/auth/auth-mfa",category:"security"}],v=e=>{let{title:t,projectRef:s,metadata:r}=e,i=y.find(e=>e.name===t);if(!i)return null;let a=i.link({projectRef:s,metadata:r}),o=i.linkText;return(0,n.jsx)(x.$,{asChild:!0,type:"default","data-sentry-element":"Button","data-sentry-component":"LintCTA","data-sentry-source-file":"Linter.utils.tsx",children:(0,n.jsx)(m(),{href:a,target:"_blank",rel:"noreferrer",className:"no-underline","data-sentry-element":"Link","data-sentry-source-file":"Linter.utils.tsx",children:o})})},_=e=>{let{type:t}=e;switch(t){case"table":return(0,n.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1});case"view":return(0,n.jsx)(a.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5});case"auth":return(0,n.jsx)(i.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5});default:return(0,n.jsx)(u.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5})}},b=e=>{var t;let{metadata:s}=e;return null!=(t=s&&(s.entity||s.schema&&s.name&&"".concat(s.schema,".").concat(s.name)))?t:void 0},k=e=>{let{category:t}=e;return(0,n.jsx)(g.E,{variant:"SECURITY"===t?"destructive":"warning",className:"capitalize","data-sentry-element":"Badge","data-sentry-component":"LintCategoryBadge","data-sentry-source-file":"Linter.utils.tsx",children:t.toLowerCase()})},j=e=>{let{level:t}=e,s=t===f.R.ERROR?"errors":"warnings";return(0,n.jsxs)("div",{className:"absolute top-28 px-6 flex flex-col items-center justify-center w-full gap-y-2","data-sentry-component":"NoIssuesFound","data-sentry-source-file":"Linter.utils.tsx",children:[(0,n.jsx)(h.A,{className:"text-foreground-muted",strokeWidth:1,"data-sentry-element":"TextSearch","data-sentry-source-file":"Linter.utils.tsx"}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsxs)("p",{className:"text-foreground",children:["No ",s," detected"]}),(0,n.jsxs)("p",{className:"text-foreground-light",children:["Congrats! There are no ",s," detected for this database"]})]})]})}}}]);